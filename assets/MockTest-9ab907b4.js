var Zs=Object.defineProperty;var tn=(k,e,L)=>e in k?Zs(k,e,{enumerable:!0,configurable:!0,writable:!0,value:L}):k[e]=L;var ee=(k,e,L)=>(tn(k,typeof e!="symbol"?e+"":e,L),L),Oe=(k,e,L)=>{if(!e.has(k))throw TypeError("Cannot "+L)};var t=(k,e,L)=>(Oe(k,e,"read from private field"),L?L.call(k):e.get(k)),U=(k,e,L)=>{if(e.has(k))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(k):e.set(k,L)},rt=(k,e,L,i)=>(Oe(k,e,"write to private field"),i?i.call(k,L):e.set(k,L),L);var me=(k,e,L,i)=>({set _(f){rt(k,e,f,L)},get _(){return t(k,e,i)}}),Y=(k,e,L)=>(Oe(k,e,"access private method"),L);import{r as reactExports,h as generateUtilityClasses,g as generateUtilityClass,s as styled,_ as _extends,k as alpha_1,f as useThemeProps,b as _objectWithoutPropertiesLoose,j as jsxRuntimeExports,d as clsx,a as capitalize,e as composeClasses,n as useParams,m as useSearchParams,B as Box,w as getAugmentedNamespace,q as getDefaultExportFromCjs}from"./index-d5f2bd80.js";import{u as useTestStore}from"./testStore-1ce08146.js";import{r as ButtonGroupContext,s as ButtonGroupButtonContext,c as createSvgIcon,b as useAppStore,B as Button}from"./appStore-49dd24e8.js";import{S as Stack}from"./Stack-2f8eb58a.js";import{T as Typography,A as AppBar,a as Toolbar,I as IconButton,M as Menu,H as Home}from"./ShoppingCartSharp-2b8c7fb8.js";import{A as Avatar,D as Divider}from"./Divider-88646299.js";import{I as Input,T as TextField}from"./TextField-39a9d3de.js";import{S as Snackbar,A as Alert}from"./Snackbar-61c654b8.js";import{u as useMediaQuery,L as LeftDrawer,D as Drawer,E as EmojiEvents}from"./LeftDrawer-82de19d1.js";import{D as Dialog,a as DialogContent}from"./DialogContent-6c3706a6.js";import{D as DialogTitle}from"./DialogTitle-9487af20.js";import{D as DialogActions}from"./DialogActions-1b24b2f2.js";import{T as TableContainer,a as Table,b as TableHead,c as TableRow,d as TableCell,e as TableBody}from"./TableRow-f1f1fdf1.js";import{N as NavBarColor}from"./NavBarColorful-412b920e.js";import{A as ArrowBack}from"./ArrowBack-4d326342.js";import{G as Grid}from"./Grid-5c364079.js";import{C as Card}from"./Card-92f043df.js";import"./InputBase-ae37e126.js";import"./useControlled-ec3c0305.js";import"./react-is.production.min-a192e302.js";import"./Grow-032278c1.js";function _mergeNamespaces(k,e){for(var L=0;L<e.length;L++){const i=e[L];if(typeof i!="string"&&!Array.isArray(i)){for(const f in i)if(f!=="default"&&!(f in k)){const W=Object.getOwnPropertyDescriptor(i,f);W&&Object.defineProperty(k,f,W.get?W:{enumerable:!0,get:()=>i[f]})}}}return Object.freeze(Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}))}function getValidReactChildren(k){return reactExports.Children.toArray(k).filter(e=>reactExports.isValidElement(e))}function getButtonGroupUtilityClass(k){return generateUtilityClass("MuiButtonGroup",k)}const buttonGroupClasses=generateUtilityClasses("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),buttonGroupClasses$1=buttonGroupClasses,_excluded=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],overridesResolver=(k,e)=>{const{ownerState:L}=k;return[{[`& .${buttonGroupClasses$1.grouped}`]:e.grouped},{[`& .${buttonGroupClasses$1.grouped}`]:e[`grouped${capitalize(L.orientation)}`]},{[`& .${buttonGroupClasses$1.grouped}`]:e[`grouped${capitalize(L.variant)}`]},{[`& .${buttonGroupClasses$1.grouped}`]:e[`grouped${capitalize(L.variant)}${capitalize(L.orientation)}`]},{[`& .${buttonGroupClasses$1.grouped}`]:e[`grouped${capitalize(L.variant)}${capitalize(L.color)}`]},{[`& .${buttonGroupClasses$1.firstButton}`]:e.firstButton},{[`& .${buttonGroupClasses$1.lastButton}`]:e.lastButton},{[`& .${buttonGroupClasses$1.middleButton}`]:e.middleButton},e.root,e[L.variant],L.disableElevation===!0&&e.disableElevation,L.fullWidth&&e.fullWidth,L.orientation==="vertical"&&e.vertical]},useUtilityClasses=k=>{const{classes:e,color:L,disabled:i,disableElevation:f,fullWidth:W,orientation:O,variant:ot}=k,b={root:["root",ot,O==="vertical"&&"vertical",W&&"fullWidth",f&&"disableElevation"],grouped:["grouped",`grouped${capitalize(O)}`,`grouped${capitalize(ot)}`,`grouped${capitalize(ot)}${capitalize(O)}`,`grouped${capitalize(ot)}${capitalize(L)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return composeClasses(b,getButtonGroupUtilityClass,e)},ButtonGroupRoot=styled("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver})(({theme:k,ownerState:e})=>_extends({display:"inline-flex",borderRadius:(k.vars||k).shape.borderRadius},e.variant==="contained"&&{boxShadow:(k.vars||k).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{[`& .${buttonGroupClasses$1.grouped}`]:_extends({minWidth:40,"&:hover":_extends({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),[`& .${buttonGroupClasses$1.firstButton},& .${buttonGroupClasses$1.middleButton}`]:_extends({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:k.vars?`1px solid rgba(${k.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${k.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${buttonGroupClasses$1.disabled}`]:{borderRight:`1px solid ${(k.vars||k).palette.action.disabled}`}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:k.vars?`1px solid rgba(${k.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${k.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${buttonGroupClasses$1.disabled}`]:{borderBottom:`1px solid ${(k.vars||k).palette.action.disabled}`}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:k.vars?`rgba(${k.vars.palette[e.color].mainChannel} / 0.5)`:alpha_1(k.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${(k.vars||k).palette.grey[400]}`,[`&.${buttonGroupClasses$1.disabled}`]:{borderRight:`1px solid ${(k.vars||k).palette.action.disabled}`}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${(k.vars||k).palette.grey[400]}`,[`&.${buttonGroupClasses$1.disabled}`]:{borderBottom:`1px solid ${(k.vars||k).palette.action.disabled}`}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(k.vars||k).palette[e.color].dark},{"&:hover":_extends({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),[`& .${buttonGroupClasses$1.lastButton},& .${buttonGroupClasses$1.middleButton}`]:_extends({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),ButtonGroup=reactExports.forwardRef(function(e,L){const i=useThemeProps({props:e,name:"MuiButtonGroup"}),{children:f,className:W,color:O="primary",component:ot="div",disabled:b=!1,disableElevation:R=!1,disableFocusRipple:l=!1,disableRipple:I=!1,fullWidth:P=!1,orientation:w="horizontal",size:_="medium",variant:A="outlined"}=i,m=_objectWithoutPropertiesLoose(i,_excluded),y=_extends({},i,{color:O,component:ot,disabled:b,disableElevation:R,disableFocusRipple:l,disableRipple:I,fullWidth:P,orientation:w,size:_,variant:A}),C=useUtilityClasses(y),x=reactExports.useMemo(()=>({className:C.grouped,color:O,disabled:b,disableElevation:R,disableFocusRipple:l,disableRipple:I,fullWidth:P,size:_,variant:A}),[O,b,R,l,I,P,_,A,C.grouped]),u=getValidReactChildren(f),a=u.length,h=M=>{const E=M===0,c=M===a-1;return E&&c?"":E?C.firstButton:c?C.lastButton:C.middleButton};return jsxRuntimeExports.jsx(ButtonGroupRoot,_extends({as:ot,role:"group",className:clsx(C.root,W),ref:L,ownerState:y},m,{children:jsxRuntimeExports.jsx(ButtonGroupContext.Provider,{value:x,children:u.map((M,E)=>jsxRuntimeExports.jsx(ButtonGroupButtonContext.Provider,{value:h(E),children:M},E))})}))}),ButtonGroup$1=ButtonGroup,ArrowForward=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),CancelRounded=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm4.3 14.3c-.39.39-1.02.39-1.41 0L12 13.41 9.11 16.3c-.39.39-1.02.39-1.41 0a.9959.9959 0 0 1 0-1.41L10.59 12 7.7 9.11a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L12 10.59l2.89-2.89c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41L13.41 12l2.89 2.89c.38.38.38 1.02 0 1.41z"}),"CancelRounded"),CheckCircle=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),Keyboard=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"}),"Keyboard"),Lock=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock"),Person=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),RemoveRedEye=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye"),Password=()=>{const{edu:k}=useParams(),[e]=useSearchParams(),L=e.get("t"),i=e.get("n"),{uEmail:f}=useAppStore(),[W,O]=reactExports.useState(f),ot=y=>{O(y.target.value)},[b,R]=reactExports.useState(""),l=y=>{R(y.target.value)},[I,P]=reactExports.useState(!1),w=()=>P(!1),{setExamParams:_,setUserDetails:A}=useTestStore(),m=async()=>{const y=await fetch(`./examiner/${k}/${L}.json`);if(y.ok){const C=await y.json();_(C),A(i,W,b)}else P(!0)};return jsxRuntimeExports.jsxs(Box,{width:"100%",children:[jsxRuntimeExports.jsx(Box,{bgcolor:"#2d70b6",height:40}),jsxRuntimeExports.jsxs(Stack,{bgcolor:"#666",direction:"row",flexWrap:"nowrap",justifyContent:"space-between",border:2,borderColor:"#666",display:{xs:"none",sm:"flex"},children:[jsxRuntimeExports.jsxs(Stack,{color:"#fff",p:2,direction:"row",flexWrap:"nowrap",justifyContent:"space-between",flexGrow:1,children:[jsxRuntimeExports.jsxs(Box,{width:"50%",children:[jsxRuntimeExports.jsx(Typography,{children:"System Name :"}),jsxRuntimeExports.jsx(Typography,{color:"#ff0",fontSize:"3rem",children:"C001"}),jsxRuntimeExports.jsx(Typography,{children:"Kindly contact the invigilator if there are any discrepancies in the Name and Photograph displayed on the screen or if the photograph is not yours"})]}),jsxRuntimeExports.jsxs(Box,{width:"50%",children:[jsxRuntimeExports.jsx(Typography,{align:"right",children:"Candidate Name :"}),jsxRuntimeExports.jsx(Typography,{align:"right",color:"#ff0",fontSize:"3rem",children:i||"John Smith"}),jsxRuntimeExports.jsxs(Typography,{align:"right",children:["Subject : ",jsxRuntimeExports.jsx("span",{style:{color:"#ff0"},children:"Mock Exam"})]})]})]}),jsxRuntimeExports.jsx(Box,{minWidth:"8rem",bgcolor:"#fff",sx:{backgroundImage:"url(./image/user.svg)",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),jsxRuntimeExports.jsx(Box,{pt:"10dvh",px:1,children:jsxRuntimeExports.jsxs(Box,{maxWidth:370,mx:"auto",flexGrow:1,children:[jsxRuntimeExports.jsx(Typography,{fontSize:"0.8rem",bgcolor:"#ddd",sx:{borderTopRightRadius:5,borderTopLeftRadius:5},fontWeight:"bold",px:2,py:1,color:"#444",children:"Login"}),jsxRuntimeExports.jsx(Box,{p:2,backgroundColor:"#f5f5f5",border:1,borderColor:"#dbdbdb",sx:{borderBottomRightRadius:5,borderBottomLeftRadius:5},children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Stack,{border:2,direction:"row",alignContent:"stretch",flexWrap:"nowrap",justifyContent:"space-between",borderRadius:1,borderColor:"#dbdbdb",mb:2,children:[jsxRuntimeExports.jsx(Avatar,{variant:"square",sx:{backgroundColor:"#eee"},children:jsxRuntimeExports.jsx(Person,{sx:{color:"#666"}})}),jsxRuntimeExports.jsx(Stack,{direction:"row",flexGrow:1,borderLeft:2,borderRight:2,pl:2,borderColor:"#dbdbdb",children:jsxRuntimeExports.jsx(Input,{disableUnderline:!0,fullWidth:!0,placeholder:"User ID here",value:W,sx:{borderColor:"#dbdbdb",color:"GrayText"},onChange:ot})}),jsxRuntimeExports.jsx(Avatar,{variant:"square",sx:{backgroundColor:"#eee"},children:jsxRuntimeExports.jsx(Keyboard,{sx:{color:"#666"}})})]}),jsxRuntimeExports.jsxs(Stack,{border:2,direction:"row",alignContent:"stretch",flexWrap:"nowrap",justifyContent:"space-between",borderRadius:1,borderColor:"#dbdbdb",mb:2,children:[jsxRuntimeExports.jsx(Avatar,{variant:"square",sx:{backgroundColor:"#eee"},children:jsxRuntimeExports.jsx(Lock,{sx:{color:"#666"}})}),jsxRuntimeExports.jsx(Stack,{direction:"row",flexGrow:1,borderLeft:2,borderRight:2,pl:2,borderColor:"#dbdbdb",children:jsxRuntimeExports.jsx(Input,{disableUnderline:!0,type:"password",fullWidth:!0,placeholder:"Password here",value:b,sx:{borderColor:"#dbdbdb",color:"GrayText"},onChange:l})}),jsxRuntimeExports.jsx(Avatar,{variant:"square",sx:{backgroundColor:"#eee"},children:jsxRuntimeExports.jsx(Keyboard,{sx:{color:"#666"}})})]}),jsxRuntimeExports.jsx(Button,{variant:"contained",sx:{marginTop:"20px"},onClick:m,children:"Sign In"})]})})]})}),jsxRuntimeExports.jsx(Box,{bgcolor:"#617b8c",textAlign:"center",color:"#fff",py:.2,fontSize:"small",position:"absolute",bottom:0,width:"100%",children:"Version 00.00.01"}),jsxRuntimeExports.jsx(Snackbar,{open:I,anchorOrigin:{horizontal:"center",vertical:"bottom"},autoHideDuration:3e3,onClose:w,children:jsxRuntimeExports.jsx(Alert,{severity:"error",elevation:6,variant:"filled",children:"Something went Wrong !!"})})]})},MockTest_Instruction="";function Instruction(){const k=useMediaQuery("(min-width:600px)"),[e,L]=reactExports.useState(!1),i=reactExports.useRef(null),f=()=>{L(!0)},W=()=>{L(!1)},{examParams:O,setPage:ot}=useTestStore(),b=()=>{i.current.checked?(ot(k?2:5),document.getElementsByTagName("body")[0].requestFullscreen()):f()};return jsxRuntimeExports.jsxs("div",{id:"instructionpage",className:"l",children:[jsxRuntimeExports.jsx("h3",{className:"l1",children:"Please read the instructions carefully"}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("br",{})}),jsxRuntimeExports.jsx("h4",{children:jsxRuntimeExports.jsx("u",{children:"General Instructions:"})}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("br",{})}),jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsxs("li",{children:["Total duration of ",O.meta.eName," - ",O.meta.tName," exam is ",O.meta.timeMinutes," min."]}),jsxRuntimeExports.jsx("li",{children:"The clock will be set at the server. The countdown timer in the top left corner of screen will display the remaining time available for you to complete the examination. When the timer reaches zero, the examination will end by itself. You will not be required to end or submit your examination."}),jsxRuntimeExports.jsxs("li",{children:["The Questions Palette displayed on the right side of screen will show the status of each question using one of the following symbols:",jsxRuntimeExports.jsxs("ol",{children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("img",{src:"./image/Logo1.png",className:"l2"})," You have not visited the question yet."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("img",{src:"./image/Logo2.png",className:"l2"})," You have not answered the question."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("img",{src:"./image/Logo3.png",className:"l2"})," You have answered the question."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("img",{src:"./image/Logo4.png",className:"l2"})," You have NOT answered the question, but have marked the question for review."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("img",{src:"./image/Logo5.png",className:"l2"}),' The question(s) "Answered and Marked for Review" will be considered for evalution.']})]})]}),jsxRuntimeExports.jsx("li",{children:'You can click on the ">" arrow which apperes to the left of question palette to collapse the question palette thereby maximizing the question window. To view the question palette again, you can click on "<" which appears on the right side of question window.'}),jsxRuntimeExports.jsx("li",{children:'You can click on your "Profile" image on top right corner of your screen to change the language during the exam for entire question paper. On clicking of Profile image you will get a drop-down to change the question content to the desired language.'}),jsxRuntimeExports.jsxs("li",{children:["You can click on ",jsxRuntimeExports.jsxs("svg",{version:"1.1",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",width:30,style:{verticalAlign:"middle"},children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#44f"}),jsxRuntimeExports.jsx("path",{d:"m17.575 4.0336-.24009 20.602-3.3133-4.3701-4.0816 3.3136 10.084 10.997 10.372-11.286-3.9856-3.1215-3.7455 4.8984c-.048018-6.9954-.096037-13.991-.14406-20.986z",fill:"#fff"})]})," to navigate to the bottom and ",jsxRuntimeExports.jsxs("svg",{version:"1.1",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",width:30,style:{verticalAlign:"middle"},children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#44f"}),jsxRuntimeExports.jsx("path",{d:"m22.761 34.577.24009-20.602 3.3133 4.3701 4.0816-3.3136-10.084-10.997-10.372 11.286 3.9856 3.1215 3.7455-4.8984c.04802 6.9954.09604 13.991.14406 20.986z",fill:"#fff"})]})," to navigate to top of the question are, without scrolling."]})]}),jsxRuntimeExports.jsx("h4",{children:jsxRuntimeExports.jsx("u",{children:"Navigating to a Question:"})}),jsxRuntimeExports.jsx("ol",{start:"7",children:jsxRuntimeExports.jsxs("li",{children:["To answer a question, do the following:",jsxRuntimeExports.jsxs("ol",{type:"a",children:[jsxRuntimeExports.jsx("li",{children:"Click on the question number in the Question Palette at the right of your screen to go to that numbered question directly. Note that using this option does NOT save your answer to the current question."}),jsxRuntimeExports.jsxs("li",{children:["Click on ",jsxRuntimeExports.jsx("strong",{children:"Save & Next"})," to save your answer for the current question and then go to the next question."]}),jsxRuntimeExports.jsxs("li",{children:["Click on ",jsxRuntimeExports.jsx("strong",{children:"Mark for Review & Next"})," to save your answer for the current question, mark it for review, and then go to the next question."]})]})]})}),jsxRuntimeExports.jsx("h4",{children:jsxRuntimeExports.jsx("u",{children:"Answering a Question:"})}),jsxRuntimeExports.jsxs("ol",{start:"8",children:[jsxRuntimeExports.jsxs("li",{children:["Procedure for answering a multiple choice type question:",jsxRuntimeExports.jsxs("ol",{type:"a",children:[jsxRuntimeExports.jsx("li",{children:"To select you answer, click on the button of one of the options."}),jsxRuntimeExports.jsxs("li",{children:["To deselect your chosen answer, click on the button of the chosen option again or click on the ",jsxRuntimeExports.jsx("strong",{children:"Clear Response"})," button"]}),jsxRuntimeExports.jsx("li",{children:"To change your chosen answer, click on the button of another option"}),jsxRuntimeExports.jsx("li",{children:"To save your answer, you MUST click on the Save & Next button."}),jsxRuntimeExports.jsx("li",{children:"To mark the question for review, click on the Mark for Review & Next button."})]})]}),jsxRuntimeExports.jsx("li",{children:"To change your answer to a question that has already been answered, first select that question for answering and then follow the procedure for answering that type of question."})]}),jsxRuntimeExports.jsx("h4",{children:jsxRuntimeExports.jsx("u",{children:"Navigating through sections:"})}),jsxRuntimeExports.jsxs("ol",{start:"10",children:[jsxRuntimeExports.jsx("li",{children:"Sections in this question paper are displayed on the top bar of the screen. Questions in a section can be viewed by click on the section name. The section you are currently viewing is highlighted."}),jsxRuntimeExports.jsx("li",{children:"After click the Save & Next button on the last question for a section, you will automatically be taken to the first question of the next section."}),jsxRuntimeExports.jsx("li",{children:"You can shuffle between sections and questions anything during the examination as per your convenience only during the time stipulated."}),jsxRuntimeExports.jsx("li",{children:"Candidate can view the corresponding section summery as part of the legend that appears in every section above the question palette."})]}),jsxRuntimeExports.jsx("h4",{className:"l3",children:"Please note all questions will appear in your default language. This language can be changed for a particular question later on."}),jsxRuntimeExports.jsx("input",{type:"checkbox",id:"terms",ref:i}),jsxRuntimeExports.jsx("label",{htmlFor:"terms",children:"  I have read and understood the instructions. All computer hardware allotted to me are in proper working condition. I declare that I am not in possession of / not wearing / not carrying any prohibited gadget like mobile phone, bluetooth devices etc. / any prohibited material with me into the Examination Hall.I agree that in case of not adhering to the instructions, I shall be liable to be debarred from this Test and/or to disciplinary action, which may include ban from future Tests / Examinations."}),jsxRuntimeExports.jsx("p",{className:"lo",onClick:b,children:"PROCEED"}),jsxRuntimeExports.jsxs(Dialog,{open:e,onClose:W,children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Please check Terms and Conditions and then proceed"}),jsxRuntimeExports.jsx(DialogActions,{children:jsxRuntimeExports.jsx(Button,{onClick:W,autoFocus:!0,children:"OK"})})]})]})}function commonjsRequire(k){throw new Error('Could not dynamically require "'+k+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,L){module.exports=e.pdfjsLib=L()})(globalThis,()=>(()=>{var __webpack_modules__=[,(k,e)=>{var Xt;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=ht,e.bytesToString=G,e.createValidAbsoluteUrl=_t,e.getModificationDate=wt,e.getUuid=zt,e.getVerbosityLevel=q,e.info=st,e.isArrayBuffer=ft,e.isArrayEqual=Rt,e.isNodeJS=void 0,e.normalizeUnicode=Gt,e.objectFromMap=dt,e.objectSize=lt,e.setVerbosityLevel=T,e.shadow=X,e.string32=J,e.stringToBytes=it,e.stringToPDFString=xt,e.stringToUTF8String=nt,e.unreachable=$,e.utf8StringToString=tt,e.warn=at;const L=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=L;const i=[1,0,0,1,0,0];e.IDENTITY_MATRIX=i;const f=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=f;const W=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=W;const O=1.35;e.LINE_FACTOR=O;const ot=.35;e.LINE_DESCENT_FACTOR=ot;const b=ot/O;e.BASELINE_FACTOR=b;const R={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=R;const l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=l;const I="pdfjs_internal_editor_";e.AnnotationEditorPrefix=I;const P={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=P;const w={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=w;const _={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=_;const A={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=A;const m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=m;const y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=y;const C={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=C;const x={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=x;const u={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=u;const a={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=a;const h={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=h;const M={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=M;const E={O:"PageOpen",C:"PageClose"};e.PageActionEventType=E;const c={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=c;const F={NONE:0,BINARY:1};e.CMapCompressionType=F;const g={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=g;const H={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=H;let z=c.WARNINGS;function T(pt){Number.isInteger(pt)&&(z=pt)}function q(){return z}function st(pt){z>=c.INFOS&&console.log(`Info: ${pt}`)}function at(pt){z>=c.WARNINGS&&console.log(`Warning: ${pt}`)}function $(pt){throw new Error(pt)}function ht(pt,et){pt||$(et)}function gt(pt){switch(pt==null?void 0:pt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _t(pt,et=null,K=null){if(!pt)return null;try{if(K&&typeof pt=="string"){if(K.addDefaultProtocol&&pt.startsWith("www.")){const vt=pt.match(/\./g);(vt==null?void 0:vt.length)>=2&&(pt=`http://${pt}`)}if(K.tryConvertEncoding)try{pt=nt(pt)}catch{}}const Et=et?new URL(pt,et):new URL(pt);if(gt(Et))return Et}catch{}return null}function X(pt,et,K,Et=!1){return Object.defineProperty(pt,et,{value:K,enumerable:!Et,configurable:!0,writable:!1}),K}const v=function(){function et(K,Et){this.constructor===et&&$("Cannot initialize BaseException."),this.message=K,this.name=Et}return et.prototype=new Error,et.constructor=et,et}();e.BaseException=v;class n extends v{constructor(et,K){super(et,"PasswordException"),this.code=K}}e.PasswordException=n;class o extends v{constructor(et,K){super(et,"UnknownErrorException"),this.details=K}}e.UnknownErrorException=o;class r extends v{constructor(et){super(et,"InvalidPDFException")}}e.InvalidPDFException=r;class d extends v{constructor(et){super(et,"MissingPDFException")}}e.MissingPDFException=d;class p extends v{constructor(et,K){super(et,"UnexpectedResponseException"),this.status=K}}e.UnexpectedResponseException=p;class j extends v{constructor(et){super(et,"FormatError")}}e.FormatError=j;class D extends v{constructor(et){super(et,"AbortException")}}e.AbortException=D;function G(pt){(typeof pt!="object"||(pt==null?void 0:pt.length)===void 0)&&$("Invalid argument for bytesToString");const et=pt.length,K=8192;if(et<K)return String.fromCharCode.apply(null,pt);const Et=[];for(let vt=0;vt<et;vt+=K){const te=Math.min(vt+K,et),Zt=pt.subarray(vt,te);Et.push(String.fromCharCode.apply(null,Zt))}return Et.join("")}function it(pt){typeof pt!="string"&&$("Invalid argument for stringToBytes");const et=pt.length,K=new Uint8Array(et);for(let Et=0;Et<et;++Et)K[Et]=pt.charCodeAt(Et)&255;return K}function J(pt){return String.fromCharCode(pt>>24&255,pt>>16&255,pt>>8&255,pt&255)}function lt(pt){return Object.keys(pt).length}function dt(pt){const et=Object.create(null);for(const[K,Et]of pt)et[K]=Et;return et}function mt(){const pt=new Uint8Array(4);return pt[0]=1,new Uint32Array(pt.buffer,0,1)[0]===1}function ut(){try{return new Function(""),!0}catch{return!1}}class Ct{static get isLittleEndian(){return X(this,"isLittleEndian",mt())}static get isEvalSupported(){return X(this,"isEvalSupported",ut())}static get isOffscreenCanvasSupported(){return X(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?X(this,"platform",{isWin:!1,isMac:!1}):X(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var et,K;return X(this,"isCSSRoundSupported",(K=(et=globalThis.CSS)==null?void 0:et.supports)==null?void 0:K.call(et,"width: round(1.5px, 1px)"))}}e.FeatureTest=Ct;const Dt=[...Array(256).keys()].map(pt=>pt.toString(16).padStart(2,"0"));class At{static makeHexColor(et,K,Et){return`#${Dt[et]}${Dt[K]}${Dt[Et]}`}static scaleMinMax(et,K){let Et;et[0]?(et[0]<0&&(Et=K[0],K[0]=K[1],K[1]=Et),K[0]*=et[0],K[1]*=et[0],et[3]<0&&(Et=K[2],K[2]=K[3],K[3]=Et),K[2]*=et[3],K[3]*=et[3]):(Et=K[0],K[0]=K[2],K[2]=Et,Et=K[1],K[1]=K[3],K[3]=Et,et[1]<0&&(Et=K[2],K[2]=K[3],K[3]=Et),K[2]*=et[1],K[3]*=et[1],et[2]<0&&(Et=K[0],K[0]=K[1],K[1]=Et),K[0]*=et[2],K[1]*=et[2]),K[0]+=et[4],K[1]+=et[4],K[2]+=et[5],K[3]+=et[5]}static transform(et,K){return[et[0]*K[0]+et[2]*K[1],et[1]*K[0]+et[3]*K[1],et[0]*K[2]+et[2]*K[3],et[1]*K[2]+et[3]*K[3],et[0]*K[4]+et[2]*K[5]+et[4],et[1]*K[4]+et[3]*K[5]+et[5]]}static applyTransform(et,K){const Et=et[0]*K[0]+et[1]*K[2]+K[4],vt=et[0]*K[1]+et[1]*K[3]+K[5];return[Et,vt]}static applyInverseTransform(et,K){const Et=K[0]*K[3]-K[1]*K[2],vt=(et[0]*K[3]-et[1]*K[2]+K[2]*K[5]-K[4]*K[3])/Et,te=(-et[0]*K[1]+et[1]*K[0]+K[4]*K[1]-K[5]*K[0])/Et;return[vt,te]}static getAxialAlignedBoundingBox(et,K){const Et=this.applyTransform(et,K),vt=this.applyTransform(et.slice(2,4),K),te=this.applyTransform([et[0],et[3]],K),Zt=this.applyTransform([et[2],et[1]],K);return[Math.min(Et[0],vt[0],te[0],Zt[0]),Math.min(Et[1],vt[1],te[1],Zt[1]),Math.max(Et[0],vt[0],te[0],Zt[0]),Math.max(Et[1],vt[1],te[1],Zt[1])]}static inverseTransform(et){const K=et[0]*et[3]-et[1]*et[2];return[et[3]/K,-et[1]/K,-et[2]/K,et[0]/K,(et[2]*et[5]-et[4]*et[3])/K,(et[4]*et[1]-et[5]*et[0])/K]}static singularValueDecompose2dScale(et){const K=[et[0],et[2],et[1],et[3]],Et=et[0]*K[0]+et[1]*K[2],vt=et[0]*K[1]+et[1]*K[3],te=et[2]*K[0]+et[3]*K[2],Zt=et[2]*K[1]+et[3]*K[3],Z=(Et+Zt)/2,St=Math.sqrt((Et+Zt)**2-4*(Et*Zt-te*vt))/2,It=Z+St||1,Tt=Z-St||1;return[Math.sqrt(It),Math.sqrt(Tt)]}static normalizeRect(et){const K=et.slice(0);return et[0]>et[2]&&(K[0]=et[2],K[2]=et[0]),et[1]>et[3]&&(K[1]=et[3],K[3]=et[1]),K}static intersect(et,K){const Et=Math.max(Math.min(et[0],et[2]),Math.min(K[0],K[2])),vt=Math.min(Math.max(et[0],et[2]),Math.max(K[0],K[2]));if(Et>vt)return null;const te=Math.max(Math.min(et[1],et[3]),Math.min(K[1],K[3])),Zt=Math.min(Math.max(et[1],et[3]),Math.max(K[1],K[3]));return te>Zt?null:[Et,te,vt,Zt]}static bezierBoundingBox(et,K,Et,vt,te,Zt,Z,St){const It=[],Tt=[[],[]];let Ot,Nt,Qt,yt,Yt,Lt,N,s;for(let Q=0;Q<2;++Q){if(Q===0?(Nt=6*et-12*Et+6*te,Ot=-3*et+9*Et-9*te+3*Z,Qt=3*Et-3*et):(Nt=6*K-12*vt+6*Zt,Ot=-3*K+9*vt-9*Zt+3*St,Qt=3*vt-3*K),Math.abs(Ot)<1e-12){if(Math.abs(Nt)<1e-12)continue;yt=-Qt/Nt,0<yt&&yt<1&&It.push(yt);continue}N=Nt*Nt-4*Qt*Ot,s=Math.sqrt(N),!(N<0)&&(Yt=(-Nt+s)/(2*Ot),0<Yt&&Yt<1&&It.push(Yt),Lt=(-Nt-s)/(2*Ot),0<Lt&&Lt<1&&It.push(Lt))}let S=It.length,B;const V=S;for(;S--;)yt=It[S],B=1-yt,Tt[0][S]=B*B*B*et+3*B*B*yt*Et+3*B*yt*yt*te+yt*yt*yt*Z,Tt[1][S]=B*B*B*K+3*B*B*yt*vt+3*B*yt*yt*Zt+yt*yt*yt*St;return Tt[0][V]=et,Tt[1][V]=K,Tt[0][V+1]=Z,Tt[1][V+1]=St,Tt[0].length=Tt[1].length=V+2,[Math.min(...Tt[0]),Math.min(...Tt[1]),Math.max(...Tt[0]),Math.max(...Tt[1])]}}e.Util=At;const Mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xt(pt){if(pt[0]>="ï"){let K;if(pt[0]==="þ"&&pt[1]==="ÿ"?K="utf-16be":pt[0]==="ÿ"&&pt[1]==="þ"?K="utf-16le":pt[0]==="ï"&&pt[1]==="»"&&pt[2]==="¿"&&(K="utf-8"),K)try{const Et=new TextDecoder(K,{fatal:!0}),vt=it(pt);return Et.decode(vt)}catch(Et){at(`stringToPDFString: "${Et}".`)}}const et=[];for(let K=0,Et=pt.length;K<Et;K++){const vt=Mt[pt.charCodeAt(K)];et.push(vt?String.fromCharCode(vt):pt.charAt(K))}return et.join("")}function nt(pt){return decodeURIComponent(escape(pt))}function tt(pt){return unescape(encodeURIComponent(pt))}function ft(pt){return typeof pt=="object"&&(pt==null?void 0:pt.byteLength)!==void 0}function Rt(pt,et){if(pt.length!==et.length)return!1;for(let K=0,Et=pt.length;K<Et;K++)if(pt[K]!==et[K])return!1;return!0}function wt(pt=new Date){return[pt.getUTCFullYear().toString(),(pt.getUTCMonth()+1).toString().padStart(2,"0"),pt.getUTCDate().toString().padStart(2,"0"),pt.getUTCHours().toString().padStart(2,"0"),pt.getUTCMinutes().toString().padStart(2,"0"),pt.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ut{constructor(){U(this,Xt,!1);this.promise=new Promise((et,K)=>{this.resolve=Et=>{rt(this,Xt,!0),et(Et)},this.reject=Et=>{rt(this,Xt,!0),K(Et)}})}get settled(){return t(this,Xt)}}Xt=new WeakMap,e.PromiseCapability=Ut;let $t=null,Wt=null;function Gt(pt){return $t||($t=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Wt=new Map([["ﬅ","ſt"]])),pt.replaceAll($t,(et,K,Et)=>K?K.normalize("NFKC"):Wt.get(Et))}function zt(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const pt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(pt);else for(let et=0;et<32;et++)pt[et]=Math.floor(Math.random()*255);return G(pt)}const Bt="pdfjs_internal_id_";e.AnnotationPrefix=Bt},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var k,L,i,f,he,O,_e,b,R,l,I,P,w,_,A,m,Se,C,x,Ne,a,h;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(E){if(typeof E=="string"||E instanceof URL?E={url:E}:(0,_util.isArrayBuffer)(E)&&(E={data:E}),typeof E!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!E.url&&!E.data&&!E.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const c=new PDFDocumentLoadingTask,{docId:F}=c,g=E.url?getUrlProp(E.url):null,H=E.data?getDataProp(E.data):null,z=E.httpHeaders||null,T=E.withCredentials===!0,q=E.password??null,st=E.range instanceof PDFDataRangeTransport?E.range:null,at=Number.isInteger(E.rangeChunkSize)&&E.rangeChunkSize>0?E.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let $=E.worker instanceof PDFWorker?E.worker:null;const ht=E.verbosity,gt=typeof E.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(E.docBaseUrl)?E.docBaseUrl:null,_t=typeof E.cMapUrl=="string"?E.cMapUrl:null,X=E.cMapPacked!==!1,v=E.CMapReaderFactory||DefaultCMapReaderFactory,n=typeof E.standardFontDataUrl=="string"?E.standardFontDataUrl:null,o=E.StandardFontDataFactory||DefaultStandardFontDataFactory,r=E.stopAtErrors!==!0,d=Number.isInteger(E.maxImageSize)&&E.maxImageSize>-1?E.maxImageSize:-1,p=E.isEvalSupported!==!1,j=typeof E.isOffscreenCanvasSupported=="boolean"?E.isOffscreenCanvasSupported:!_util.isNodeJS,D=Number.isInteger(E.canvasMaxAreaInBytes)?E.canvasMaxAreaInBytes:-1,G=typeof E.disableFontFace=="boolean"?E.disableFontFace:_util.isNodeJS,it=E.fontExtraProperties===!0,J=E.enableXfa===!0,lt=E.ownerDocument||globalThis.document,dt=E.disableRange===!0,mt=E.disableStream===!0,ut=E.disableAutoFetch===!0,Ct=E.pdfBug===!0,Dt=st?st.length:E.length??NaN,At=typeof E.useSystemFonts=="boolean"?E.useSystemFonts:!_util.isNodeJS&&!G,Mt=typeof E.useWorkerFetch=="boolean"?E.useWorkerFetch:v===_display_utils.DOMCMapReaderFactory&&o===_display_utils.DOMStandardFontDataFactory&&_t&&n&&(0,_display_utils.isValidFetchUrl)(_t,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(n,document.baseURI),xt=E.canvasFactory||new DefaultCanvasFactory({ownerDocument:lt}),nt=E.filterFactory||new DefaultFilterFactory({docId:F,ownerDocument:lt}),tt=null;(0,_util.setVerbosityLevel)(ht);const ft={canvasFactory:xt,filterFactory:nt};if(Mt||(ft.cMapReaderFactory=new v({baseUrl:_t,isCompressed:X}),ft.standardFontDataFactory=new o({baseUrl:n})),!$){const Ut={verbosity:ht,port:_worker_options.GlobalWorkerOptions.workerPort};$=Ut.port?PDFWorker.fromPort(Ut):new PDFWorker(Ut),c._worker=$}const Rt={docId:F,apiVersion:"3.11.174",data:H,password:q,disableAutoFetch:ut,rangeChunkSize:at,length:Dt,docBaseUrl:gt,enableXfa:J,evaluatorOptions:{maxImageSize:d,disableFontFace:G,ignoreErrors:r,isEvalSupported:p,isOffscreenCanvasSupported:j,canvasMaxAreaInBytes:D,fontExtraProperties:it,useSystemFonts:At,cMapUrl:Mt?_t:null,standardFontDataUrl:Mt?n:null}},wt={ignoreErrors:r,isEvalSupported:p,disableFontFace:G,fontExtraProperties:it,enableXfa:J,ownerDocument:lt,disableAutoFetch:ut,pdfBug:Ct,styleElement:tt};return $.promise.then(function(){if(c.destroyed)throw new Error("Loading aborted");const Ut=_fetchDocument($,Rt),$t=new Promise(function(Wt){let Gt;st?Gt=new _transport_stream.PDFDataTransportStream({length:Dt,initialData:st.initialData,progressiveDone:st.progressiveDone,contentDispositionFilename:st.contentDispositionFilename,disableRange:dt,disableStream:mt},st):H||(Gt=(Bt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Bt):(0,_display_utils.isValidFetchUrl)(Bt.url)?new _displayFetch_stream.PDFFetchStream(Bt):new _displayNetwork.PDFNetworkStream(Bt))({url:g,length:Dt,httpHeaders:z,withCredentials:T,rangeChunkSize:at,disableRange:dt,disableStream:mt})),Wt(Gt)});return Promise.all([Ut,$t]).then(function([Wt,Gt]){if(c.destroyed)throw new Error("Loading aborted");const zt=new _message_handler.MessageHandler(F,Wt,$.port),Bt=new WorkerTransport(zt,c,Gt,wt,ft);c._transport=Bt,zt.send("Ready",null)})}).catch(c._capability.reject),c}async function _fetchDocument(E,c){if(E.destroyed)throw new Error("Worker was destroyed");const F=await E.messageHandler.sendWithPromise("GetDocRequest",c,c.data?[c.data.buffer]:null);if(E.destroyed)throw new Error("Worker was destroyed");return F}function getUrlProp(E){if(E instanceof URL)return E.href;try{return new URL(E,window.location).href}catch{if(_util.isNodeJS&&typeof E=="string")return E}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(E){if(_util.isNodeJS&&typeof Buffer<"u"&&E instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(E instanceof Uint8Array&&E.byteLength===E.buffer.byteLength)return E;if(typeof E=="string")return(0,_util.stringToBytes)(E);if(typeof E=="object"&&!isNaN(E==null?void 0:E.length)||(0,_util.isArrayBuffer)(E))return new Uint8Array(E);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${me(e,k)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var c,F,g;this.destroyed=!0;try{(c=this._worker)!=null&&c.port&&(this._worker._pendingDestroy=!0),await((F=this._transport)==null?void 0:F.destroy())}catch(H){throw(g=this._worker)!=null&&g.port&&delete this._worker._pendingDestroy,H}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};k=new WeakMap,U(e,k,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(c,F,g=!1,H=null){this.length=c,this.initialData=F,this.progressiveDone=g,this.contentDispositionFilename=H,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(c){this._rangeListeners.push(c)}addProgressListener(c){this._progressListeners.push(c)}addProgressiveReadListener(c){this._progressiveReadListeners.push(c)}addProgressiveDoneListener(c){this._progressiveDoneListeners.push(c)}onDataRange(c,F){for(const g of this._rangeListeners)g(c,F)}onDataProgress(c,F){this._readyCapability.promise.then(()=>{for(const g of this._progressListeners)g(c,F)})}onDataProgressiveRead(c){this._readyCapability.promise.then(()=>{for(const F of this._progressiveReadListeners)F(c)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const c of this._progressiveDoneListeners)c()})}transportReady(){this._readyCapability.resolve()}requestDataRange(c,F){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(c,F){this._pdfInfo=c,this._transport=F,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(g=>{if(!g)return g;const H=[];for(const z in g)H.push(...g[z]);return H}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(c){return this._transport.getPage(c)}getPageIndex(c){return this._transport.getPageIndex(c)}getDestinations(){return this._transport.getDestinations()}getDestination(c){return this._transport.getDestination(c)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(c=!1){return this._transport.startCleanup(c||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(c,F,g,H=!1){U(this,f);U(this,O);U(this,L,null);U(this,i,!1);this._pageIndex=c,this._pageInfo=F,this._transport=g,this._stats=H?new _display_utils.StatTimer:null,this._pdfBug=H,this.commonObjs=g.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:c,rotation:F=this.rotate,offsetX:g=0,offsetY:H=0,dontFlip:z=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:c,rotation:F,offsetX:g,offsetY:H,dontFlip:z})}getAnnotations({intent:c="display"}={}){const F=this._transport.getRenderingIntent(c);return this._transport.getAnnotations(this._pageIndex,F.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var c;return((c=this._transport._htmlForXfa)==null?void 0:c.children[this._pageIndex])||null}render({canvasContext:c,viewport:F,intent:g="display",annotationMode:H=_util.AnnotationMode.ENABLE,transform:z=null,background:T=null,optionalContentConfigPromise:q=null,annotationCanvasMap:st=null,pageColors:at=null,printAnnotationStorage:$=null}){var o,r;(o=this._stats)==null||o.time("Overall");const ht=this._transport.getRenderingIntent(g,H,$);rt(this,i,!1),Y(this,O,_e).call(this),q||(q=this._transport.getOptionalContentConfig());let gt=this._intentStates.get(ht.cacheKey);gt||(gt=Object.create(null),this._intentStates.set(ht.cacheKey,gt)),gt.streamReaderCancelTimeout&&(clearTimeout(gt.streamReaderCancelTimeout),gt.streamReaderCancelTimeout=null);const _t=!!(ht.renderingIntent&_util.RenderingIntentFlag.PRINT);gt.displayReadyCapability||(gt.displayReadyCapability=new _util.PromiseCapability,gt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(r=this._stats)==null||r.time("Page Request"),this._pumpOperatorList(ht));const X=d=>{var p,j;gt.renderTasks.delete(v),(this._maybeCleanupAfterRender||_t)&&rt(this,i,!0),Y(this,f,he).call(this,!_t),d?(v.capability.reject(d),this._abortOperatorList({intentState:gt,reason:d instanceof Error?d:new Error(d)})):v.capability.resolve(),(p=this._stats)==null||p.timeEnd("Rendering"),(j=this._stats)==null||j.timeEnd("Overall")},v=new InternalRenderTask({callback:X,params:{canvasContext:c,viewport:F,transform:z,background:T},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:st,operatorList:gt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_t,pdfBug:this._pdfBug,pageColors:at});(gt.renderTasks||(gt.renderTasks=new Set)).add(v);const n=v.task;return Promise.all([gt.displayReadyCapability.promise,q]).then(([d,p])=>{var j;if(this.destroyed){X();return}(j=this._stats)==null||j.time("Rendering"),v.initializeGraphics({transparency:d,optionalContentConfig:p}),v.operatorListChanged()}).catch(X),n}getOperatorList({intent:c="display",annotationMode:F=_util.AnnotationMode.ENABLE,printAnnotationStorage:g=null}={}){var st;function H(){T.operatorList.lastChunk&&(T.opListReadCapability.resolve(T.operatorList),T.renderTasks.delete(q))}const z=this._transport.getRenderingIntent(c,F,g,!0);let T=this._intentStates.get(z.cacheKey);T||(T=Object.create(null),this._intentStates.set(z.cacheKey,T));let q;return T.opListReadCapability||(q=Object.create(null),q.operatorListChanged=H,T.opListReadCapability=new _util.PromiseCapability,(T.renderTasks||(T.renderTasks=new Set)).add(q),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(st=this._stats)==null||st.time("Page Request"),this._pumpOperatorList(z)),T.opListReadCapability.promise}streamTextContent({includeMarkedContent:c=!1,disableNormalization:F=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:c===!0,disableNormalization:F===!0},{highWaterMark:100,size(H){return H.items.length}})}getTextContent(c={}){if(this._transport._htmlForXfa)return this.getXfa().then(g=>_xfa_text.XfaText.textContent(g));const F=this.streamTextContent(c);return new Promise(function(g,H){function z(){T.read().then(function({value:st,done:at}){if(at){g(q);return}Object.assign(q.styles,st.styles),q.items.push(...st.items),z()},H)}const T=F.getReader(),q={items:[],styles:Object.create(null)};z()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const c=[];for(const F of this._intentStates.values())if(this._abortOperatorList({intentState:F,reason:new Error("Page was destroyed."),force:!0}),!F.opListReadCapability)for(const g of F.renderTasks)c.push(g.completed),g.cancel();return this.objs.clear(),rt(this,i,!1),Y(this,O,_e).call(this),Promise.all(c)}cleanup(c=!1){rt(this,i,!0);const F=Y(this,f,he).call(this,!1);return c&&F&&this._stats&&(this._stats=new _display_utils.StatTimer),F}_startRenderPage(c,F){var H,z;const g=this._intentStates.get(F);g&&((H=this._stats)==null||H.timeEnd("Page Request"),(z=g.displayReadyCapability)==null||z.resolve(c))}_renderPageChunk(c,F){for(let g=0,H=c.length;g<H;g++)F.operatorList.fnArray.push(c.fnArray[g]),F.operatorList.argsArray.push(c.argsArray[g]);F.operatorList.lastChunk=c.lastChunk,F.operatorList.separateAnnots=c.separateAnnots;for(const g of F.renderTasks)g.operatorListChanged();c.lastChunk&&Y(this,f,he).call(this,!0)}_pumpOperatorList({renderingIntent:c,cacheKey:F,annotationStorageSerializable:g}){const{map:H,transfers:z}=g,q=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:c,cacheKey:F,annotationStorage:H},z).getReader(),st=this._intentStates.get(F);st.streamReader=q;const at=()=>{q.read().then(({value:$,done:ht})=>{if(ht){st.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk($,st),at())},$=>{if(st.streamReader=null,!this._transport.destroyed){if(st.operatorList){st.operatorList.lastChunk=!0;for(const ht of st.renderTasks)ht.operatorListChanged();Y(this,f,he).call(this,!0)}if(st.displayReadyCapability)st.displayReadyCapability.reject($);else if(st.opListReadCapability)st.opListReadCapability.reject($);else throw $}})};at()}_abortOperatorList({intentState:c,reason:F,force:g=!1}){if(c.streamReader){if(c.streamReaderCancelTimeout&&(clearTimeout(c.streamReaderCancelTimeout),c.streamReaderCancelTimeout=null),!g){if(c.renderTasks.size>0)return;if(F instanceof _display_utils.RenderingCancelledException){let H=RENDERING_CANCELLED_TIMEOUT;F.extraDelay>0&&F.extraDelay<1e3&&(H+=F.extraDelay),c.streamReaderCancelTimeout=setTimeout(()=>{c.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:c,reason:F,force:!0})},H);return}}if(c.streamReader.cancel(new _util.AbortException(F.message)).catch(()=>{}),c.streamReader=null,!this._transport.destroyed){for(const[H,z]of this._intentStates)if(z===c){this._intentStates.delete(H);break}this.cleanup()}}}get stats(){return this._stats}}L=new WeakMap,i=new WeakMap,f=new WeakSet,he=function(c=!1){if(Y(this,O,_e).call(this),!t(this,i)||this.destroyed)return!1;if(c)return rt(this,L,setTimeout(()=>{rt(this,L,null),Y(this,f,he).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:F,operatorList:g}of this._intentStates.values())if(F.size>0||!g.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),rt(this,i,!1),!0},O=new WeakSet,_e=function(){t(this,L)&&(clearTimeout(t(this,L)),rt(this,L,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){U(this,b,new Set);U(this,R,Promise.resolve())}postMessage(c,F){const g={data:structuredClone(c,F?{transfer:F}:null)};t(this,R).then(()=>{for(const H of t(this,b))H.call(this,g)})}addEventListener(c,F){t(this,b).add(F)}removeEventListener(c,F){t(this,b).delete(F)}terminate(){t(this,b).clear()}}b=new WeakMap,R=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const E=(l=document==null?void 0:document.currentScript)==null?void 0:l.src;E&&(PDFWorkerUtil.fallbackWorkerSrc=E.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(E,c){let F;try{if(F=new URL(E),!F.origin||F.origin==="null")return!1}catch{return!1}const g=new URL(c,F);return F.origin===g.origin},PDFWorkerUtil.createCDNWrapper=function(E){const c=`importScripts("${E}");`;return URL.createObjectURL(new Blob([c]))}}const _PDFWorker=class _PDFWorker{constructor({name:E=null,port:c=null,verbosity:F=(0,_util.getVerbosityLevel)()}={}){var g;if(this.name=E,this.destroyed=!1,this.verbosity=F,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,c){if((g=t(_PDFWorker,I))!=null&&g.has(c))throw new Error("Cannot use more than one PDFWorker per port.");(t(_PDFWorker,I)||rt(_PDFWorker,I,new WeakMap)).set(c,this),this._initializeFromPort(c);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(E){this._port=E,this._messageHandler=new _message_handler.MessageHandler("main","worker",E),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:E}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,E)||(E=PDFWorkerUtil.createCDNWrapper(new URL(E,window.location).href));const c=new Worker(E),F=new _message_handler.MessageHandler("main","worker",c),g=()=>{c.removeEventListener("error",H),F.destroy(),c.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},H=()=>{this._webWorker||g()};c.addEventListener("error",H),F.on("test",T=>{if(c.removeEventListener("error",H),this.destroyed){g();return}T?(this._messageHandler=F,this._port=c,this._webWorker=c,this._readyCapability.resolve(),F.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),F.destroy(),c.terminate())}),F.on("ready",T=>{if(c.removeEventListener("error",H),this.destroyed){g();return}try{z()}catch{this._setupFakeWorker()}});const z=()=>{const T=new Uint8Array;F.send("test",T,[T.buffer])};z();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(E=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const c=new LoopbackPort;this._port=c;const F=`fake${PDFWorkerUtil.fakeWorkerId++}`,g=new _message_handler.MessageHandler(F+"_worker",F,c);E.setup(g,c);const H=new _message_handler.MessageHandler(F,F+"_worker",c);this._messageHandler=H,this._readyCapability.resolve(),H.send("configure",{verbosity:this.verbosity})}).catch(E=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${E.message}".`))})}destroy(){var E;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(E=t(_PDFWorker,I))==null||E.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(E){var F;if(!(E!=null&&E.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const c=(F=t(this,I))==null?void 0:F.get(E.port);if(c){if(c._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return c}return new _PDFWorker(E)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var E;try{return((E=globalThis.pdfjsWorker)==null?void 0:E.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};I=new WeakMap,U(_PDFWorker,I,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(c,F,g,H,z){U(this,m);U(this,P,new Map);U(this,w,new Map);U(this,_,new Map);U(this,A,null);this.messageHandler=c,this.loadingTask=F,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:H.ownerDocument,styleElement:H.styleElement}),this._params=H,this.canvasFactory=z.canvasFactory,this.filterFactory=z.filterFactory,this.cMapReaderFactory=z.cMapReaderFactory,this.standardFontDataFactory=z.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=g,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(c,F=_util.AnnotationMode.ENABLE,g=null,H=!1){let z=_util.RenderingIntentFlag.DISPLAY,T=_annotation_storage.SerializableEmpty;switch(c){case"any":z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${c}`)}switch(F){case _util.AnnotationMode.DISABLE:z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,T=(z&_util.RenderingIntentFlag.PRINT&&g instanceof _annotation_storage.PrintAnnotationStorage?g:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${F}`)}return H&&(z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:z,cacheKey:`${z}_${T.hash}`,annotationStorageSerializable:T}}destroy(){var g;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(g=t(this,A))==null||g.reject(new Error("Worker was destroyed during onPassword callback"));const c=[];for(const H of t(this,w).values())c.push(H._destroy());t(this,w).clear(),t(this,_).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const F=this.messageHandler.sendWithPromise("Terminate",null);return c.push(F),Promise.all(c).then(()=>{var H;this.commonObjs.clear(),this.fontLoader.clear(),t(this,P).clear(),this.filterFactory.destroy(),(H=this._networkStream)==null||H.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:c,loadingTask:F}=this;c.on("GetReader",(g,H)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=z=>{this._lastProgress={loaded:z.loaded,total:z.total}},H.onPull=()=>{this._fullReader.read().then(function({value:z,done:T}){if(T){H.close();return}(0,_util.assert)(z instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),H.enqueue(new Uint8Array(z),1,[z])}).catch(z=>{H.error(z)})},H.onCancel=z=>{this._fullReader.cancel(z),H.ready.catch(T=>{if(!this.destroyed)throw T})}}),c.on("ReaderHeadersReady",g=>{const H=new _util.PromiseCapability,z=this._fullReader;return z.headersReady.then(()=>{var T;(!z.isStreamingSupported||!z.isRangeSupported)&&(this._lastProgress&&((T=F.onProgress)==null||T.call(F,this._lastProgress)),z.onProgress=q=>{var st;(st=F.onProgress)==null||st.call(F,{loaded:q.loaded,total:q.total})}),H.resolve({isStreamingSupported:z.isStreamingSupported,isRangeSupported:z.isRangeSupported,contentLength:z.contentLength})},H.reject),H.promise}),c.on("GetRangeReader",(g,H)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const z=this._networkStream.getRangeReader(g.begin,g.end);if(!z){H.close();return}H.onPull=()=>{z.read().then(function({value:T,done:q}){if(q){H.close();return}(0,_util.assert)(T instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),H.enqueue(new Uint8Array(T),1,[T])}).catch(T=>{H.error(T)})},H.onCancel=T=>{z.cancel(T),H.ready.catch(q=>{if(!this.destroyed)throw q})}}),c.on("GetDoc",({pdfInfo:g})=>{this._numPages=g.numPages,this._htmlForXfa=g.htmlForXfa,delete g.htmlForXfa,F._capability.resolve(new PDFDocumentProxy(g,this))}),c.on("DocException",function(g){let H;switch(g.name){case"PasswordException":H=new _util.PasswordException(g.message,g.code);break;case"InvalidPDFException":H=new _util.InvalidPDFException(g.message);break;case"MissingPDFException":H=new _util.MissingPDFException(g.message);break;case"UnexpectedResponseException":H=new _util.UnexpectedResponseException(g.message,g.status);break;case"UnknownErrorException":H=new _util.UnknownErrorException(g.message,g.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}F._capability.reject(H)}),c.on("PasswordRequest",g=>{if(rt(this,A,new _util.PromiseCapability),F.onPassword){const H=z=>{z instanceof Error?t(this,A).reject(z):t(this,A).resolve({password:z})};try{F.onPassword(H,g.code)}catch(z){t(this,A).reject(z)}}else t(this,A).reject(new _util.PasswordException(g.message,g.code));return t(this,A).promise}),c.on("DataLoaded",g=>{var H;(H=F.onProgress)==null||H.call(F,{loaded:g.length,total:g.length}),this.downloadInfoCapability.resolve(g)}),c.on("StartRenderPage",g=>{if(this.destroyed)return;t(this,w).get(g.pageIndex)._startRenderPage(g.transparency,g.cacheKey)}),c.on("commonobj",([g,H,z])=>{var T;if(!this.destroyed&&!this.commonObjs.has(g))switch(H){case"Font":const q=this._params;if("error"in z){const $=z.error;(0,_util.warn)(`Error during font loading: ${$}`),this.commonObjs.resolve(g,$);break}const st=q.pdfBug&&((T=globalThis.FontInspector)!=null&&T.enabled)?($,ht)=>globalThis.FontInspector.fontAdded($,ht):null,at=new _font_loader.FontFaceObject(z,{isEvalSupported:q.isEvalSupported,disableFontFace:q.disableFontFace,ignoreErrors:q.ignoreErrors,inspectFont:st});this.fontLoader.bind(at).catch($=>c.sendWithPromise("FontFallback",{id:g})).finally(()=>{!q.fontExtraProperties&&at.data&&(at.data=null),this.commonObjs.resolve(g,at)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(g,z);break;default:throw new Error(`Got unknown common object type ${H}`)}}),c.on("obj",([g,H,z,T])=>{var st;if(this.destroyed)return;const q=t(this,w).get(H);if(!q.objs.has(g))switch(z){case"Image":if(q.objs.resolve(g,T),T){let at;if(T.bitmap){const{width:$,height:ht}=T;at=$*ht*4}else at=((st=T.data)==null?void 0:st.length)||0;at>_util.MAX_IMAGE_SIZE_TO_CACHE&&(q._maybeCleanupAfterRender=!0)}break;case"Pattern":q.objs.resolve(g,T);break;default:throw new Error(`Got unknown object type ${z}`)}}),c.on("DocProgress",g=>{var H;this.destroyed||(H=F.onProgress)==null||H.call(F,{loaded:g.loaded,total:g.total})}),c.on("FetchBuiltInCMap",g=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(g):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),c.on("FetchStandardFontData",g=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(g):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var g;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:c,transfers:F}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:c,filename:((g=this._fullReader)==null?void 0:g.filename)??null},F).finally(()=>{this.annotationStorage.resetModified()})}getPage(c){if(!Number.isInteger(c)||c<=0||c>this._numPages)return Promise.reject(new Error("Invalid page request."));const F=c-1,g=t(this,_).get(F);if(g)return g;const H=this.messageHandler.sendWithPromise("GetPage",{pageIndex:F}).then(z=>{if(this.destroyed)throw new Error("Transport destroyed");const T=new PDFPageProxy(F,z,this,this._params.pdfBug);return t(this,w).set(F,T),T});return t(this,_).set(F,H),H}getPageIndex(c){return typeof c!="object"||c===null||!Number.isInteger(c.num)||c.num<0||!Number.isInteger(c.gen)||c.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:c.num,gen:c.gen})}getAnnotations(c,F){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:c,intent:F})}getFieldObjects(){return Y(this,m,Se).call(this,"GetFieldObjects")}hasJSActions(){return Y(this,m,Se).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(c){return typeof c!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:c})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Y(this,m,Se).call(this,"GetDocJSActions")}getPageJSActions(c){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:c})}getStructTree(c){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:c})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(c=>new _optional_content_config.OptionalContentConfig(c))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const c="GetMetadata",F=t(this,P).get(c);if(F)return F;const g=this.messageHandler.sendWithPromise(c,null).then(H=>{var z,T;return{info:H[0],metadata:H[1]?new _metadata.Metadata(H[1]):null,contentDispositionFilename:((z=this._fullReader)==null?void 0:z.filename)??null,contentLength:((T=this._fullReader)==null?void 0:T.contentLength)??null}});return t(this,P).set(c,g),g}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(c=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const F of t(this,w).values())if(!F.cleanup())throw new Error(`startCleanup: Page ${F.pageNumber} is currently rendering.`);this.commonObjs.clear(),c||this.fontLoader.clear(),t(this,P).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:c,enableXfa:F}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:c,enableXfa:F})}}P=new WeakMap,w=new WeakMap,_=new WeakMap,A=new WeakMap,m=new WeakSet,Se=function(c,F=null){const g=t(this,P).get(c);if(g)return g;const H=this.messageHandler.sendWithPromise(c,F);return t(this,P).set(c,H),H};class PDFObjects{constructor(){U(this,x);U(this,C,Object.create(null))}get(c,F=null){if(F){const H=Y(this,x,Ne).call(this,c);return H.capability.promise.then(()=>F(H.data)),null}const g=t(this,C)[c];if(!(g!=null&&g.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${c}.`);return g.data}has(c){const F=t(this,C)[c];return(F==null?void 0:F.capability.settled)||!1}resolve(c,F=null){const g=Y(this,x,Ne).call(this,c);g.data=F,g.capability.resolve()}clear(){var c;for(const F in t(this,C)){const{data:g}=t(this,C)[F];(c=g==null?void 0:g.bitmap)==null||c.close()}rt(this,C,Object.create(null))}}C=new WeakMap,x=new WeakSet,Ne=function(c){var F;return(F=t(this,C))[c]||(F[c]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(c){U(this,a,null);rt(this,a,c),this.onContinue=null}get promise(){return t(this,a).capability.promise}cancel(c=0){t(this,a).cancel(null,c)}get separateAnnots(){const{separateAnnots:c}=t(this,a).operatorList;if(!c)return!1;const{annotationCanvasMap:F}=t(this,a);return c.form||c.canvas&&(F==null?void 0:F.size)>0}}a=new WeakMap,exports.RenderTask=RenderTask;const M=class M{constructor({callback:c,params:F,objs:g,commonObjs:H,annotationCanvasMap:z,operatorList:T,pageIndex:q,canvasFactory:st,filterFactory:at,useRequestAnimationFrame:$=!1,pdfBug:ht=!1,pageColors:gt=null}){this.callback=c,this.params=F,this.objs=g,this.commonObjs=H,this.annotationCanvasMap=z,this.operatorListIdx=null,this.operatorList=T,this._pageIndex=q,this.canvasFactory=st,this.filterFactory=at,this._pdfBug=ht,this.pageColors=gt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=$===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=F.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:c=!1,optionalContentConfig:F}){var q,st;if(this.cancelled)return;if(this._canvas){if(t(M,h).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t(M,h).add(this._canvas)}this._pdfBug&&((q=globalThis.StepperManager)!=null&&q.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:g,viewport:H,transform:z,background:T}=this.params;this.gfx=new _canvas.CanvasGraphics(g,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:F},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:z,viewport:H,transparency:c,background:T}),this.operatorListIdx=0,this.graphicsReady=!0,(st=this.graphicsReadyCallback)==null||st.call(this)}cancel(c=null,F=0){var g;this.running=!1,this.cancelled=!0,(g=this.gfx)==null||g.endDrawing(),t(M,h).delete(this._canvas),this.callback(c||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,F))}operatorListChanged(){var c;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(c=this.stepper)==null||c.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),t(M,h).delete(this._canvas),this.callback())))}};h=new WeakMap,U(M,h,new WeakSet);let InternalRenderTask=M;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(k,e,L)=>{var R,l,I,Es,w;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var i=L(1),f=L(4),W=L(8);const O=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=O;class ot{constructor(){U(this,I);U(this,R,!1);U(this,l,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(A,m){const y=t(this,l).get(A);return y===void 0?m:Object.assign(m,y)}getRawValue(A){return t(this,l).get(A)}remove(A){if(t(this,l).delete(A),t(this,l).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const m of t(this,l).values())if(m instanceof f.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(A,m){const y=t(this,l).get(A);let C=!1;if(y!==void 0)for(const[x,u]of Object.entries(m))y[x]!==u&&(C=!0,y[x]=u);else C=!0,t(this,l).set(A,m);C&&Y(this,I,Es).call(this),m instanceof f.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(m.constructor._type)}has(A){return t(this,l).has(A)}getAll(){return t(this,l).size>0?(0,i.objectFromMap)(t(this,l)):null}setAll(A){for(const[m,y]of Object.entries(A))this.setValue(m,y)}get size(){return t(this,l).size}resetModified(){t(this,R)&&(rt(this,R,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(t(this,l).size===0)return O;const A=new Map,m=new W.MurmurHash3_64,y=[],C=Object.create(null);let x=!1;for(const[u,a]of t(this,l)){const h=a instanceof f.AnnotationEditor?a.serialize(!1,C):a;h&&(A.set(u,h),m.update(`${u}:${JSON.stringify(h)}`),x||(x=!!h.bitmap))}if(x)for(const u of A.values())u.bitmap&&y.push(u.bitmap);return A.size>0?{map:A,hash:m.hexdigest(),transfers:y}:O}}R=new WeakMap,l=new WeakMap,I=new WeakSet,Es=function(){t(this,R)||(rt(this,R,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=ot;class b extends ot{constructor(m){super();U(this,w,void 0);const{map:y,hash:C,transfers:x}=m.serializable,u=structuredClone(y,x?{transfer:x}:null);rt(this,w,{map:u,hash:C,transfers:x})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return t(this,w)}}w=new WeakMap,e.PrintAnnotationStorage=b},(k,e,L)=>{var b,R,l,I,P,w,_,A,m,y,C,x,u,a,h,Be,E,Ue,F,We,H,He,T,ys,st,vs,$,As,gt,Ge,X,_s;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var i=L(5),f=L(1),W=L(6);const n=class n{constructor(r){U(this,h);U(this,E);U(this,H);U(this,T);U(this,st);U(this,$);U(this,gt);U(this,X);U(this,b,"");U(this,R,!1);U(this,l,null);U(this,I,null);U(this,P,null);U(this,w,!1);U(this,_,null);U(this,A,this.focusin.bind(this));U(this,m,this.focusout.bind(this));U(this,y,!1);U(this,C,!1);U(this,x,!1);ee(this,"_initialOptions",Object.create(null));ee(this,"_uiManager",null);ee(this,"_focusEventsAllowed",!0);ee(this,"_l10nPromise",null);U(this,u,!1);U(this,a,n._zIndex++);this.constructor===n&&(0,f.unreachable)("Cannot initialize AnnotationEditor."),this.parent=r.parent,this.id=r.id,this.width=this.height=null,this.pageIndex=r.parent.pageIndex,this.name=r.name,this.div=null,this._uiManager=r.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=r.isCentered,this._structTreeParentId=null;const{rotation:d,rawDims:{pageWidth:p,pageHeight:j,pageX:D,pageY:G}}=this.parent.viewport;this.rotation=d,this.pageRotation=(360+d-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[p,j],this.pageTranslation=[D,G];const[it,J]=this.parentDimensions;this.x=r.x/it,this.y=r.y/J,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,f.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(r){const d=new ot({id:r.parent.getNextId(),parent:r.parent,uiManager:r._uiManager});d.annotationElementId=r.annotationElementId,d.deleted=!0,d._uiManager.addToAnnotationStorage(d)}static initialize(r,d=null){if(n._l10nPromise||(n._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(j=>[j,r.get(j)]))),d!=null&&d.strings)for(const j of d.strings)n._l10nPromise.set(j,r.get(j));if(n._borderLineWidth!==-1)return;const p=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(p.getPropertyValue("--outline-width"))||0}static updateDefaultParams(r,d){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(r){return!1}static paste(r,d){(0,f.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return t(this,u)}set _isDraggable(r){var d;rt(this,u,r),(d=this.div)==null||d.classList.toggle("draggable",r)}center(){const[r,d]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*d/(r*2),this.y+=this.width*r/(d*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*d/(r*2),this.y-=this.width*r/(d*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(r){this._uiManager.addCommands(r)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=t(this,a)}setParent(r){r!==null&&(this.pageIndex=r.pageIndex,this.pageDimensions=r.pageDimensions),this.parent=r}focusin(r){this._focusEventsAllowed&&(t(this,y)?rt(this,y,!1):this.parent.setSelected(this))}focusout(r){var p;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const d=r.relatedTarget;d!=null&&d.closest(`#${this.id}`)||(r.preventDefault(),(p=this.parent)!=null&&p.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(r,d,p,j){const[D,G]=this.parentDimensions;[p,j]=this.screenToPageTranslation(p,j),this.x=(r+p)/D,this.y=(d+j)/G,this.fixAndSetPosition()}translate(r,d){Y(this,h,Be).call(this,this.parentDimensions,r,d)}translateInPage(r,d){Y(this,h,Be).call(this,this.pageDimensions,r,d),this.div.scrollIntoView({block:"nearest"})}drag(r,d){const[p,j]=this.parentDimensions;if(this.x+=r/p,this.y+=d/j,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:lt,y:dt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,lt,dt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:D,y:G}=this;const[it,J]=Y(this,E,Ue).call(this);D+=it,G+=J,this.div.style.left=`${(100*D).toFixed(2)}%`,this.div.style.top=`${(100*G).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[r,d]=this.pageDimensions;let{x:p,y:j,width:D,height:G}=this;switch(D*=r,G*=d,p*=r,j*=d,this.rotation){case 0:p=Math.max(0,Math.min(r-D,p)),j=Math.max(0,Math.min(d-G,j));break;case 90:p=Math.max(0,Math.min(r-G,p)),j=Math.min(d,Math.max(D,j));break;case 180:p=Math.min(r,Math.max(D,p)),j=Math.min(d,Math.max(G,j));break;case 270:p=Math.min(r,Math.max(G,p)),j=Math.max(0,Math.min(d-D,j));break}this.x=p/=r,this.y=j/=d;const[it,J]=Y(this,E,Ue).call(this);p+=it,j+=J;const{style:lt}=this.div;lt.left=`${(100*p).toFixed(2)}%`,lt.top=`${(100*j).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(r,d){var p;return Y(p=n,F,We).call(p,r,d,this.parentRotation)}pageTranslationToScreen(r,d){var p;return Y(p=n,F,We).call(p,r,d,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:r,pageDimensions:[d,p]}=this,j=d*r,D=p*r;return f.FeatureTest.isCSSRoundSupported?[Math.round(j),Math.round(D)]:[j,D]}setDims(r,d){var D;const[p,j]=this.parentDimensions;this.div.style.width=`${(100*r/p).toFixed(2)}%`,t(this,w)||(this.div.style.height=`${(100*d/j).toFixed(2)}%`),(D=t(this,l))==null||D.classList.toggle("small",r<n.SMALL_EDITOR_SIZE||d<n.SMALL_EDITOR_SIZE)}fixDims(){const{style:r}=this.div,{height:d,width:p}=r,j=p.endsWith("%"),D=!t(this,w)&&d.endsWith("%");if(j&&D)return;const[G,it]=this.parentDimensions;j||(r.width=`${(100*parseFloat(p)/G).toFixed(2)}%`),!t(this,w)&&!D&&(r.height=`${(100*parseFloat(d)/it).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(t(this,l))return;const r=rt(this,l,document.createElement("button"));r.className="altText";const d=await n._l10nPromise.get("editor_alt_text_button_label");r.textContent=d,r.setAttribute("aria-label",d),r.tabIndex="0",r.addEventListener("contextmenu",W.noContextMenu),r.addEventListener("pointerdown",p=>p.stopPropagation()),r.addEventListener("click",p=>{p.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),r.addEventListener("keydown",p=>{p.target===r&&p.key==="Enter"&&(p.preventDefault(),this._uiManager.editAltText(this))}),Y(this,gt,Ge).call(this),this.div.append(r),n.SMALL_EDITOR_SIZE||(n.SMALL_EDITOR_SIZE=Math.min(128,Math.round(r.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:t(this,b),decorative:t(this,R)}}set altTextData({altText:r,decorative:d}){t(this,b)===r&&t(this,R)===d||(rt(this,b,r),rt(this,R,d),Y(this,gt,Ge).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",t(this,A)),this.div.addEventListener("focusout",t(this,m));const[r,d]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*d/r).toFixed(2)}%`,this.div.style.maxHeight=`${(100*r/d).toFixed(2)}%`);const[p,j]=this.getInitialTranslation();return this.translate(p,j),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(r){const{isMac:d}=f.FeatureTest.platform;if(r.button!==0||r.ctrlKey&&d){r.preventDefault();return}rt(this,y,!0),Y(this,X,_s).call(this,r)}moveInDOM(){var r;(r=this.parent)==null||r.moveEditorInDOM(this)}_setParentAndPosition(r,d,p){r.changeParent(this),this.x=d,this.y=p,this.fixAndSetPosition()}getRect(r,d){const p=this.parentScale,[j,D]=this.pageDimensions,[G,it]=this.pageTranslation,J=r/p,lt=d/p,dt=this.x*j,mt=this.y*D,ut=this.width*j,Ct=this.height*D;switch(this.rotation){case 0:return[dt+J+G,D-mt-lt-Ct+it,dt+J+ut+G,D-mt-lt+it];case 90:return[dt+lt+G,D-mt+J+it,dt+lt+Ct+G,D-mt+J+ut+it];case 180:return[dt-J-ut+G,D-mt+lt+it,dt-J+G,D-mt+lt+Ct+it];case 270:return[dt-lt-Ct+G,D-mt-J-ut+it,dt-lt+G,D-mt-J+it];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(r,d){const[p,j,D,G]=r,it=D-p,J=G-j;switch(this.rotation){case 0:return[p,d-G,it,J];case 90:return[p,d-j,J,it];case 180:return[D,d-j,it,J];case 270:return[D,d-G,J,it];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){rt(this,x,!0)}disableEditMode(){rt(this,x,!1)}isInEditMode(){return t(this,x)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var r,d;(r=this.div)==null||r.addEventListener("focusin",t(this,A)),(d=this.div)==null||d.addEventListener("focusout",t(this,m))}serialize(r=!1,d=null){(0,f.unreachable)("An editor must be serializable")}static deserialize(r,d,p){const j=new this.prototype.constructor({parent:d,id:d.getNextId(),uiManager:p});j.rotation=r.rotation;const[D,G]=j.pageDimensions,[it,J,lt,dt]=j.getRectInCurrentCoords(r.rect,G);return j.x=it/D,j.y=J/G,j.width=lt/D,j.height=dt/G,j}remove(){var r;this.div.removeEventListener("focusin",t(this,A)),this.div.removeEventListener("focusout",t(this,m)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(r=t(this,l))==null||r.remove(),rt(this,l,null),rt(this,I,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Y(this,T,ys).call(this),t(this,_).classList.remove("hidden"))}select(){var r;this.makeResizable(),(r=this.div)==null||r.classList.add("selectedEditor")}unselect(){var r,d,p;(r=t(this,_))==null||r.classList.add("hidden"),(d=this.div)==null||d.classList.remove("selectedEditor"),(p=this.div)!=null&&p.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(r,d){}disableEditing(){t(this,l)&&(t(this,l).hidden=!0)}enableEditing(){t(this,l)&&(t(this,l).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return t(this,C)}set isEditing(r){rt(this,C,r),this.parent&&(r?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(r,d){rt(this,w,!0);const p=r/d,{style:j}=this.div;j.aspectRatio=p,j.height="auto"}static get MIN_SIZE(){return 16}};b=new WeakMap,R=new WeakMap,l=new WeakMap,I=new WeakMap,P=new WeakMap,w=new WeakMap,_=new WeakMap,A=new WeakMap,m=new WeakMap,y=new WeakMap,C=new WeakMap,x=new WeakMap,u=new WeakMap,a=new WeakMap,h=new WeakSet,Be=function([r,d],p,j){[p,j]=this.screenToPageTranslation(p,j),this.x+=p/r,this.y+=j/d,this.fixAndSetPosition()},E=new WeakSet,Ue=function(){const[r,d]=this.parentDimensions,{_borderLineWidth:p}=n,j=p/r,D=p/d;switch(this.rotation){case 90:return[-j,D];case 180:return[j,D];case 270:return[j,-D];default:return[-j,-D]}},F=new WeakSet,We=function(r,d,p){switch(p){case 90:return[d,-r];case 180:return[-r,-d];case 270:return[-d,r];default:return[r,d]}},H=new WeakSet,He=function(r){switch(r){case 90:{const[d,p]=this.pageDimensions;return[0,-d/p,p/d,0]}case 180:return[-1,0,0,-1];case 270:{const[d,p]=this.pageDimensions;return[0,d/p,-p/d,0]}default:return[1,0,0,1]}},T=new WeakSet,ys=function(){if(t(this,_))return;rt(this,_,document.createElement("div")),t(this,_).classList.add("resizers");const r=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||r.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const d of r){const p=document.createElement("div");t(this,_).append(p),p.classList.add("resizer",d),p.addEventListener("pointerdown",Y(this,st,vs).bind(this,d)),p.addEventListener("contextmenu",W.noContextMenu)}this.div.prepend(t(this,_))},st=new WeakSet,vs=function(r,d){d.preventDefault();const{isMac:p}=f.FeatureTest.platform;if(d.button!==0||d.ctrlKey&&p)return;const j=Y(this,$,As).bind(this,r),D=this._isDraggable;this._isDraggable=!1;const G={passive:!0,capture:!0};window.addEventListener("pointermove",j,G);const it=this.x,J=this.y,lt=this.width,dt=this.height,mt=this.parent.div.style.cursor,ut=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(d.target).cursor;const Ct=()=>{this._isDraggable=D,window.removeEventListener("pointerup",Ct),window.removeEventListener("blur",Ct),window.removeEventListener("pointermove",j,G),this.parent.div.style.cursor=mt,this.div.style.cursor=ut;const Dt=this.x,At=this.y,Mt=this.width,xt=this.height;Dt===it&&At===J&&Mt===lt&&xt===dt||this.addCommands({cmd:()=>{this.width=Mt,this.height=xt,this.x=Dt,this.y=At;const[nt,tt]=this.parentDimensions;this.setDims(nt*Mt,tt*xt),this.fixAndSetPosition()},undo:()=>{this.width=lt,this.height=dt,this.x=it,this.y=J;const[nt,tt]=this.parentDimensions;this.setDims(nt*lt,tt*dt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ct),window.addEventListener("blur",Ct)},$=new WeakSet,As=function(r,d){const[p,j]=this.parentDimensions,D=this.x,G=this.y,it=this.width,J=this.height,lt=n.MIN_SIZE/p,dt=n.MIN_SIZE/j,mt=Et=>Math.round(Et*1e4)/1e4,ut=Y(this,H,He).call(this,this.rotation),Ct=(Et,vt)=>[ut[0]*Et+ut[2]*vt,ut[1]*Et+ut[3]*vt],Dt=Y(this,H,He).call(this,360-this.rotation),At=(Et,vt)=>[Dt[0]*Et+Dt[2]*vt,Dt[1]*Et+Dt[3]*vt];let Mt,xt,nt=!1,tt=!1;switch(r){case"topLeft":nt=!0,Mt=(Et,vt)=>[0,0],xt=(Et,vt)=>[Et,vt];break;case"topMiddle":Mt=(Et,vt)=>[Et/2,0],xt=(Et,vt)=>[Et/2,vt];break;case"topRight":nt=!0,Mt=(Et,vt)=>[Et,0],xt=(Et,vt)=>[0,vt];break;case"middleRight":tt=!0,Mt=(Et,vt)=>[Et,vt/2],xt=(Et,vt)=>[0,vt/2];break;case"bottomRight":nt=!0,Mt=(Et,vt)=>[Et,vt],xt=(Et,vt)=>[0,0];break;case"bottomMiddle":Mt=(Et,vt)=>[Et/2,vt],xt=(Et,vt)=>[Et/2,0];break;case"bottomLeft":nt=!0,Mt=(Et,vt)=>[0,vt],xt=(Et,vt)=>[Et,0];break;case"middleLeft":tt=!0,Mt=(Et,vt)=>[0,vt/2],xt=(Et,vt)=>[Et,vt/2];break}const ft=Mt(it,J),Rt=xt(it,J);let wt=Ct(...Rt);const Ut=mt(D+wt[0]),$t=mt(G+wt[1]);let Wt=1,Gt=1,[zt,Bt]=this.screenToPageTranslation(d.movementX,d.movementY);if([zt,Bt]=At(zt/p,Bt/j),nt){const Et=Math.hypot(it,J);Wt=Gt=Math.max(Math.min(Math.hypot(Rt[0]-ft[0]-zt,Rt[1]-ft[1]-Bt)/Et,1/it,1/J),lt/it,dt/J)}else tt?Wt=Math.max(lt,Math.min(1,Math.abs(Rt[0]-ft[0]-zt)))/it:Gt=Math.max(dt,Math.min(1,Math.abs(Rt[1]-ft[1]-Bt)))/J;const Xt=mt(it*Wt),pt=mt(J*Gt);wt=Ct(...xt(Xt,pt));const et=Ut-wt[0],K=$t-wt[1];this.width=Xt,this.height=pt,this.x=et,this.y=K,this.setDims(p*Xt,j*pt),this.fixAndSetPosition()},gt=new WeakSet,Ge=async function(){var p;const r=t(this,l);if(!r)return;if(!t(this,b)&&!t(this,R)){r.classList.remove("done"),(p=t(this,I))==null||p.remove();return}n._l10nPromise.get("editor_alt_text_edit_button_label").then(j=>{r.setAttribute("aria-label",j)});let d=t(this,I);if(!d){rt(this,I,d=document.createElement("span")),d.className="tooltip",d.setAttribute("role","tooltip");const j=d.id=`alt-text-tooltip-${this.id}`;r.setAttribute("aria-describedby",j);const D=100;r.addEventListener("mouseenter",()=>{rt(this,P,setTimeout(()=>{rt(this,P,null),t(this,I).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},D))}),r.addEventListener("mouseleave",()=>{var G;clearTimeout(t(this,P)),rt(this,P,null),(G=t(this,I))==null||G.classList.remove("show")})}r.classList.add("done"),d.innerText=t(this,R)?await n._l10nPromise.get("editor_alt_text_decorative_tooltip"):t(this,b),d.parentNode||r.append(d)},X=new WeakSet,_s=function(r){if(!this._isDraggable)return;const d=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let p,j;d&&(p={passive:!0,capture:!0},j=G=>{const[it,J]=this.screenToPageTranslation(G.movementX,G.movementY);this._uiManager.dragSelectedEditors(it,J)},window.addEventListener("pointermove",j,p));const D=()=>{if(window.removeEventListener("pointerup",D),window.removeEventListener("blur",D),d&&window.removeEventListener("pointermove",j,p),rt(this,y,!1),!this._uiManager.endDragSession()){const{isMac:G}=f.FeatureTest.platform;r.ctrlKey&&!G||r.shiftKey||r.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",D),window.addEventListener("blur",D)},U(n,F),ee(n,"_borderLineWidth",-1),ee(n,"_colorManager",new i.ColorManager),ee(n,"_zIndex",1),ee(n,"SMALL_EDITOR_SIZE",0);let O=n;e.AnnotationEditor=O;class ot extends O{constructor(r){super(r),this.annotationElementId=r.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(k,e,L)=>{var w,_,A,m,y,$e,u,a,h,M,E,Ss,g,H,z,T,q,st,at,$,ht,gt,_t,X,v,n,o,r,d,p,j,D,G,it,J,lt,dt,mt,ut,Ct,Dt,At,Mt,xt,nt,tt,ft,Rs,wt,ze,$t,Ve,Gt,Re,Bt,qe,pt,Xe,K,re,vt,ge,Zt,ws,St,Cs,Tt,Ye,Nt,xe,yt,Ke;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=W,e.opacityToHex=O;var i=L(1),f=L(6);function W(N,s,S){for(const B of S)s.addEventListener(B,N[B].bind(N))}function O(N){return Math.round(Math.min(255,Math.max(1,255*N))).toString(16).padStart(2,"0")}class ot{constructor(){U(this,w,0)}getId(){return`${i.AnnotationEditorPrefix}${me(this,w)._++}`}}w=new WeakMap;const x=class x{constructor(){U(this,y);U(this,_,(0,i.getUuid)());U(this,A,0);U(this,m,null)}static get _isSVGFittingCanvas(){const s='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',B=new OffscreenCanvas(1,3).getContext("2d"),V=new Image;V.src=s;const Q=V.decode().then(()=>(B.drawImage(V,0,0,1,1,0,0,1,3),new Uint32Array(B.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",Q)}async getFromFile(s){const{lastModified:S,name:B,size:V,type:Q}=s;return Y(this,y,$e).call(this,`${S}_${B}_${V}_${Q}`,s)}async getFromUrl(s){return Y(this,y,$e).call(this,s,s)}async getFromId(s){t(this,m)||rt(this,m,new Map);const S=t(this,m).get(s);return S?S.bitmap?(S.refCounter+=1,S):S.file?this.getFromFile(S.file):this.getFromUrl(S.url):null}getSvgUrl(s){const S=t(this,m).get(s);return S!=null&&S.isSvg?S.svgUrl:null}deleteId(s){t(this,m)||rt(this,m,new Map);const S=t(this,m).get(s);S&&(S.refCounter-=1,S.refCounter===0&&(S.bitmap=null))}isValidId(s){return s.startsWith(`image_${t(this,_)}_`)}};_=new WeakMap,A=new WeakMap,m=new WeakMap,y=new WeakSet,$e=async function(s,S){t(this,m)||rt(this,m,new Map);let B=t(this,m).get(s);if(B===null)return null;if(B!=null&&B.bitmap)return B.refCounter+=1,B;try{B||(B={bitmap:null,id:`image_${t(this,_)}_${me(this,A)._++}`,refCounter:0,isSvg:!1});let V;if(typeof S=="string"){B.url=S;const Q=await fetch(S);if(!Q.ok)throw new Error(Q.statusText);V=await Q.blob()}else V=B.file=S;if(V.type==="image/svg+xml"){const Q=x._isSVGFittingCanvas,ct=new FileReader,bt=new Image,jt=new Promise((Pt,Vt)=>{bt.onload=()=>{B.bitmap=bt,B.isSvg=!0,Pt()},ct.onload=async()=>{const kt=B.svgUrl=ct.result;bt.src=await Q?`${kt}#svgView(preserveAspectRatio(none))`:kt},bt.onerror=ct.onerror=Vt});ct.readAsDataURL(V),await jt}else B.bitmap=await createImageBitmap(V);B.refCounter=1}catch(V){console.error(V),B=null}return t(this,m).set(s,B),B&&t(this,m).set(B.id,B),B};let b=x;class R{constructor(s=128){U(this,u,[]);U(this,a,!1);U(this,h,void 0);U(this,M,-1);rt(this,h,s)}add({cmd:s,undo:S,mustExec:B,type:V=NaN,overwriteIfSameType:Q=!1,keepUndo:ct=!1}){if(B&&s(),t(this,a))return;const bt={cmd:s,undo:S,type:V};if(t(this,M)===-1){t(this,u).length>0&&(t(this,u).length=0),rt(this,M,0),t(this,u).push(bt);return}if(Q&&t(this,u)[t(this,M)].type===V){ct&&(bt.undo=t(this,u)[t(this,M)].undo),t(this,u)[t(this,M)]=bt;return}const jt=t(this,M)+1;jt===t(this,h)?t(this,u).splice(0,1):(rt(this,M,jt),jt<t(this,u).length&&t(this,u).splice(jt)),t(this,u).push(bt)}undo(){t(this,M)!==-1&&(rt(this,a,!0),t(this,u)[t(this,M)].undo(),rt(this,a,!1),rt(this,M,t(this,M)-1))}redo(){t(this,M)<t(this,u).length-1&&(rt(this,M,t(this,M)+1),rt(this,a,!0),t(this,u)[t(this,M)].cmd(),rt(this,a,!1))}hasSomethingToUndo(){return t(this,M)!==-1}hasSomethingToRedo(){return t(this,M)<t(this,u).length-1}destroy(){rt(this,u,null)}}u=new WeakMap,a=new WeakMap,h=new WeakMap,M=new WeakMap,e.CommandManager=R;class l{constructor(s){U(this,E);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:S}=i.FeatureTest.platform;for(const[B,V,Q={}]of s)for(const ct of B){const bt=ct.startsWith("mac+");S&&bt?(this.callbacks.set(ct.slice(4),{callback:V,options:Q}),this.allKeys.add(ct.split("+").at(-1))):!S&&!bt&&(this.callbacks.set(ct,{callback:V,options:Q}),this.allKeys.add(ct.split("+").at(-1)))}}exec(s,S){if(!this.allKeys.has(S.key))return;const B=this.callbacks.get(Y(this,E,Ss).call(this,S));if(!B)return;const{callback:V,options:{bubbles:Q=!1,args:ct=[],checker:bt=null}}=B;bt&&!bt(s,S)||(V.bind(s,...ct)(),Q||(S.stopPropagation(),S.preventDefault()))}}E=new WeakSet,Ss=function(s){s.altKey&&this.buffer.push("alt"),s.ctrlKey&&this.buffer.push("ctrl"),s.metaKey&&this.buffer.push("meta"),s.shiftKey&&this.buffer.push("shift"),this.buffer.push(s.key);const S=this.buffer.join("+");return this.buffer.length=0,S},e.KeyboardManager=l;const F=class F{get _colors(){const s=new Map([["CanvasText",null],["Canvas",null]]);return(0,f.getColorValues)(s),(0,i.shadow)(this,"_colors",s)}convert(s){const S=(0,f.getRGB)(s);if(!window.matchMedia("(forced-colors: active)").matches)return S;for(const[B,V]of this._colors)if(V.every((Q,ct)=>Q===S[ct]))return F._colorsMapping.get(B);return S}getHexCode(s){const S=this._colors.get(s);return S?i.Util.makeHexColor(...S):s}};ee(F,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let I=F;e.ColorManager=I;const Lt=class Lt{constructor(s,S,B,V,Q,ct){U(this,ft);U(this,wt);U(this,$t);U(this,Gt);U(this,Bt);U(this,pt);U(this,K);U(this,vt);U(this,Zt);U(this,St);U(this,Tt);U(this,Nt);U(this,yt);U(this,g,null);U(this,H,new Map);U(this,z,new Map);U(this,T,null);U(this,q,null);U(this,st,new R);U(this,at,0);U(this,$,new Set);U(this,ht,null);U(this,gt,null);U(this,_t,new Set);U(this,X,null);U(this,v,new ot);U(this,n,!1);U(this,o,!1);U(this,r,null);U(this,d,i.AnnotationEditorType.NONE);U(this,p,new Set);U(this,j,null);U(this,D,this.blur.bind(this));U(this,G,this.focus.bind(this));U(this,it,this.copy.bind(this));U(this,J,this.cut.bind(this));U(this,lt,this.paste.bind(this));U(this,dt,this.keydown.bind(this));U(this,mt,this.onEditingAction.bind(this));U(this,ut,this.onPageChanging.bind(this));U(this,Ct,this.onScaleChanging.bind(this));U(this,Dt,this.onRotationChanging.bind(this));U(this,At,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});U(this,Mt,[0,0]);U(this,xt,null);U(this,nt,null);U(this,tt,null);rt(this,nt,s),rt(this,tt,S),rt(this,T,B),this._eventBus=V,this._eventBus._on("editingaction",t(this,mt)),this._eventBus._on("pagechanging",t(this,ut)),this._eventBus._on("scalechanging",t(this,Ct)),this._eventBus._on("rotationchanging",t(this,Dt)),rt(this,q,Q.annotationStorage),rt(this,X,Q.filterFactory),rt(this,j,ct),this.viewParameters={realScale:f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const s=Lt.prototype,S=Q=>{const{activeElement:ct}=document;return ct&&t(Q,nt).contains(ct)&&Q.hasSomethingToControl()},B=this.TRANSLATE_SMALL,V=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new l([[["ctrl+a","mac+meta+a"],s.selectAll],[["ctrl+z","mac+meta+z"],s.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],s.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],s.delete],[["Escape","mac+Escape"],s.unselectAll],[["ArrowLeft","mac+ArrowLeft"],s.translateSelectedEditors,{args:[-B,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],s.translateSelectedEditors,{args:[-V,0],checker:S}],[["ArrowRight","mac+ArrowRight"],s.translateSelectedEditors,{args:[B,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],s.translateSelectedEditors,{args:[V,0],checker:S}],[["ArrowUp","mac+ArrowUp"],s.translateSelectedEditors,{args:[0,-B],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],s.translateSelectedEditors,{args:[0,-V],checker:S}],[["ArrowDown","mac+ArrowDown"],s.translateSelectedEditors,{args:[0,B],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],s.translateSelectedEditors,{args:[0,V],checker:S}]]))}destroy(){Y(this,Gt,Re).call(this),Y(this,wt,ze).call(this),this._eventBus._off("editingaction",t(this,mt)),this._eventBus._off("pagechanging",t(this,ut)),this._eventBus._off("scalechanging",t(this,Ct)),this._eventBus._off("rotationchanging",t(this,Dt));for(const s of t(this,z).values())s.destroy();t(this,z).clear(),t(this,H).clear(),t(this,_t).clear(),rt(this,g,null),t(this,p).clear(),t(this,st).destroy(),t(this,T).destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",t(this,j)?t(this,X).addHCMFilter(t(this,j).foreground,t(this,j).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(t(this,nt)).direction)}editAltText(s){var S;(S=t(this,T))==null||S.editAltText(this,s)}onPageChanging({pageNumber:s}){rt(this,at,s-1)}focusMainContainer(){t(this,nt).focus()}findParent(s,S){for(const B of t(this,z).values()){const{x:V,y:Q,width:ct,height:bt}=B.div.getBoundingClientRect();if(s>=V&&s<=V+ct&&S>=Q&&S<=Q+bt)return B}return null}disableUserSelect(s=!1){t(this,tt).classList.toggle("noUserSelect",s)}addShouldRescale(s){t(this,_t).add(s)}removeShouldRescale(s){t(this,_t).delete(s)}onScaleChanging({scale:s}){this.commitOrRemove(),this.viewParameters.realScale=s*f.PixelsPerInch.PDF_TO_CSS_UNITS;for(const S of t(this,_t))S.onScaleChanging()}onRotationChanging({pagesRotation:s}){this.commitOrRemove(),this.viewParameters.rotation=s}addToAnnotationStorage(s){!s.isEmpty()&&t(this,q)&&!t(this,q).has(s.id)&&t(this,q).setValue(s.id,s)}blur(){if(!this.hasSelection)return;const{activeElement:s}=document;for(const S of t(this,p))if(S.div.contains(s)){rt(this,r,[S,s]),S._focusEventsAllowed=!1;break}}focus(){if(!t(this,r))return;const[s,S]=t(this,r);rt(this,r,null),S.addEventListener("focusin",()=>{s._focusEventsAllowed=!0},{once:!0}),S.focus()}addEditListeners(){Y(this,$t,Ve).call(this),Y(this,Bt,qe).call(this)}removeEditListeners(){Y(this,Gt,Re).call(this),Y(this,pt,Xe).call(this)}copy(s){var B;if(s.preventDefault(),(B=t(this,g))==null||B.commitOrRemove(),!this.hasSelection)return;const S=[];for(const V of t(this,p)){const Q=V.serialize(!0);Q&&S.push(Q)}S.length!==0&&s.clipboardData.setData("application/pdfjs",JSON.stringify(S))}cut(s){this.copy(s),this.delete()}paste(s){s.preventDefault();const{clipboardData:S}=s;for(const Q of S.items)for(const ct of t(this,gt))if(ct.isHandlingMimeForPasting(Q.type)){ct.paste(Q,this.currentLayer);return}let B=S.getData("application/pdfjs");if(!B)return;try{B=JSON.parse(B)}catch(Q){(0,i.warn)(`paste: "${Q.message}".`);return}if(!Array.isArray(B))return;this.unselectAll();const V=this.currentLayer;try{const Q=[];for(const jt of B){const Pt=V.deserialize(jt);if(!Pt)return;Q.push(Pt)}const ct=()=>{for(const jt of Q)Y(this,Tt,Ye).call(this,jt);Y(this,yt,Ke).call(this,Q)},bt=()=>{for(const jt of Q)jt.remove()};this.addCommands({cmd:ct,undo:bt,mustExec:!0})}catch(Q){(0,i.warn)(`paste: "${Q.message}".`)}}keydown(s){var S;(S=this.getActive())!=null&&S.shouldGetKeyboardEvents()||Lt._keyboardManager.exec(this,s)}onEditingAction(s){["undo","redo","delete","selectAll"].includes(s.name)&&this[s.name]()}setEditingState(s){s?(Y(this,ft,Rs).call(this),Y(this,$t,Ve).call(this),Y(this,Bt,qe).call(this),Y(this,K,re).call(this,{isEditing:t(this,d)!==i.AnnotationEditorType.NONE,isEmpty:Y(this,Nt,xe).call(this),hasSomethingToUndo:t(this,st).hasSomethingToUndo(),hasSomethingToRedo:t(this,st).hasSomethingToRedo(),hasSelectedEditor:!1})):(Y(this,wt,ze).call(this),Y(this,Gt,Re).call(this),Y(this,pt,Xe).call(this),Y(this,K,re).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(s){if(!t(this,gt)){rt(this,gt,s);for(const S of t(this,gt))Y(this,vt,ge).call(this,S.defaultPropertiesToUpdate)}}getId(){return t(this,v).getId()}get currentLayer(){return t(this,z).get(t(this,at))}getLayer(s){return t(this,z).get(s)}get currentPageIndex(){return t(this,at)}addLayer(s){t(this,z).set(s.pageIndex,s),t(this,n)?s.enable():s.disable()}removeLayer(s){t(this,z).delete(s.pageIndex)}updateMode(s,S=null){if(t(this,d)!==s){if(rt(this,d,s),s===i.AnnotationEditorType.NONE){this.setEditingState(!1),Y(this,St,Cs).call(this);return}this.setEditingState(!0),Y(this,Zt,ws).call(this),this.unselectAll();for(const B of t(this,z).values())B.updateMode(s);if(S){for(const B of t(this,H).values())if(B.annotationElementId===S){this.setSelected(B),B.enterInEditMode();break}}}}updateToolbar(s){s!==t(this,d)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:s})}updateParams(s,S){if(t(this,gt)){if(s===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(s);return}for(const B of t(this,p))B.updateParams(s,S);for(const B of t(this,gt))B.updateDefaultParams(s,S)}}enableWaiting(s=!1){if(t(this,o)!==s){rt(this,o,s);for(const S of t(this,z).values())s?S.disableClick():S.enableClick(),S.div.classList.toggle("waiting",s)}}getEditors(s){const S=[];for(const B of t(this,H).values())B.pageIndex===s&&S.push(B);return S}getEditor(s){return t(this,H).get(s)}addEditor(s){t(this,H).set(s.id,s)}removeEditor(s){var S;t(this,H).delete(s.id),this.unselect(s),(!s.annotationElementId||!t(this,$).has(s.annotationElementId))&&((S=t(this,q))==null||S.remove(s.id))}addDeletedAnnotationElement(s){t(this,$).add(s.annotationElementId),s.deleted=!0}isDeletedAnnotationElement(s){return t(this,$).has(s)}removeDeletedAnnotationElement(s){t(this,$).delete(s.annotationElementId),s.deleted=!1}setActiveEditor(s){t(this,g)!==s&&(rt(this,g,s),s&&Y(this,vt,ge).call(this,s.propertiesToUpdate))}toggleSelected(s){if(t(this,p).has(s)){t(this,p).delete(s),s.unselect(),Y(this,K,re).call(this,{hasSelectedEditor:this.hasSelection});return}t(this,p).add(s),s.select(),Y(this,vt,ge).call(this,s.propertiesToUpdate),Y(this,K,re).call(this,{hasSelectedEditor:!0})}setSelected(s){for(const S of t(this,p))S!==s&&S.unselect();t(this,p).clear(),t(this,p).add(s),s.select(),Y(this,vt,ge).call(this,s.propertiesToUpdate),Y(this,K,re).call(this,{hasSelectedEditor:!0})}isSelected(s){return t(this,p).has(s)}unselect(s){s.unselect(),t(this,p).delete(s),Y(this,K,re).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return t(this,p).size!==0}undo(){t(this,st).undo(),Y(this,K,re).call(this,{hasSomethingToUndo:t(this,st).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Y(this,Nt,xe).call(this)})}redo(){t(this,st).redo(),Y(this,K,re).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:t(this,st).hasSomethingToRedo(),isEmpty:Y(this,Nt,xe).call(this)})}addCommands(s){t(this,st).add(s),Y(this,K,re).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Y(this,Nt,xe).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const s=[...t(this,p)],S=()=>{for(const V of s)V.remove()},B=()=>{for(const V of s)Y(this,Tt,Ye).call(this,V)};this.addCommands({cmd:S,undo:B,mustExec:!0})}commitOrRemove(){var s;(s=t(this,g))==null||s.commitOrRemove()}hasSomethingToControl(){return t(this,g)||this.hasSelection}selectAll(){for(const s of t(this,p))s.commit();Y(this,yt,Ke).call(this,t(this,H).values())}unselectAll(){if(t(this,g)){t(this,g).commitOrRemove();return}if(this.hasSelection){for(const s of t(this,p))s.unselect();t(this,p).clear(),Y(this,K,re).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(s,S,B=!1){if(B||this.commitOrRemove(),!this.hasSelection)return;t(this,Mt)[0]+=s,t(this,Mt)[1]+=S;const[V,Q]=t(this,Mt),ct=[...t(this,p)],bt=1e3;t(this,xt)&&clearTimeout(t(this,xt)),rt(this,xt,setTimeout(()=>{rt(this,xt,null),t(this,Mt)[0]=t(this,Mt)[1]=0,this.addCommands({cmd:()=>{for(const jt of ct)t(this,H).has(jt.id)&&jt.translateInPage(V,Q)},undo:()=>{for(const jt of ct)t(this,H).has(jt.id)&&jt.translateInPage(-V,-Q)},mustExec:!1})},bt));for(const jt of ct)jt.translateInPage(s,S)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),rt(this,ht,new Map);for(const s of t(this,p))t(this,ht).set(s,{savedX:s.x,savedY:s.y,savedPageIndex:s.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!t(this,ht))return!1;this.disableUserSelect(!1);const s=t(this,ht);rt(this,ht,null);let S=!1;for(const[{x:V,y:Q,pageIndex:ct},bt]of s)bt.newX=V,bt.newY=Q,bt.newPageIndex=ct,S||(S=V!==bt.savedX||Q!==bt.savedY||ct!==bt.savedPageIndex);if(!S)return!1;const B=(V,Q,ct,bt)=>{if(t(this,H).has(V.id)){const jt=t(this,z).get(bt);jt?V._setParentAndPosition(jt,Q,ct):(V.pageIndex=bt,V.x=Q,V.y=ct)}};return this.addCommands({cmd:()=>{for(const[V,{newX:Q,newY:ct,newPageIndex:bt}]of s)B(V,Q,ct,bt)},undo:()=>{for(const[V,{savedX:Q,savedY:ct,savedPageIndex:bt}]of s)B(V,Q,ct,bt)},mustExec:!0}),!0}dragSelectedEditors(s,S){if(t(this,ht))for(const B of t(this,ht).keys())B.drag(s,S)}rebuild(s){if(s.parent===null){const S=this.getLayer(s.pageIndex);S?(S.changeParent(s),S.addOrRebuild(s)):(this.addEditor(s),this.addToAnnotationStorage(s),s.rebuild())}else s.parent.addOrRebuild(s)}isActive(s){return t(this,g)===s}getActive(){return t(this,g)}getMode(){return t(this,d)}get imageManager(){return(0,i.shadow)(this,"imageManager",new b)}};g=new WeakMap,H=new WeakMap,z=new WeakMap,T=new WeakMap,q=new WeakMap,st=new WeakMap,at=new WeakMap,$=new WeakMap,ht=new WeakMap,gt=new WeakMap,_t=new WeakMap,X=new WeakMap,v=new WeakMap,n=new WeakMap,o=new WeakMap,r=new WeakMap,d=new WeakMap,p=new WeakMap,j=new WeakMap,D=new WeakMap,G=new WeakMap,it=new WeakMap,J=new WeakMap,lt=new WeakMap,dt=new WeakMap,mt=new WeakMap,ut=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,At=new WeakMap,Mt=new WeakMap,xt=new WeakMap,nt=new WeakMap,tt=new WeakMap,ft=new WeakSet,Rs=function(){window.addEventListener("focus",t(this,G)),window.addEventListener("blur",t(this,D))},wt=new WeakSet,ze=function(){window.removeEventListener("focus",t(this,G)),window.removeEventListener("blur",t(this,D))},$t=new WeakSet,Ve=function(){window.addEventListener("keydown",t(this,dt),{capture:!0})},Gt=new WeakSet,Re=function(){window.removeEventListener("keydown",t(this,dt),{capture:!0})},Bt=new WeakSet,qe=function(){document.addEventListener("copy",t(this,it)),document.addEventListener("cut",t(this,J)),document.addEventListener("paste",t(this,lt))},pt=new WeakSet,Xe=function(){document.removeEventListener("copy",t(this,it)),document.removeEventListener("cut",t(this,J)),document.removeEventListener("paste",t(this,lt))},K=new WeakSet,re=function(s){Object.entries(s).some(([B,V])=>t(this,At)[B]!==V)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(t(this,At),s)})},vt=new WeakSet,ge=function(s){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:s})},Zt=new WeakSet,ws=function(){if(!t(this,n)){rt(this,n,!0);for(const s of t(this,z).values())s.enable()}},St=new WeakSet,Cs=function(){if(this.unselectAll(),t(this,n)){rt(this,n,!1);for(const s of t(this,z).values())s.disable()}},Tt=new WeakSet,Ye=function(s){const S=t(this,z).get(s.pageIndex);S?S.addOrRebuild(s):this.addEditor(s)},Nt=new WeakSet,xe=function(){if(t(this,H).size===0)return!0;if(t(this,H).size===1)for(const s of t(this,H).values())return s.isEmpty();return!1},yt=new WeakSet,Ke=function(s){t(this,p).clear();for(const S of s)S.isEmpty()||(t(this,p).add(S),S.select());Y(this,K,re).call(this,{hasSelectedEditor:!0})},ee(Lt,"TRANSLATE_SMALL",1),ee(Lt,"TRANSLATE_BIG",10);let P=Lt;e.AnnotationEditorUIManager=P},(k,e,L)=>{var at,$,ht,gt,_t,X,v,n,o,r,d,p,de,D,ue,it,Qe,lt,we,mt,Ce,Ct,be,At,Ee;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=M,e.getColorValues=H,e.getCurrentTransform=z,e.getCurrentTransformInverse=T,e.getFilenameFromUrl=y,e.getPdfFilenameFromUrl=C,e.getRGB=g,e.getXfaPageViewport=F,e.isDataScheme=A,e.isPdfFile=m,e.isValidFetchUrl=u,e.loadScript=h,e.noContextMenu=a,e.setLayerDimensions=q;var i=L(7),f=L(1);const W="http://www.w3.org/2000/svg",st=class st{};ee(st,"CSS",96),ee(st,"PDF",72),ee(st,"PDF_TO_CSS_UNITS",st.CSS/st.PDF);let O=st;e.PixelsPerInch=O;class ot extends i.BaseFilterFactory{constructor({docId:tt,ownerDocument:ft=globalThis.document}={}){super();U(this,p);U(this,D);U(this,it);U(this,lt);U(this,mt);U(this,Ct);U(this,At);U(this,at,void 0);U(this,$,void 0);U(this,ht,void 0);U(this,gt,void 0);U(this,_t,void 0);U(this,X,void 0);U(this,v,void 0);U(this,n,void 0);U(this,o,void 0);U(this,r,void 0);U(this,d,0);rt(this,ht,tt),rt(this,gt,ft)}addFilter(tt){if(!tt)return"none";let ft=t(this,p,de).get(tt);if(ft)return ft;let Rt,wt,Ut,$t;if(tt.length===1){const Bt=tt[0],Xt=new Array(256);for(let pt=0;pt<256;pt++)Xt[pt]=Bt[pt]/255;$t=Rt=wt=Ut=Xt.join(",")}else{const[Bt,Xt,pt]=tt,et=new Array(256),K=new Array(256),Et=new Array(256);for(let vt=0;vt<256;vt++)et[vt]=Bt[vt]/255,K[vt]=Xt[vt]/255,Et[vt]=pt[vt]/255;Rt=et.join(","),wt=K.join(","),Ut=Et.join(","),$t=`${Rt}${wt}${Ut}`}if(ft=t(this,p,de).get($t),ft)return t(this,p,de).set(tt,ft),ft;const Wt=`g_${t(this,ht)}_transfer_map_${me(this,d)._++}`,Gt=`url(#${Wt})`;t(this,p,de).set(tt,Gt),t(this,p,de).set($t,Gt);const zt=Y(this,lt,we).call(this,Wt);return Y(this,Ct,be).call(this,Rt,wt,Ut,zt),Gt}addHCMFilter(tt,ft){var Xt;const Rt=`${tt}-${ft}`;if(t(this,X)===Rt)return t(this,v);if(rt(this,X,Rt),rt(this,v,"none"),(Xt=t(this,_t))==null||Xt.remove(),!tt||!ft)return t(this,v);const wt=Y(this,At,Ee).call(this,tt);tt=f.Util.makeHexColor(...wt);const Ut=Y(this,At,Ee).call(this,ft);if(ft=f.Util.makeHexColor(...Ut),t(this,D,ue).style.color="",tt==="#000000"&&ft==="#ffffff"||tt===ft)return t(this,v);const $t=new Array(256);for(let pt=0;pt<=255;pt++){const et=pt/255;$t[pt]=et<=.03928?et/12.92:((et+.055)/1.055)**2.4}const Wt=$t.join(","),Gt=`g_${t(this,ht)}_hcm_filter`,zt=rt(this,n,Y(this,lt,we).call(this,Gt));Y(this,Ct,be).call(this,Wt,Wt,Wt,zt),Y(this,it,Qe).call(this,zt);const Bt=(pt,et)=>{const K=wt[pt]/255,Et=Ut[pt]/255,vt=new Array(et+1);for(let te=0;te<=et;te++)vt[te]=K+te/et*(Et-K);return vt.join(",")};return Y(this,Ct,be).call(this,Bt(0,5),Bt(1,5),Bt(2,5),zt),rt(this,v,`url(#${Gt})`),t(this,v)}addHighlightHCMFilter(tt,ft,Rt,wt){var Et;const Ut=`${tt}-${ft}-${Rt}-${wt}`;if(t(this,o)===Ut)return t(this,r);if(rt(this,o,Ut),rt(this,r,"none"),(Et=t(this,n))==null||Et.remove(),!tt||!ft)return t(this,r);const[$t,Wt]=[tt,ft].map(Y(this,At,Ee).bind(this));let Gt=Math.round(.2126*$t[0]+.7152*$t[1]+.0722*$t[2]),zt=Math.round(.2126*Wt[0]+.7152*Wt[1]+.0722*Wt[2]),[Bt,Xt]=[Rt,wt].map(Y(this,At,Ee).bind(this));zt<Gt&&([Gt,zt,Bt,Xt]=[zt,Gt,Xt,Bt]),t(this,D,ue).style.color="";const pt=(vt,te,Zt)=>{const Z=new Array(256),St=(zt-Gt)/Zt,It=vt/255,Tt=(te-vt)/(255*Zt);let Ot=0;for(let Nt=0;Nt<=Zt;Nt++){const Qt=Math.round(Gt+Nt*St),yt=It+Nt*Tt;for(let Yt=Ot;Yt<=Qt;Yt++)Z[Yt]=yt;Ot=Qt+1}for(let Nt=Ot;Nt<256;Nt++)Z[Nt]=Z[Ot-1];return Z.join(",")},et=`g_${t(this,ht)}_hcm_highlight_filter`,K=rt(this,n,Y(this,lt,we).call(this,et));return Y(this,it,Qe).call(this,K),Y(this,Ct,be).call(this,pt(Bt[0],Xt[0],5),pt(Bt[1],Xt[1],5),pt(Bt[2],Xt[2],5),K),rt(this,r,`url(#${et})`),t(this,r)}destroy(tt=!1){tt&&(t(this,v)||t(this,r))||(t(this,$)&&(t(this,$).parentNode.parentNode.remove(),rt(this,$,null)),t(this,at)&&(t(this,at).clear(),rt(this,at,null)),rt(this,d,0))}}at=new WeakMap,$=new WeakMap,ht=new WeakMap,gt=new WeakMap,_t=new WeakMap,X=new WeakMap,v=new WeakMap,n=new WeakMap,o=new WeakMap,r=new WeakMap,d=new WeakMap,p=new WeakSet,de=function(){return t(this,at)||rt(this,at,new Map)},D=new WeakSet,ue=function(){if(!t(this,$)){const tt=t(this,gt).createElement("div"),{style:ft}=tt;ft.visibility="hidden",ft.contain="strict",ft.width=ft.height=0,ft.position="absolute",ft.top=ft.left=0,ft.zIndex=-1;const Rt=t(this,gt).createElementNS(W,"svg");Rt.setAttribute("width",0),Rt.setAttribute("height",0),rt(this,$,t(this,gt).createElementNS(W,"defs")),tt.append(Rt),Rt.append(t(this,$)),t(this,gt).body.append(tt)}return t(this,$)},it=new WeakSet,Qe=function(tt){const ft=t(this,gt).createElementNS(W,"feColorMatrix");ft.setAttribute("type","matrix"),ft.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),tt.append(ft)},lt=new WeakSet,we=function(tt){const ft=t(this,gt).createElementNS(W,"filter");return ft.setAttribute("color-interpolation-filters","sRGB"),ft.setAttribute("id",tt),t(this,D,ue).append(ft),ft},mt=new WeakSet,Ce=function(tt,ft,Rt){const wt=t(this,gt).createElementNS(W,ft);wt.setAttribute("type","discrete"),wt.setAttribute("tableValues",Rt),tt.append(wt)},Ct=new WeakSet,be=function(tt,ft,Rt,wt){const Ut=t(this,gt).createElementNS(W,"feComponentTransfer");wt.append(Ut),Y(this,mt,Ce).call(this,Ut,"feFuncR",tt),Y(this,mt,Ce).call(this,Ut,"feFuncG",ft),Y(this,mt,Ce).call(this,Ut,"feFuncB",Rt)},At=new WeakSet,Ee=function(tt){return t(this,D,ue).style.color=tt,g(getComputedStyle(t(this,D,ue)).getPropertyValue("color"))},e.DOMFilterFactory=ot;class b extends i.BaseCanvasFactory{constructor({ownerDocument:nt=globalThis.document}={}){super(),this._document=nt}_createCanvas(nt,tt){const ft=this._document.createElement("canvas");return ft.width=nt,ft.height=tt,ft}}e.DOMCanvasFactory=b;async function R(xt,nt=!1){if(u(xt,document.baseURI)){const tt=await fetch(xt);if(!tt.ok)throw new Error(tt.statusText);return nt?new Uint8Array(await tt.arrayBuffer()):(0,f.stringToBytes)(await tt.text())}return new Promise((tt,ft)=>{const Rt=new XMLHttpRequest;Rt.open("GET",xt,!0),nt&&(Rt.responseType="arraybuffer"),Rt.onreadystatechange=()=>{if(Rt.readyState===XMLHttpRequest.DONE){if(Rt.status===200||Rt.status===0){let wt;if(nt&&Rt.response?wt=new Uint8Array(Rt.response):!nt&&Rt.responseText&&(wt=(0,f.stringToBytes)(Rt.responseText)),wt){tt(wt);return}}ft(new Error(Rt.statusText))}},Rt.send(null)})}class l extends i.BaseCMapReaderFactory{_fetchData(nt,tt){return R(nt,this.isCompressed).then(ft=>({cMapData:ft,compressionType:tt}))}}e.DOMCMapReaderFactory=l;class I extends i.BaseStandardFontDataFactory{_fetchData(nt){return R(nt,!0)}}e.DOMStandardFontDataFactory=I;class P extends i.BaseSVGFactory{_createSVG(nt){return document.createElementNS(W,nt)}}e.DOMSVGFactory=P;class w{constructor({viewBox:nt,scale:tt,rotation:ft,offsetX:Rt=0,offsetY:wt=0,dontFlip:Ut=!1}){this.viewBox=nt,this.scale=tt,this.rotation=ft,this.offsetX=Rt,this.offsetY=wt;const $t=(nt[2]+nt[0])/2,Wt=(nt[3]+nt[1])/2;let Gt,zt,Bt,Xt;switch(ft%=360,ft<0&&(ft+=360),ft){case 180:Gt=-1,zt=0,Bt=0,Xt=1;break;case 90:Gt=0,zt=1,Bt=1,Xt=0;break;case 270:Gt=0,zt=-1,Bt=-1,Xt=0;break;case 0:Gt=1,zt=0,Bt=0,Xt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ut&&(Bt=-Bt,Xt=-Xt);let pt,et,K,Et;Gt===0?(pt=Math.abs(Wt-nt[1])*tt+Rt,et=Math.abs($t-nt[0])*tt+wt,K=(nt[3]-nt[1])*tt,Et=(nt[2]-nt[0])*tt):(pt=Math.abs($t-nt[0])*tt+Rt,et=Math.abs(Wt-nt[1])*tt+wt,K=(nt[2]-nt[0])*tt,Et=(nt[3]-nt[1])*tt),this.transform=[Gt*tt,zt*tt,Bt*tt,Xt*tt,pt-Gt*tt*$t-Bt*tt*Wt,et-zt*tt*$t-Xt*tt*Wt],this.width=K,this.height=Et}get rawDims(){const{viewBox:nt}=this;return(0,f.shadow)(this,"rawDims",{pageWidth:nt[2]-nt[0],pageHeight:nt[3]-nt[1],pageX:nt[0],pageY:nt[1]})}clone({scale:nt=this.scale,rotation:tt=this.rotation,offsetX:ft=this.offsetX,offsetY:Rt=this.offsetY,dontFlip:wt=!1}={}){return new w({viewBox:this.viewBox.slice(),scale:nt,rotation:tt,offsetX:ft,offsetY:Rt,dontFlip:wt})}convertToViewportPoint(nt,tt){return f.Util.applyTransform([nt,tt],this.transform)}convertToViewportRectangle(nt){const tt=f.Util.applyTransform([nt[0],nt[1]],this.transform),ft=f.Util.applyTransform([nt[2],nt[3]],this.transform);return[tt[0],tt[1],ft[0],ft[1]]}convertToPdfPoint(nt,tt){return f.Util.applyInverseTransform([nt,tt],this.transform)}}e.PageViewport=w;class _ extends f.BaseException{constructor(nt,tt=0){super(nt,"RenderingCancelledException"),this.extraDelay=tt}}e.RenderingCancelledException=_;function A(xt){const nt=xt.length;let tt=0;for(;tt<nt&&xt[tt].trim()==="";)tt++;return xt.substring(tt,tt+5).toLowerCase()==="data:"}function m(xt){return typeof xt=="string"&&/\.pdf$/i.test(xt)}function y(xt,nt=!1){return nt||([xt]=xt.split(/[#?]/,1)),xt.substring(xt.lastIndexOf("/")+1)}function C(xt,nt="document.pdf"){if(typeof xt!="string")return nt;if(A(xt))return(0,f.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),nt;const tt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ft=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Rt=tt.exec(xt);let wt=ft.exec(Rt[1])||ft.exec(Rt[2])||ft.exec(Rt[3]);if(wt&&(wt=wt[0],wt.includes("%")))try{wt=ft.exec(decodeURIComponent(wt))[0]}catch{}return wt||nt}class x{constructor(){ee(this,"started",Object.create(null));ee(this,"times",[])}time(nt){nt in this.started&&(0,f.warn)(`Timer is already running for ${nt}`),this.started[nt]=Date.now()}timeEnd(nt){nt in this.started||(0,f.warn)(`Timer has not been started for ${nt}`),this.times.push({name:nt,start:this.started[nt],end:Date.now()}),delete this.started[nt]}toString(){const nt=[];let tt=0;for(const{name:ft}of this.times)tt=Math.max(ft.length,tt);for(const{name:ft,start:Rt,end:wt}of this.times)nt.push(`${ft.padEnd(tt)} ${wt-Rt}ms
`);return nt.join("")}}e.StatTimer=x;function u(xt,nt){try{const{protocol:tt}=nt?new URL(xt,nt):new URL(xt);return tt==="http:"||tt==="https:"}catch{return!1}}function a(xt){xt.preventDefault()}function h(xt,nt=!1){return new Promise((tt,ft)=>{const Rt=document.createElement("script");Rt.src=xt,Rt.onload=function(wt){nt&&Rt.remove(),tt(wt)},Rt.onerror=function(){ft(new Error(`Cannot load script at: ${Rt.src}`))},(document.head||document.documentElement).append(Rt)})}function M(xt){console.log("Deprecated API usage: "+xt)}let E;class c{static toDateObject(nt){if(!nt||typeof nt!="string")return null;E||(E=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const tt=E.exec(nt);if(!tt)return null;const ft=parseInt(tt[1],10);let Rt=parseInt(tt[2],10);Rt=Rt>=1&&Rt<=12?Rt-1:0;let wt=parseInt(tt[3],10);wt=wt>=1&&wt<=31?wt:1;let Ut=parseInt(tt[4],10);Ut=Ut>=0&&Ut<=23?Ut:0;let $t=parseInt(tt[5],10);$t=$t>=0&&$t<=59?$t:0;let Wt=parseInt(tt[6],10);Wt=Wt>=0&&Wt<=59?Wt:0;const Gt=tt[7]||"Z";let zt=parseInt(tt[8],10);zt=zt>=0&&zt<=23?zt:0;let Bt=parseInt(tt[9],10)||0;return Bt=Bt>=0&&Bt<=59?Bt:0,Gt==="-"?(Ut+=zt,$t+=Bt):Gt==="+"&&(Ut-=zt,$t-=Bt),new Date(Date.UTC(ft,Rt,wt,Ut,$t,Wt))}}e.PDFDateString=c;function F(xt,{scale:nt=1,rotation:tt=0}){const{width:ft,height:Rt}=xt.attributes.style,wt=[0,0,parseInt(ft),parseInt(Rt)];return new w({viewBox:wt,scale:nt,rotation:tt})}function g(xt){if(xt.startsWith("#")){const nt=parseInt(xt.slice(1),16);return[(nt&16711680)>>16,(nt&65280)>>8,nt&255]}return xt.startsWith("rgb(")?xt.slice(4,-1).split(",").map(nt=>parseInt(nt)):xt.startsWith("rgba(")?xt.slice(5,-1).split(",").map(nt=>parseInt(nt)).slice(0,3):((0,f.warn)(`Not a valid color format: "${xt}"`),[0,0,0])}function H(xt){const nt=document.createElement("span");nt.style.visibility="hidden",document.body.append(nt);for(const tt of xt.keys()){nt.style.color=tt;const ft=window.getComputedStyle(nt).color;xt.set(tt,g(ft))}nt.remove()}function z(xt){const{a:nt,b:tt,c:ft,d:Rt,e:wt,f:Ut}=xt.getTransform();return[nt,tt,ft,Rt,wt,Ut]}function T(xt){const{a:nt,b:tt,c:ft,d:Rt,e:wt,f:Ut}=xt.getTransform().invertSelf();return[nt,tt,ft,Rt,wt,Ut]}function q(xt,nt,tt=!1,ft=!0){if(nt instanceof w){const{pageWidth:Rt,pageHeight:wt}=nt.rawDims,{style:Ut}=xt,$t=f.FeatureTest.isCSSRoundSupported,Wt=`var(--scale-factor) * ${Rt}px`,Gt=`var(--scale-factor) * ${wt}px`,zt=$t?`round(${Wt}, 1px)`:`calc(${Wt})`,Bt=$t?`round(${Gt}, 1px)`:`calc(${Gt})`;!tt||nt.rotation%180===0?(Ut.width=zt,Ut.height=Bt):(Ut.width=Bt,Ut.height=zt)}ft&&xt.setAttribute("data-main-rotation",nt.rotation)}},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var i=L(1);class f{constructor(){this.constructor===f&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(l){return"none"}addHCMFilter(l,I){return"none"}addHighlightHCMFilter(l,I,P,w){return"none"}destroy(l=!1){}}e.BaseFilterFactory=f;class W{constructor(){this.constructor===W&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(l,I){if(l<=0||I<=0)throw new Error("Invalid canvas size");const P=this._createCanvas(l,I);return{canvas:P,context:P.getContext("2d")}}reset(l,I,P){if(!l.canvas)throw new Error("Canvas is not specified");if(I<=0||P<=0)throw new Error("Invalid canvas size");l.canvas.width=I,l.canvas.height=P}destroy(l){if(!l.canvas)throw new Error("Canvas is not specified");l.canvas.width=0,l.canvas.height=0,l.canvas=null,l.context=null}_createCanvas(l,I){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=W;class O{constructor({baseUrl:l=null,isCompressed:I=!0}){this.constructor===O&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=l,this.isCompressed=I}async fetch({name:l}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!l)throw new Error("CMap name must be specified.");const I=this.baseUrl+l+(this.isCompressed?".bcmap":""),P=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(I,P).catch(w=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${I}`)})}_fetchData(l,I){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=O;class ot{constructor({baseUrl:l=null}){this.constructor===ot&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=l}async fetch({filename:l}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!l)throw new Error("Font filename must be specified.");const I=`${this.baseUrl}${l}`;return this._fetchData(I).catch(P=>{throw new Error(`Unable to load font data at: ${I}`)})}_fetchData(l){(0,i.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=ot;class b{constructor(){this.constructor===b&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(l,I,P=!1){if(l<=0||I<=0)throw new Error("Invalid SVG dimensions");const w=this._createSVG("svg:svg");return w.setAttribute("version","1.1"),P||(w.setAttribute("width",`${l}px`),w.setAttribute("height",`${I}px`)),w.setAttribute("preserveAspectRatio","none"),w.setAttribute("viewBox",`0 0 ${l} ${I}`),w}createElement(l){if(typeof l!="string")throw new Error("Invalid SVG element type");return this._createSVG(l)}_createSVG(l){(0,i.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=b},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var i=L(1);const f=3285377520,W=4294901760,O=65535;class ot{constructor(R){this.h1=R?R&4294967295:f,this.h2=R?R&4294967295:f}update(R){let l,I;if(typeof R=="string"){l=new Uint8Array(R.length*2),I=0;for(let M=0,E=R.length;M<E;M++){const c=R.charCodeAt(M);c<=255?l[I++]=c:(l[I++]=c>>>8,l[I++]=c&255)}}else if((0,i.isArrayBuffer)(R))l=R.slice(),I=l.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const P=I>>2,w=I-P*4,_=new Uint32Array(l.buffer,0,P);let A=0,m=0,y=this.h1,C=this.h2;const x=3432918353,u=461845907,a=x&O,h=u&O;for(let M=0;M<P;M++)M&1?(A=_[M],A=A*x&W|A*a&O,A=A<<15|A>>>17,A=A*u&W|A*h&O,y^=A,y=y<<13|y>>>19,y=y*5+3864292196):(m=_[M],m=m*x&W|m*a&O,m=m<<15|m>>>17,m=m*u&W|m*h&O,C^=m,C=C<<13|C>>>19,C=C*5+3864292196);switch(A=0,w){case 3:A^=l[P*4+2]<<16;case 2:A^=l[P*4+1]<<8;case 1:A^=l[P*4],A=A*x&W|A*a&O,A=A<<15|A>>>17,A=A*u&W|A*h&O,P&1?y^=A:C^=A}this.h1=y,this.h2=C}hexdigest(){let R=this.h1,l=this.h2;return R^=l>>>1,R=R*3981806797&W|R*36045&O,l=l*4283543511&W|((l<<16|R>>>16)*2950163797&W)>>>16,R^=l>>>1,R=R*444984403&W|R*60499&O,l=l*3301882366&W|((l<<16|R>>>16)*3120437893&W)>>>16,R^=l>>>1,(R>>>0).toString(16).padStart(8,"0")+(l>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=ot},(k,e,L)=>{var O;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i=L(1);class f{constructor({ownerDocument:b=globalThis.document,styleElement:R=null}){U(this,O,new Set);this._document=b,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(b){this.nativeFontFaces.add(b),this._document.fonts.add(b)}removeNativeFontFace(b){this.nativeFontFaces.delete(b),this._document.fonts.delete(b)}insertRule(b){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const R=this.styleElement.sheet;R.insertRule(b,R.cssRules.length)}clear(){for(const b of this.nativeFontFaces)this._document.fonts.delete(b);this.nativeFontFaces.clear(),t(this,O).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(b){if(!(!b||t(this,O).has(b.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:R,src:l,style:I}=b,P=new FontFace(R,l,I);this.addNativeFontFace(P);try{await P.load(),t(this,O).add(R)}catch{(0,i.warn)(`Cannot load system font: ${b.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(P)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(b){if(b.attached||b.missingFile&&!b.systemFontInfo)return;if(b.attached=!0,b.systemFontInfo){await this.loadSystemFont(b.systemFontInfo);return}if(this.isFontLoadingAPISupported){const l=b.createNativeFontFace();if(l){this.addNativeFontFace(l);try{await l.loaded}catch(I){throw(0,i.warn)(`Failed to load font '${l.family}': '${I}'.`),b.disableFontFace=!0,I}}return}const R=b.createFontFaceRule();if(R){if(this.insertRule(R),this.isSyncFontLoadingSupported)return;await new Promise(l=>{const I=this._queueLoadingCallback(l);this._prepareFontLoadEvent(b,I)})}}get isFontLoadingAPISupported(){var R;const b=!!((R=this._document)!=null&&R.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",b)}get isSyncFontLoadingSupported(){let b=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(b=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",b)}_queueLoadingCallback(b){function R(){for((0,i.assert)(!I.done,"completeRequest() cannot be called twice."),I.done=!0;l.length>0&&l[0].done;){const P=l.shift();setTimeout(P.callback,0)}}const{loadingRequests:l}=this,I={done:!1,complete:R,callback:b};return l.push(I),I}get _loadTestFont(){const b=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",b)}_prepareFontLoadEvent(b,R){function l(g,H){return g.charCodeAt(H)<<24|g.charCodeAt(H+1)<<16|g.charCodeAt(H+2)<<8|g.charCodeAt(H+3)&255}function I(g,H,z,T){const q=g.substring(0,H),st=g.substring(H+z);return q+T+st}let P,w;const _=this._document.createElement("canvas");_.width=1,_.height=1;const A=_.getContext("2d");let m=0;function y(g,H){if(++m>30){(0,i.warn)("Load test font never loaded."),H();return}if(A.font="30px "+g,A.fillText(".",0,20),A.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(y.bind(null,g,H))}const C=`lt${Date.now()}${this.loadTestFontId++}`;let x=this._loadTestFont;x=I(x,976,C.length,C);const a=16,h=1482184792;let M=l(x,a);for(P=0,w=C.length-3;P<w;P+=4)M=M-h+l(C,P)|0;P<C.length&&(M=M-h+l(C+"XXX",P)|0),x=I(x,a,4,(0,i.string32)(M));const E=`url(data:font/opentype;base64,${btoa(x)});`,c=`@font-face {font-family:"${C}";src:${E}}`;this.insertRule(c);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const g of[b.loadedName,C]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=g,F.append(H)}this._document.body.append(F),y(C,()=>{F.remove(),R.complete()})}}O=new WeakMap,e.FontLoader=f;class W{constructor(b,{isEvalSupported:R=!0,disableFontFace:l=!1,ignoreErrors:I=!1,inspectFont:P=null}){this.compiledGlyphs=Object.create(null);for(const w in b)this[w]=b[w];this.isEvalSupported=R!==!1,this.disableFontFace=l===!0,this.ignoreErrors=I===!0,this._inspectFont=P}createNativeFontFace(){var R;if(!this.data||this.disableFontFace)return null;let b;if(!this.cssFontInfo)b=new FontFace(this.loadedName,this.data,{});else{const l={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(l.style=`oblique ${this.cssFontInfo.italicAngle}deg`),b=new FontFace(this.cssFontInfo.fontFamily,this.data,l)}return(R=this._inspectFont)==null||R.call(this,this),b}createFontFaceRule(){var I;if(!this.data||this.disableFontFace)return null;const b=(0,i.bytesToString)(this.data),R=`url(data:${this.mimetype};base64,${btoa(b)});`;let l;if(!this.cssFontInfo)l=`@font-face {font-family:"${this.loadedName}";src:${R}}`;else{let P=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(P+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),l=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${P}src:${R}}`}return(I=this._inspectFont)==null||I.call(this,this,R),l}getPathGenerator(b,R){if(this.compiledGlyphs[R]!==void 0)return this.compiledGlyphs[R];let l;try{l=b.get(this.loadedName+"_path_"+R)}catch(I){if(!this.ignoreErrors)throw I;return(0,i.warn)(`getPathGenerator - ignoring character: "${I}".`),this.compiledGlyphs[R]=function(P,w){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const I=[];for(const P of l){const w=P.args!==void 0?P.args.join(","):"";I.push("c.",P.cmd,"(",w,`);
`)}return this.compiledGlyphs[R]=new Function("c","size",I.join(""))}return this.compiledGlyphs[R]=function(I,P){for(const w of l)w.cmd==="scale"&&(w.args=[P,-P]),I[w.cmd].apply(I,w.args)}}}e.FontFaceObject=W},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var i=L(7);L(1);const f=function(R){return new Promise((l,I)=>{require$$5.readFile(R,(w,_)=>{if(w||!_){I(new Error(w));return}l(new Uint8Array(_))})})};class W extends i.BaseFilterFactory{}e.NodeFilterFactory=W;class O extends i.BaseCanvasFactory{_createCanvas(l,I){return require$$5.createCanvas(l,I)}}e.NodeCanvasFactory=O;class ot extends i.BaseCMapReaderFactory{_fetchData(l,I){return f(l).then(P=>({cMapData:P,compressionType:I}))}}e.NodeCMapReaderFactory=ot;class b extends i.BaseStandardFontDataFactory{_fetchData(l){return f(l)}}e.NodeStandardFontDataFactory=b},(k,e,L)=>{var $,Je,gt,Ze;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=L(1),f=L(6),W=L(12),O=L(13);const ot=16,b=100,R=4096,l=15,I=10,P=1e3,w=16;function _(v,n){if(v._removeMirroring)throw new Error("Context is already forwarding operations.");v.__originalSave=v.save,v.__originalRestore=v.restore,v.__originalRotate=v.rotate,v.__originalScale=v.scale,v.__originalTranslate=v.translate,v.__originalTransform=v.transform,v.__originalSetTransform=v.setTransform,v.__originalResetTransform=v.resetTransform,v.__originalClip=v.clip,v.__originalMoveTo=v.moveTo,v.__originalLineTo=v.lineTo,v.__originalBezierCurveTo=v.bezierCurveTo,v.__originalRect=v.rect,v.__originalClosePath=v.closePath,v.__originalBeginPath=v.beginPath,v._removeMirroring=()=>{v.save=v.__originalSave,v.restore=v.__originalRestore,v.rotate=v.__originalRotate,v.scale=v.__originalScale,v.translate=v.__originalTranslate,v.transform=v.__originalTransform,v.setTransform=v.__originalSetTransform,v.resetTransform=v.__originalResetTransform,v.clip=v.__originalClip,v.moveTo=v.__originalMoveTo,v.lineTo=v.__originalLineTo,v.bezierCurveTo=v.__originalBezierCurveTo,v.rect=v.__originalRect,v.closePath=v.__originalClosePath,v.beginPath=v.__originalBeginPath,delete v._removeMirroring},v.save=function(){n.save(),this.__originalSave()},v.restore=function(){n.restore(),this.__originalRestore()},v.translate=function(r,d){n.translate(r,d),this.__originalTranslate(r,d)},v.scale=function(r,d){n.scale(r,d),this.__originalScale(r,d)},v.transform=function(r,d,p,j,D,G){n.transform(r,d,p,j,D,G),this.__originalTransform(r,d,p,j,D,G)},v.setTransform=function(r,d,p,j,D,G){n.setTransform(r,d,p,j,D,G),this.__originalSetTransform(r,d,p,j,D,G)},v.resetTransform=function(){n.resetTransform(),this.__originalResetTransform()},v.rotate=function(r){n.rotate(r),this.__originalRotate(r)},v.clip=function(r){n.clip(r),this.__originalClip(r)},v.moveTo=function(o,r){n.moveTo(o,r),this.__originalMoveTo(o,r)},v.lineTo=function(o,r){n.lineTo(o,r),this.__originalLineTo(o,r)},v.bezierCurveTo=function(o,r,d,p,j,D){n.bezierCurveTo(o,r,d,p,j,D),this.__originalBezierCurveTo(o,r,d,p,j,D)},v.rect=function(o,r,d,p){n.rect(o,r,d,p),this.__originalRect(o,r,d,p)},v.closePath=function(){n.closePath(),this.__originalClosePath()},v.beginPath=function(){n.beginPath(),this.__originalBeginPath()}}class A{constructor(n){this.canvasFactory=n,this.cache=Object.create(null)}getCanvas(n,o,r){let d;return this.cache[n]!==void 0?(d=this.cache[n],this.canvasFactory.reset(d,o,r)):(d=this.canvasFactory.create(o,r),this.cache[n]=d),d}delete(n){delete this.cache[n]}clear(){for(const n in this.cache){const o=this.cache[n];this.canvasFactory.destroy(o),delete this.cache[n]}}}function m(v,n,o,r,d,p,j,D,G,it){const[J,lt,dt,mt,ut,Ct]=(0,f.getCurrentTransform)(v);if(lt===0&&dt===0){const Mt=j*J+ut,xt=Math.round(Mt),nt=D*mt+Ct,tt=Math.round(nt),ft=(j+G)*J+ut,Rt=Math.abs(Math.round(ft)-xt)||1,wt=(D+it)*mt+Ct,Ut=Math.abs(Math.round(wt)-tt)||1;return v.setTransform(Math.sign(J),0,0,Math.sign(mt),xt,tt),v.drawImage(n,o,r,d,p,0,0,Rt,Ut),v.setTransform(J,lt,dt,mt,ut,Ct),[Rt,Ut]}if(J===0&&mt===0){const Mt=D*dt+ut,xt=Math.round(Mt),nt=j*lt+Ct,tt=Math.round(nt),ft=(D+it)*dt+ut,Rt=Math.abs(Math.round(ft)-xt)||1,wt=(j+G)*lt+Ct,Ut=Math.abs(Math.round(wt)-tt)||1;return v.setTransform(0,Math.sign(lt),Math.sign(dt),0,xt,tt),v.drawImage(n,o,r,d,p,0,0,Ut,Rt),v.setTransform(J,lt,dt,mt,ut,Ct),[Ut,Rt]}v.drawImage(n,o,r,d,p,j,D,G,it);const Dt=Math.hypot(J,lt),At=Math.hypot(dt,mt);return[Dt*G,At*it]}function y(v){const{width:n,height:o}=v;if(n>P||o>P)return null;const r=1e3,d=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=n+1;let j=new Uint8Array(p*(o+1)),D,G,it;const J=n+7&-8;let lt=new Uint8Array(J*o),dt=0;for(const At of v.data){let Mt=128;for(;Mt>0;)lt[dt++]=At&Mt?0:255,Mt>>=1}let mt=0;for(dt=0,lt[dt]!==0&&(j[0]=1,++mt),G=1;G<n;G++)lt[dt]!==lt[dt+1]&&(j[G]=lt[dt]?2:1,++mt),dt++;for(lt[dt]!==0&&(j[G]=2,++mt),D=1;D<o;D++){dt=D*J,it=D*p,lt[dt-J]!==lt[dt]&&(j[it]=lt[dt]?1:8,++mt);let At=(lt[dt]?4:0)+(lt[dt-J]?8:0);for(G=1;G<n;G++)At=(At>>2)+(lt[dt+1]?4:0)+(lt[dt-J+1]?8:0),d[At]&&(j[it+G]=d[At],++mt),dt++;if(lt[dt-J]!==lt[dt]&&(j[it+G]=lt[dt]?2:4,++mt),mt>r)return null}for(dt=J*(o-1),it=D*p,lt[dt]!==0&&(j[it]=8,++mt),G=1;G<n;G++)lt[dt]!==lt[dt+1]&&(j[it+G]=lt[dt]?4:8,++mt),dt++;if(lt[dt]!==0&&(j[it+G]=4,++mt),mt>r)return null;const ut=new Int32Array([0,p,-1,0,-p,0,0,0,1]),Ct=new Path2D;for(D=0;mt&&D<=o;D++){let At=D*p;const Mt=At+n;for(;At<Mt&&!j[At];)At++;if(At===Mt)continue;Ct.moveTo(At%p,D);const xt=At;let nt=j[At];do{const tt=ut[nt];do At+=tt;while(!j[At]);const ft=j[At];ft!==5&&ft!==10?(nt=ft,j[At]=0):(nt=ft&51*nt>>4,j[At]&=nt>>2|nt<<2),Ct.lineTo(At%p,At/p|0),j[At]||--mt}while(xt!==At);--D}return lt=null,j=null,function(At){At.save(),At.scale(1/n,-1/o),At.translate(0,-o),At.fill(Ct),At.beginPath(),At.restore()}}class C{constructor(n,o){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,n,o])}clone(){const n=Object.create(this);return n.clipBox=this.clipBox.slice(),n}setCurrentPoint(n,o){this.x=n,this.y=o}updatePathMinMax(n,o,r){[o,r]=i.Util.applyTransform([o,r],n),this.minX=Math.min(this.minX,o),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,o),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(n,o){const r=i.Util.applyTransform(o,n),d=i.Util.applyTransform(o.slice(2),n);this.minX=Math.min(this.minX,r[0],d[0]),this.minY=Math.min(this.minY,r[1],d[1]),this.maxX=Math.max(this.maxX,r[0],d[0]),this.maxY=Math.max(this.maxY,r[1],d[1])}updateScalingPathMinMax(n,o){i.Util.scaleMinMax(n,o),this.minX=Math.min(this.minX,o[0]),this.maxX=Math.max(this.maxX,o[1]),this.minY=Math.min(this.minY,o[2]),this.maxY=Math.max(this.maxY,o[3])}updateCurvePathMinMax(n,o,r,d,p,j,D,G,it,J){const lt=i.Util.bezierBoundingBox(o,r,d,p,j,D,G,it);if(J){J[0]=Math.min(J[0],lt[0],lt[2]),J[1]=Math.max(J[1],lt[0],lt[2]),J[2]=Math.min(J[2],lt[1],lt[3]),J[3]=Math.max(J[3],lt[1],lt[3]);return}this.updateRectMinMax(n,lt)}getPathBoundingBox(n=W.PathType.FILL,o=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(n===W.PathType.STROKE){o||(0,i.unreachable)("Stroke bounding box must include transform.");const d=i.Util.singularValueDecompose2dScale(o),p=d[0]*this.lineWidth/2,j=d[1]*this.lineWidth/2;r[0]-=p,r[1]-=j,r[2]+=p,r[3]+=j}return r}updateClipFromPath(){const n=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(n||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(n){this.clipBox=n,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(n=W.PathType.FILL,o=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(n,o))}}function x(v,n){if(typeof ImageData<"u"&&n instanceof ImageData){v.putImageData(n,0,0);return}const o=n.height,r=n.width,d=o%w,p=(o-d)/w,j=d===0?p:p+1,D=v.createImageData(r,w);let G=0,it;const J=n.data,lt=D.data;let dt,mt,ut,Ct;if(n.kind===i.ImageKind.GRAYSCALE_1BPP){const Dt=J.byteLength,At=new Uint32Array(lt.buffer,0,lt.byteLength>>2),Mt=At.length,xt=r+7>>3,nt=4294967295,tt=i.FeatureTest.isLittleEndian?4278190080:255;for(dt=0;dt<j;dt++){for(ut=dt<p?w:d,it=0,mt=0;mt<ut;mt++){const ft=Dt-G;let Rt=0;const wt=ft>xt?r:ft*8-7,Ut=wt&-8;let $t=0,Wt=0;for(;Rt<Ut;Rt+=8)Wt=J[G++],At[it++]=Wt&128?nt:tt,At[it++]=Wt&64?nt:tt,At[it++]=Wt&32?nt:tt,At[it++]=Wt&16?nt:tt,At[it++]=Wt&8?nt:tt,At[it++]=Wt&4?nt:tt,At[it++]=Wt&2?nt:tt,At[it++]=Wt&1?nt:tt;for(;Rt<wt;Rt++)$t===0&&(Wt=J[G++],$t=128),At[it++]=Wt&$t?nt:tt,$t>>=1}for(;it<Mt;)At[it++]=0;v.putImageData(D,0,dt*w)}}else if(n.kind===i.ImageKind.RGBA_32BPP){for(mt=0,Ct=r*w*4,dt=0;dt<p;dt++)lt.set(J.subarray(G,G+Ct)),G+=Ct,v.putImageData(D,0,mt),mt+=w;dt<j&&(Ct=r*d*4,lt.set(J.subarray(G,G+Ct)),v.putImageData(D,0,mt))}else if(n.kind===i.ImageKind.RGB_24BPP)for(ut=w,Ct=r*ut,dt=0;dt<j;dt++){for(dt>=p&&(ut=d,Ct=r*ut),it=0,mt=Ct;mt--;)lt[it++]=J[G++],lt[it++]=J[G++],lt[it++]=J[G++],lt[it++]=255;v.putImageData(D,0,dt*w)}else throw new Error(`bad image kind: ${n.kind}`)}function u(v,n){if(n.bitmap){v.drawImage(n.bitmap,0,0);return}const o=n.height,r=n.width,d=o%w,p=(o-d)/w,j=d===0?p:p+1,D=v.createImageData(r,w);let G=0;const it=n.data,J=D.data;for(let lt=0;lt<j;lt++){const dt=lt<p?w:d;({srcPos:G}=(0,O.convertBlackAndWhiteToRGBA)({src:it,srcPos:G,dest:J,width:r,height:dt,nonBlackColor:0})),v.putImageData(D,0,lt*w)}}function a(v,n){const o=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of o)v[r]!==void 0&&(n[r]=v[r]);v.setLineDash!==void 0&&(n.setLineDash(v.getLineDash()),n.lineDashOffset=v.lineDashOffset)}function h(v){if(v.strokeStyle=v.fillStyle="#000000",v.fillRule="nonzero",v.globalAlpha=1,v.lineWidth=1,v.lineCap="butt",v.lineJoin="miter",v.miterLimit=10,v.globalCompositeOperation="source-over",v.font="10px sans-serif",v.setLineDash!==void 0&&(v.setLineDash([]),v.lineDashOffset=0),!i.isNodeJS){const{filter:n}=v;n!=="none"&&n!==""&&(v.filter="none")}}function M(v,n,o,r){const d=v.length;for(let p=3;p<d;p+=4){const j=v[p];if(j===0)v[p-3]=n,v[p-2]=o,v[p-1]=r;else if(j<255){const D=255-j;v[p-3]=v[p-3]*j+n*D>>8,v[p-2]=v[p-2]*j+o*D>>8,v[p-1]=v[p-1]*j+r*D>>8}}}function E(v,n,o){const r=v.length,d=1/255;for(let p=3;p<r;p+=4){const j=o?o[v[p]]:v[p];n[p]=n[p]*j*d|0}}function c(v,n,o){const r=v.length;for(let d=3;d<r;d+=4){const p=v[d-3]*77+v[d-2]*152+v[d-1]*28;n[d]=o?n[d]*o[p>>8]>>8:n[d]*p>>16}}function F(v,n,o,r,d,p,j,D,G,it,J){const lt=!!p,dt=lt?p[0]:0,mt=lt?p[1]:0,ut=lt?p[2]:0,Ct=d==="Luminosity"?c:E,At=Math.min(r,Math.ceil(1048576/o));for(let Mt=0;Mt<r;Mt+=At){const xt=Math.min(At,r-Mt),nt=v.getImageData(D-it,Mt+(G-J),o,xt),tt=n.getImageData(D,Mt+G,o,xt);lt&&M(nt.data,dt,mt,ut),Ct(nt.data,tt.data,j),n.putImageData(tt,D,Mt+G)}}function g(v,n,o,r){const d=r[0],p=r[1],j=r[2]-d,D=r[3]-p;j===0||D===0||(F(n.context,o,j,D,n.subtype,n.backdrop,n.transferMap,d,p,n.offsetX,n.offsetY),v.save(),v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),v.drawImage(o.canvas,0,0),v.restore())}function H(v,n){const o=i.Util.singularValueDecompose2dScale(v);o[0]=Math.fround(o[0]),o[1]=Math.fround(o[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*f.PixelsPerInch.PDF_TO_CSS_UNITS);return n!==void 0?n:o[0]<=r||o[1]<=r}const z=["butt","round","square"],T=["miter","round","bevel"],q={},st={},X=class X{constructor(n,o,r,d,p,{optionalContentConfig:j,markedContentStack:D=null},G,it){U(this,$);U(this,gt);this.ctx=n,this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=o,this.objs=r,this.canvasFactory=d,this.filterFactory=p,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=D||[],this.optionalContentConfig=j,this.cachedCanvases=new A(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=G,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=it,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(n,o=null){return typeof n=="string"?n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n):o}beginDrawing({transform:n,viewport:o,transparency:r=!1,background:d=null}){const p=this.ctx.canvas.width,j=this.ctx.canvas.height,D=this.ctx.fillStyle;if(this.ctx.fillStyle=d||"#ffffff",this.ctx.fillRect(0,0,p,j),this.ctx.fillStyle=D,r){const G=this.cachedCanvases.getCanvas("transparent",p,j);this.compositeCtx=this.ctx,this.transparentCanvas=G.canvas,this.ctx=G.context,this.ctx.save(),this.ctx.transform(...(0,f.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),h(this.ctx),n&&(this.ctx.transform(...n),this.outputScaleX=n[0],this.outputScaleY=n[0]),this.ctx.transform(...o.transform),this.viewportScale=o.scale,this.baseTransform=(0,f.getCurrentTransform)(this.ctx)}executeOperatorList(n,o,r,d){const p=n.argsArray,j=n.fnArray;let D=o||0;const G=p.length;if(G===D)return D;const it=G-D>I&&typeof r=="function",J=it?Date.now()+l:0;let lt=0;const dt=this.commonObjs,mt=this.objs;let ut;for(;;){if(d!==void 0&&D===d.nextBreakPoint)return d.breakIt(D,r),D;if(ut=j[D],ut!==i.OPS.dependency)this[ut].apply(this,p[D]);else for(const Ct of p[D]){const Dt=Ct.startsWith("g_")?dt:mt;if(!Dt.has(Ct))return Dt.get(Ct,r),D}if(D++,D===G)return D;if(it&&++lt>I){if(Date.now()>J)return r(),D;lt=0}}}endDrawing(){Y(this,$,Je).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const n of this._cachedBitmapsMap.values()){for(const o of n.values())typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement&&(o.width=o.height=0);n.clear()}this._cachedBitmapsMap.clear(),Y(this,gt,Ze).call(this)}_scaleImage(n,o){const r=n.width,d=n.height;let p=Math.max(Math.hypot(o[0],o[1]),1),j=Math.max(Math.hypot(o[2],o[3]),1),D=r,G=d,it="prescale1",J,lt;for(;p>2&&D>1||j>2&&G>1;){let dt=D,mt=G;p>2&&D>1&&(dt=D>=16384?Math.floor(D/2)-1||1:Math.ceil(D/2),p/=D/dt),j>2&&G>1&&(mt=G>=16384?Math.floor(G/2)-1||1:Math.ceil(G)/2,j/=G/mt),J=this.cachedCanvases.getCanvas(it,dt,mt),lt=J.context,lt.clearRect(0,0,dt,mt),lt.drawImage(n,0,0,D,G,0,0,dt,mt),n=J.canvas,D=dt,G=mt,it=it==="prescale1"?"prescale2":"prescale1"}return{img:n,paintWidth:D,paintHeight:G}}_createMaskCanvas(n){const o=this.ctx,{width:r,height:d}=n,p=this.current.fillColor,j=this.current.patternFill,D=(0,f.getCurrentTransform)(o);let G,it,J,lt;if((n.bitmap||n.data)&&n.count>1){const Rt=n.bitmap||n.data.buffer;it=JSON.stringify(j?D:[D.slice(0,4),p]),G=this._cachedBitmapsMap.get(Rt),G||(G=new Map,this._cachedBitmapsMap.set(Rt,G));const wt=G.get(it);if(wt&&!j){const Ut=Math.round(Math.min(D[0],D[2])+D[4]),$t=Math.round(Math.min(D[1],D[3])+D[5]);return{canvas:wt,offsetX:Ut,offsetY:$t}}J=wt}J||(lt=this.cachedCanvases.getCanvas("maskCanvas",r,d),u(lt.context,n));let dt=i.Util.transform(D,[1/r,0,0,-1/d,0,0]);dt=i.Util.transform(dt,[1,0,0,1,0,-d]);const mt=i.Util.applyTransform([0,0],dt),ut=i.Util.applyTransform([r,d],dt),Ct=i.Util.normalizeRect([mt[0],mt[1],ut[0],ut[1]]),Dt=Math.round(Ct[2]-Ct[0])||1,At=Math.round(Ct[3]-Ct[1])||1,Mt=this.cachedCanvases.getCanvas("fillCanvas",Dt,At),xt=Mt.context,nt=Math.min(mt[0],ut[0]),tt=Math.min(mt[1],ut[1]);xt.translate(-nt,-tt),xt.transform(...dt),J||(J=this._scaleImage(lt.canvas,(0,f.getCurrentTransformInverse)(xt)),J=J.img,G&&j&&G.set(it,J)),xt.imageSmoothingEnabled=H((0,f.getCurrentTransform)(xt),n.interpolate),m(xt,J,0,0,J.width,J.height,0,0,r,d),xt.globalCompositeOperation="source-in";const ft=i.Util.transform((0,f.getCurrentTransformInverse)(xt),[1,0,0,1,-nt,-tt]);return xt.fillStyle=j?p.getPattern(o,this,ft,W.PathType.FILL):p,xt.fillRect(0,0,r,d),G&&!j&&(this.cachedCanvases.delete("fillCanvas"),G.set(it,Mt.canvas)),{canvas:Mt.canvas,offsetX:Math.round(nt),offsetY:Math.round(tt)}}setLineWidth(n){n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(n){this.ctx.lineCap=z[n]}setLineJoin(n){this.ctx.lineJoin=T[n]}setMiterLimit(n){this.ctx.miterLimit=n}setDash(n,o){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(n),r.lineDashOffset=o)}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[o,r]of n)switch(o){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const n=this.inSMaskMode;this.current.activeSMask&&!n?this.beginSMaskMode():!this.current.activeSMask&&n&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,o=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,d=this.cachedCanvases.getCanvas(r,n,o);this.suspendedCtx=this.ctx,this.ctx=d.context;const p=this.ctx;p.setTransform(...(0,f.getCurrentTransform)(this.suspendedCtx)),a(this.suspendedCtx,p),_(p,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),a(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(n){if(!this.current.activeSMask)return;n?(n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.ceil(n[2]),n[3]=Math.ceil(n[3])):n=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const o=this.current.activeSMask,r=this.suspendedCtx;g(r,o,this.ctx,n),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(a(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),a(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(n,o,r,d,p,j){this.ctx.transform(n,o,r,d,p,j),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(n,o,r){const d=this.ctx,p=this.current;let j=p.x,D=p.y,G,it;const J=(0,f.getCurrentTransform)(d),lt=J[0]===0&&J[3]===0||J[1]===0&&J[2]===0,dt=lt?r.slice(0):null;for(let mt=0,ut=0,Ct=n.length;mt<Ct;mt++)switch(n[mt]|0){case i.OPS.rectangle:j=o[ut++],D=o[ut++];const Dt=o[ut++],At=o[ut++],Mt=j+Dt,xt=D+At;d.moveTo(j,D),Dt===0||At===0?d.lineTo(Mt,xt):(d.lineTo(Mt,D),d.lineTo(Mt,xt),d.lineTo(j,xt)),lt||p.updateRectMinMax(J,[j,D,Mt,xt]),d.closePath();break;case i.OPS.moveTo:j=o[ut++],D=o[ut++],d.moveTo(j,D),lt||p.updatePathMinMax(J,j,D);break;case i.OPS.lineTo:j=o[ut++],D=o[ut++],d.lineTo(j,D),lt||p.updatePathMinMax(J,j,D);break;case i.OPS.curveTo:G=j,it=D,j=o[ut+4],D=o[ut+5],d.bezierCurveTo(o[ut],o[ut+1],o[ut+2],o[ut+3],j,D),p.updateCurvePathMinMax(J,G,it,o[ut],o[ut+1],o[ut+2],o[ut+3],j,D,dt),ut+=6;break;case i.OPS.curveTo2:G=j,it=D,d.bezierCurveTo(j,D,o[ut],o[ut+1],o[ut+2],o[ut+3]),p.updateCurvePathMinMax(J,G,it,j,D,o[ut],o[ut+1],o[ut+2],o[ut+3],dt),j=o[ut+2],D=o[ut+3],ut+=4;break;case i.OPS.curveTo3:G=j,it=D,j=o[ut+2],D=o[ut+3],d.bezierCurveTo(o[ut],o[ut+1],j,D,j,D),p.updateCurvePathMinMax(J,G,it,o[ut],o[ut+1],j,D,j,D,dt),ut+=4;break;case i.OPS.closePath:d.closePath();break}lt&&p.updateScalingPathMinMax(J,dt),p.setCurrentPoint(j,D)}closePath(){this.ctx.closePath()}stroke(n=!0){const o=this.ctx,r=this.current.strokeColor;o.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(o.save(),o.strokeStyle=r.getPattern(o,this,(0,f.getCurrentTransformInverse)(o),W.PathType.STROKE),this.rescaleAndStroke(!1),o.restore()):this.rescaleAndStroke(!0)),n&&this.consumePath(this.current.getClippedPathBoundingBox()),o.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(n=!0){const o=this.ctx,r=this.current.fillColor,d=this.current.patternFill;let p=!1;d&&(o.save(),o.fillStyle=r.getPattern(o,this,(0,f.getCurrentTransformInverse)(o),W.PathType.FILL),p=!0);const j=this.current.getClippedPathBoundingBox();this.contentVisible&&j!==null&&(this.pendingEOFill?(o.fill("evenodd"),this.pendingEOFill=!1):o.fill()),p&&o.restore(),n&&this.consumePath(j)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=q}eoClip(){this.pendingClip=st}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const n=this.pendingTextPaths,o=this.ctx;if(n===void 0){o.beginPath();return}o.save(),o.beginPath();for(const r of n)o.setTransform(...r.transform),o.translate(r.x,r.y),r.addToPath(o,r.fontSize);o.restore(),o.clip(),o.beginPath(),delete this.pendingTextPaths}setCharSpacing(n){this.current.charSpacing=n}setWordSpacing(n){this.current.wordSpacing=n}setHScale(n){this.current.textHScale=n/100}setLeading(n){this.current.leading=-n}setFont(n,o){var J;const r=this.commonObjs.get(n),d=this.current;if(!r)throw new Error(`Can't find font for ${n}`);if(d.fontMatrix=r.fontMatrix||i.FONT_IDENTITY_MATRIX,(d.fontMatrix[0]===0||d.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+n),o<0?(o=-o,d.fontDirection=-1):d.fontDirection=1,this.current.font=r,this.current.fontSize=o,r.isType3Font)return;const p=r.loadedName||"sans-serif",j=((J=r.systemFontInfo)==null?void 0:J.css)||`"${p}", ${r.fallbackName}`;let D="normal";r.black?D="900":r.bold&&(D="bold");const G=r.italic?"italic":"normal";let it=o;o<ot?it=ot:o>b&&(it=b),this.current.fontSizeScale=o/it,this.ctx.font=`${G} ${D} ${it}px ${j}`}setTextRenderingMode(n){this.current.textRenderingMode=n}setTextRise(n){this.current.textRise=n}moveText(n,o){this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=o}setLeadingMoveText(n,o){this.setLeading(-o),this.moveText(n,o)}setTextMatrix(n,o,r,d,p,j){this.current.textMatrix=[n,o,r,d,p,j],this.current.textMatrixScale=Math.hypot(n,o),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(n,o,r,d){const p=this.ctx,j=this.current,D=j.font,G=j.textRenderingMode,it=j.fontSize/j.fontSizeScale,J=G&i.TextRenderingMode.FILL_STROKE_MASK,lt=!!(G&i.TextRenderingMode.ADD_TO_PATH_FLAG),dt=j.patternFill&&!D.missingFile;let mt;(D.disableFontFace||lt||dt)&&(mt=D.getPathGenerator(this.commonObjs,n)),D.disableFontFace||dt?(p.save(),p.translate(o,r),p.beginPath(),mt(p,it),d&&p.setTransform(...d),(J===i.TextRenderingMode.FILL||J===i.TextRenderingMode.FILL_STROKE)&&p.fill(),(J===i.TextRenderingMode.STROKE||J===i.TextRenderingMode.FILL_STROKE)&&p.stroke(),p.restore()):((J===i.TextRenderingMode.FILL||J===i.TextRenderingMode.FILL_STROKE)&&p.fillText(n,o,r),(J===i.TextRenderingMode.STROKE||J===i.TextRenderingMode.FILL_STROKE)&&p.strokeText(n,o,r)),lt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,f.getCurrentTransform)(p),x:o,y:r,fontSize:it,addToPath:mt})}get isFontSubpixelAAEnabled(){const{context:n}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);n.scale(1.5,1),n.fillText("I",0,10);const o=n.getImageData(0,0,10,10).data;let r=!1;for(let d=3;d<o.length;d+=4)if(o[d]>0&&o[d]<255){r=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",r)}showText(n){const o=this.current,r=o.font;if(r.isType3Font)return this.showType3Text(n);const d=o.fontSize;if(d===0)return;const p=this.ctx,j=o.fontSizeScale,D=o.charSpacing,G=o.wordSpacing,it=o.fontDirection,J=o.textHScale*it,lt=n.length,dt=r.vertical,mt=dt?1:-1,ut=r.defaultVMetrics,Ct=d*o.fontMatrix[0],Dt=o.textRenderingMode===i.TextRenderingMode.FILL&&!r.disableFontFace&&!o.patternFill;p.save(),p.transform(...o.textMatrix),p.translate(o.x,o.y+o.textRise),it>0?p.scale(J,-1):p.scale(J,1);let At;if(o.patternFill){p.save();const ft=o.fillColor.getPattern(p,this,(0,f.getCurrentTransformInverse)(p),W.PathType.FILL);At=(0,f.getCurrentTransform)(p),p.restore(),p.fillStyle=ft}let Mt=o.lineWidth;const xt=o.textMatrixScale;if(xt===0||Mt===0){const ft=o.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(ft===i.TextRenderingMode.STROKE||ft===i.TextRenderingMode.FILL_STROKE)&&(Mt=this.getSinglePixelWidth())}else Mt/=xt;if(j!==1&&(p.scale(j,j),Mt/=j),p.lineWidth=Mt,r.isInvalidPDFjsFont){const ft=[];let Rt=0;for(const wt of n)ft.push(wt.unicode),Rt+=wt.width;p.fillText(ft.join(""),0,0),o.x+=Rt*Ct*J,p.restore(),this.compose();return}let nt=0,tt;for(tt=0;tt<lt;++tt){const ft=n[tt];if(typeof ft=="number"){nt+=mt*ft*d/1e3;continue}let Rt=!1;const wt=(ft.isSpace?G:0)+D,Ut=ft.fontChar,$t=ft.accent;let Wt,Gt,zt=ft.width;if(dt){const Xt=ft.vmetric||ut,pt=-(ft.vmetric?Xt[1]:zt*.5)*Ct,et=Xt[2]*Ct;zt=Xt?-Xt[0]:zt,Wt=pt/j,Gt=(nt+et)/j}else Wt=nt/j,Gt=0;if(r.remeasure&&zt>0){const Xt=p.measureText(Ut).width*1e3/d*j;if(zt<Xt&&this.isFontSubpixelAAEnabled){const pt=zt/Xt;Rt=!0,p.save(),p.scale(pt,1),Wt/=pt}else zt!==Xt&&(Wt+=(zt-Xt)/2e3*d/j)}if(this.contentVisible&&(ft.isInFont||r.missingFile)){if(Dt&&!$t)p.fillText(Ut,Wt,Gt);else if(this.paintChar(Ut,Wt,Gt,At),$t){const Xt=Wt+d*$t.offset.x/j,pt=Gt-d*$t.offset.y/j;this.paintChar($t.fontChar,Xt,pt,At)}}const Bt=dt?zt*Ct-wt*it:zt*Ct+wt*it;nt+=Bt,Rt&&p.restore()}dt?o.y-=nt:o.x+=nt*J,p.restore(),this.compose()}showType3Text(n){const o=this.ctx,r=this.current,d=r.font,p=r.fontSize,j=r.fontDirection,D=d.vertical?1:-1,G=r.charSpacing,it=r.wordSpacing,J=r.textHScale*j,lt=r.fontMatrix||i.FONT_IDENTITY_MATRIX,dt=n.length,mt=r.textRenderingMode===i.TextRenderingMode.INVISIBLE;let ut,Ct,Dt,At;if(!(mt||p===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,o.save(),o.transform(...r.textMatrix),o.translate(r.x,r.y),o.scale(J,j),ut=0;ut<dt;++ut){if(Ct=n[ut],typeof Ct=="number"){At=D*Ct*p/1e3,this.ctx.translate(At,0),r.x+=At*J;continue}const Mt=(Ct.isSpace?it:0)+G,xt=d.charProcOperatorList[Ct.operatorListId];if(!xt){(0,i.warn)(`Type3 character "${Ct.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ct,this.save(),o.scale(p,p),o.transform(...lt),this.executeOperatorList(xt),this.restore()),Dt=i.Util.applyTransform([Ct.width,0],lt)[0]*p+Mt,o.translate(Dt,0),r.x+=Dt*J}o.restore(),this.processingType3=null}}setCharWidth(n,o){}setCharWidthAndBounds(n,o,r,d,p,j){this.ctx.rect(r,d,p-r,j-d),this.ctx.clip(),this.endPath()}getColorN_Pattern(n){let o;if(n[0]==="TilingPattern"){const r=n[1],d=this.baseTransform||(0,f.getCurrentTransform)(this.ctx),p={createCanvasGraphics:j=>new X(j,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};o=new W.TilingPattern(n,r,this.ctx,p,d)}else o=this._getPattern(n[1],n[2]);return o}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(n,o,r){const d=i.Util.makeHexColor(n,o,r);this.ctx.strokeStyle=d,this.current.strokeColor=d}setFillRGBColor(n,o,r){const d=i.Util.makeHexColor(n,o,r);this.ctx.fillStyle=d,this.current.fillColor=d,this.current.patternFill=!1}_getPattern(n,o=null){let r;return this.cachedPatterns.has(n)?r=this.cachedPatterns.get(n):(r=(0,W.getShadingPattern)(this.getObject(n)),this.cachedPatterns.set(n,r)),o&&(r.matrix=o),r}shadingFill(n){if(!this.contentVisible)return;const o=this.ctx;this.save();const r=this._getPattern(n);o.fillStyle=r.getPattern(o,this,(0,f.getCurrentTransformInverse)(o),W.PathType.SHADING);const d=(0,f.getCurrentTransformInverse)(o);if(d){const{width:p,height:j}=o.canvas,[D,G,it,J]=i.Util.getAxialAlignedBoundingBox([0,0,p,j],d);this.ctx.fillRect(D,G,it-D,J-G)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(n,o){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(n)&&n.length===6&&this.transform(...n),this.baseTransform=(0,f.getCurrentTransform)(this.ctx),o)){const r=o[2]-o[0],d=o[3]-o[1];this.ctx.rect(o[0],o[1],r,d),this.current.updateRectMinMax((0,f.getCurrentTransform)(this.ctx),o),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(n){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const o=this.ctx;n.isolated||(0,i.info)("TODO: Support non-isolated groups."),n.knockout&&(0,i.warn)("Knockout groups not supported.");const r=(0,f.getCurrentTransform)(o);if(n.matrix&&o.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let d=i.Util.getAxialAlignedBoundingBox(n.bbox,(0,f.getCurrentTransform)(o));const p=[0,0,o.canvas.width,o.canvas.height];d=i.Util.intersect(d,p)||[0,0,0,0];const j=Math.floor(d[0]),D=Math.floor(d[1]);let G=Math.max(Math.ceil(d[2])-j,1),it=Math.max(Math.ceil(d[3])-D,1),J=1,lt=1;G>R&&(J=G/R,G=R),it>R&&(lt=it/R,it=R),this.current.startNewPathAndClipBox([0,0,G,it]);let dt="groupAt"+this.groupLevel;n.smask&&(dt+="_smask_"+this.smaskCounter++%2);const mt=this.cachedCanvases.getCanvas(dt,G,it),ut=mt.context;ut.scale(1/J,1/lt),ut.translate(-j,-D),ut.transform(...r),n.smask?this.smaskStack.push({canvas:mt.canvas,context:ut,offsetX:j,offsetY:D,scaleX:J,scaleY:lt,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}):(o.setTransform(1,0,0,1,0,0),o.translate(j,D),o.scale(J,lt),o.save()),a(o,ut),this.ctx=ut,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++}endGroup(n){if(!this.contentVisible)return;this.groupLevel--;const o=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,n.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const d=(0,f.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...d);const p=i.Util.getAxialAlignedBoundingBox([0,0,o.canvas.width,o.canvas.height],d);this.ctx.drawImage(o.canvas,0,0),this.ctx.restore(),this.compose(p)}}beginAnnotation(n,o,r,d,p){if(Y(this,$,Je).call(this),h(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(o)&&o.length===4){const j=o[2]-o[0],D=o[3]-o[1];if(p&&this.annotationCanvasMap){r=r.slice(),r[4]-=o[0],r[5]-=o[1],o=o.slice(),o[0]=o[1]=0,o[2]=j,o[3]=D;const[G,it]=i.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(this.ctx)),{viewportScale:J}=this,lt=Math.ceil(j*this.outputScaleX*J),dt=Math.ceil(D*this.outputScaleY*J);this.annotationCanvas=this.canvasFactory.create(lt,dt);const{canvas:mt,context:ut}=this.annotationCanvas;this.annotationCanvasMap.set(n,mt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ut,this.ctx.save(),this.ctx.setTransform(G,0,0,-it,0,D*it),h(this.ctx)}else h(this.ctx),this.ctx.rect(o[0],o[1],j,D),this.ctx.clip(),this.endPath()}this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...d)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Y(this,gt,Ze).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(n){if(!this.contentVisible)return;const o=n.count;n=this.getObject(n.data,n),n.count=o;const r=this.ctx,d=this.processingType3;if(d&&(d.compiled===void 0&&(d.compiled=y(n)),d.compiled)){d.compiled(r);return}const p=this._createMaskCanvas(n),j=p.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(j,p.offsetX,p.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(n,o,r=0,d=0,p,j){if(!this.contentVisible)return;n=this.getObject(n.data,n);const D=this.ctx;D.save();const G=(0,f.getCurrentTransform)(D);D.transform(o,r,d,p,0,0);const it=this._createMaskCanvas(n);D.setTransform(1,0,0,1,it.offsetX-G[4],it.offsetY-G[5]);for(let J=0,lt=j.length;J<lt;J+=2){const dt=i.Util.transform(G,[o,r,d,p,j[J],j[J+1]]),[mt,ut]=i.Util.applyTransform([0,0],dt);D.drawImage(it.canvas,mt,ut)}D.restore(),this.compose()}paintImageMaskXObjectGroup(n){if(!this.contentVisible)return;const o=this.ctx,r=this.current.fillColor,d=this.current.patternFill;for(const p of n){const{data:j,width:D,height:G,transform:it}=p,J=this.cachedCanvases.getCanvas("maskCanvas",D,G),lt=J.context;lt.save();const dt=this.getObject(j,p);u(lt,dt),lt.globalCompositeOperation="source-in",lt.fillStyle=d?r.getPattern(lt,this,(0,f.getCurrentTransformInverse)(o),W.PathType.FILL):r,lt.fillRect(0,0,D,G),lt.restore(),o.save(),o.transform(...it),o.scale(1,-1),m(o,J.canvas,0,0,D,G,0,-1,1,1),o.restore()}this.compose()}paintImageXObject(n){if(!this.contentVisible)return;const o=this.getObject(n);if(!o){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(o)}paintImageXObjectRepeat(n,o,r,d){if(!this.contentVisible)return;const p=this.getObject(n);if(!p){(0,i.warn)("Dependent image isn't ready yet");return}const j=p.width,D=p.height,G=[];for(let it=0,J=d.length;it<J;it+=2)G.push({transform:[o,0,0,r,d[it],d[it+1]],x:0,y:0,w:j,h:D});this.paintInlineImageXObjectGroup(p,G)}applyTransferMapsToCanvas(n){return this.current.transferMaps!=="none"&&(n.filter=this.current.transferMaps,n.drawImage(n.canvas,0,0),n.filter="none"),n.canvas}applyTransferMapsToBitmap(n){if(this.current.transferMaps==="none")return n.bitmap;const{bitmap:o,width:r,height:d}=n,p=this.cachedCanvases.getCanvas("inlineImage",r,d),j=p.context;return j.filter=this.current.transferMaps,j.drawImage(o,0,0),j.filter="none",p.canvas}paintInlineImageXObject(n){if(!this.contentVisible)return;const o=n.width,r=n.height,d=this.ctx;if(this.save(),!i.isNodeJS){const{filter:D}=d;D!=="none"&&D!==""&&(d.filter="none")}d.scale(1/o,-1/r);let p;if(n.bitmap)p=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)p=n;else{const G=this.cachedCanvases.getCanvas("inlineImage",o,r).context;x(G,n),p=this.applyTransferMapsToCanvas(G)}const j=this._scaleImage(p,(0,f.getCurrentTransformInverse)(d));d.imageSmoothingEnabled=H((0,f.getCurrentTransform)(d),n.interpolate),m(d,j.img,0,0,j.paintWidth,j.paintHeight,0,-r,o,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(n,o){if(!this.contentVisible)return;const r=this.ctx;let d;if(n.bitmap)d=n.bitmap;else{const p=n.width,j=n.height,G=this.cachedCanvases.getCanvas("inlineImage",p,j).context;x(G,n),d=this.applyTransferMapsToCanvas(G)}for(const p of o)r.save(),r.transform(...p.transform),r.scale(1,-1),m(r,d,p.x,p.y,p.w,p.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(n){}markPointProps(n,o){}beginMarkedContent(n){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(n,o){n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(o)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(n){const o=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;this.pendingClip&&(o||(this.pendingClip===st?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const n=(0,f.getCurrentTransform)(this.ctx);if(n[1]===0&&n[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(n[0]),Math.abs(n[3]));else{const o=Math.abs(n[0]*n[3]-n[2]*n[1]),r=Math.hypot(n[0],n[2]),d=Math.hypot(n[1],n[3]);this._cachedGetSinglePixelWidth=Math.max(r,d)/o}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:n}=this.current,{a:o,b:r,c:d,d:p}=this.ctx.getTransform();let j,D;if(r===0&&d===0){const G=Math.abs(o),it=Math.abs(p);if(G===it)if(n===0)j=D=1/G;else{const J=G*n;j=D=J<1?1/J:1}else if(n===0)j=1/G,D=1/it;else{const J=G*n,lt=it*n;j=J<1?1/J:1,D=lt<1?1/lt:1}}else{const G=Math.abs(o*p-r*d),it=Math.hypot(o,r),J=Math.hypot(d,p);if(n===0)j=J/G,D=it/G;else{const lt=n*G;j=J>lt?J/lt:1,D=it>lt?it/lt:1}}this._cachedScaleForStroking[0]=j,this._cachedScaleForStroking[1]=D}return this._cachedScaleForStroking}rescaleAndStroke(n){const{ctx:o}=this,{lineWidth:r}=this.current,[d,p]=this.getScaleForStroking();if(o.lineWidth=r||1,d===1&&p===1){o.stroke();return}const j=o.getLineDash();if(n&&o.save(),o.scale(d,p),j.length>0){const D=Math.max(d,p);o.setLineDash(j.map(G=>G/D)),o.lineDashOffset/=D}o.stroke(),n&&o.restore()}isContentVisible(){for(let n=this.markedContentStack.length-1;n>=0;n--)if(!this.markedContentStack[n].visible)return!1;return!0}};$=new WeakSet,Je=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},gt=new WeakSet,Ze=function(){if(this.pageColors){const n=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(n!=="none"){const o=this.ctx.filter;this.ctx.filter=n,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=o}}};let at=X;e.CanvasGraphics=at;for(const v in i.OPS)at.prototype[v]!==void 0&&(at.prototype[i.OPS[v]]=at.prototype[v])},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=w;var i=L(1),f=L(6);const W={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=W;function O(y,C){if(!C)return;const x=C[2]-C[0],u=C[3]-C[1],a=new Path2D;a.rect(C[0],C[1],x,u),y.clip(a)}class ot{constructor(){this.constructor===ot&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class b extends ot{constructor(C){super(),this._type=C[1],this._bbox=C[2],this._colorStops=C[3],this._p0=C[4],this._p1=C[5],this._r0=C[6],this._r1=C[7],this.matrix=null}_createGradient(C){let x;this._type==="axial"?x=C.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(x=C.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const u of this._colorStops)x.addColorStop(u[0],u[1]);return x}getPattern(C,x,u,a){let h;if(a===W.STROKE||a===W.FILL){const M=x.current.getClippedPathBoundingBox(a,(0,f.getCurrentTransform)(C))||[0,0,0,0],E=Math.ceil(M[2]-M[0])||1,c=Math.ceil(M[3]-M[1])||1,F=x.cachedCanvases.getCanvas("pattern",E,c,!0),g=F.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-M[0],-M[1]),u=i.Util.transform(u,[1,0,0,1,M[0],M[1]]),g.transform(...x.baseTransform),this.matrix&&g.transform(...this.matrix),O(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),h=C.createPattern(F.canvas,"no-repeat");const H=new DOMMatrix(u);h.setTransform(H)}else O(C,this._bbox),h=this._createGradient(C);return h}}function R(y,C,x,u,a,h,M,E){const c=C.coords,F=C.colors,g=y.data,H=y.width*4;let z;c[x+1]>c[u+1]&&(z=x,x=u,u=z,z=h,h=M,M=z),c[u+1]>c[a+1]&&(z=u,u=a,a=z,z=M,M=E,E=z),c[x+1]>c[u+1]&&(z=x,x=u,u=z,z=h,h=M,M=z);const T=(c[x]+C.offsetX)*C.scaleX,q=(c[x+1]+C.offsetY)*C.scaleY,st=(c[u]+C.offsetX)*C.scaleX,at=(c[u+1]+C.offsetY)*C.scaleY,$=(c[a]+C.offsetX)*C.scaleX,ht=(c[a+1]+C.offsetY)*C.scaleY;if(q>=ht)return;const gt=F[h],_t=F[h+1],X=F[h+2],v=F[M],n=F[M+1],o=F[M+2],r=F[E],d=F[E+1],p=F[E+2],j=Math.round(q),D=Math.round(ht);let G,it,J,lt,dt,mt,ut,Ct;for(let Dt=j;Dt<=D;Dt++){if(Dt<at){const tt=Dt<q?0:(q-Dt)/(q-at);G=T-(T-st)*tt,it=gt-(gt-v)*tt,J=_t-(_t-n)*tt,lt=X-(X-o)*tt}else{let tt;Dt>ht?tt=1:at===ht?tt=0:tt=(at-Dt)/(at-ht),G=st-(st-$)*tt,it=v-(v-r)*tt,J=n-(n-d)*tt,lt=o-(o-p)*tt}let At;Dt<q?At=0:Dt>ht?At=1:At=(q-Dt)/(q-ht),dt=T-(T-$)*At,mt=gt-(gt-r)*At,ut=_t-(_t-d)*At,Ct=X-(X-p)*At;const Mt=Math.round(Math.min(G,dt)),xt=Math.round(Math.max(G,dt));let nt=H*Dt+Mt*4;for(let tt=Mt;tt<=xt;tt++)At=(G-tt)/(G-dt),At<0?At=0:At>1&&(At=1),g[nt++]=it-(it-mt)*At|0,g[nt++]=J-(J-ut)*At|0,g[nt++]=lt-(lt-Ct)*At|0,g[nt++]=255}}function l(y,C,x){const u=C.coords,a=C.colors;let h,M;switch(C.type){case"lattice":const E=C.verticesPerRow,c=Math.floor(u.length/E)-1,F=E-1;for(h=0;h<c;h++){let g=h*E;for(let H=0;H<F;H++,g++)R(y,x,u[g],u[g+1],u[g+E],a[g],a[g+1],a[g+E]),R(y,x,u[g+E+1],u[g+1],u[g+E],a[g+E+1],a[g+1],a[g+E])}break;case"triangles":for(h=0,M=u.length;h<M;h+=3)R(y,x,u[h],u[h+1],u[h+2],a[h],a[h+1],a[h+2]);break;default:throw new Error("illegal figure")}}class I extends ot{constructor(C){super(),this._coords=C[2],this._colors=C[3],this._figures=C[4],this._bounds=C[5],this._bbox=C[7],this._background=C[8],this.matrix=null}_createMeshCanvas(C,x,u){const E=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),F=Math.ceil(this._bounds[2])-E,g=Math.ceil(this._bounds[3])-c,H=Math.min(Math.ceil(Math.abs(F*C[0]*1.1)),3e3),z=Math.min(Math.ceil(Math.abs(g*C[1]*1.1)),3e3),T=F/H,q=g/z,st={coords:this._coords,colors:this._colors,offsetX:-E,offsetY:-c,scaleX:1/T,scaleY:1/q},at=H+2*2,$=z+2*2,ht=u.getCanvas("mesh",at,$,!1),gt=ht.context,_t=gt.createImageData(H,z);if(x){const v=_t.data;for(let n=0,o=v.length;n<o;n+=4)v[n]=x[0],v[n+1]=x[1],v[n+2]=x[2],v[n+3]=255}for(const v of this._figures)l(_t,v,st);return gt.putImageData(_t,2,2),{canvas:ht.canvas,offsetX:E-2*T,offsetY:c-2*q,scaleX:T,scaleY:q}}getPattern(C,x,u,a){O(C,this._bbox);let h;if(a===W.SHADING)h=i.Util.singularValueDecompose2dScale((0,f.getCurrentTransform)(C));else if(h=i.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const E=i.Util.singularValueDecompose2dScale(this.matrix);h=[h[0]*E[0],h[1]*E[1]]}const M=this._createMeshCanvas(h,a===W.SHADING?null:this._background,x.cachedCanvases);return a!==W.SHADING&&(C.setTransform(...x.baseTransform),this.matrix&&C.transform(...this.matrix)),C.translate(M.offsetX,M.offsetY),C.scale(M.scaleX,M.scaleY),C.createPattern(M.canvas,"no-repeat")}}class P extends ot{getPattern(){return"hotpink"}}function w(y){switch(y[0]){case"RadialAxial":return new b(y);case"Mesh":return new I(y);case"Dummy":return new P}throw new Error(`Unknown IR type: ${y[0]}`)}const _={COLORED:1,UNCOLORED:2},m=class m{constructor(C,x,u,a,h){this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=x,this.ctx=u,this.canvasGraphicsFactory=a,this.baseTransform=h}createPatternCanvas(C){const x=this.operatorList,u=this.bbox,a=this.xstep,h=this.ystep,M=this.paintType,E=this.tilingType,c=this.color,F=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+E);const g=u[0],H=u[1],z=u[2],T=u[3],q=i.Util.singularValueDecompose2dScale(this.matrix),st=i.Util.singularValueDecompose2dScale(this.baseTransform),at=[q[0]*st[0],q[1]*st[1]],$=this.getSizeAndScale(a,this.ctx.canvas.width,at[0]),ht=this.getSizeAndScale(h,this.ctx.canvas.height,at[1]),gt=C.cachedCanvases.getCanvas("pattern",$.size,ht.size,!0),_t=gt.context,X=F.createCanvasGraphics(_t);X.groupLevel=C.groupLevel,this.setFillAndStrokeStyleToContext(X,M,c);let v=g,n=H,o=z,r=T;return g<0&&(v=0,o+=Math.abs(g)),H<0&&(n=0,r+=Math.abs(H)),_t.translate(-($.scale*v),-(ht.scale*n)),X.transform($.scale,0,0,ht.scale,0,0),_t.save(),this.clipBbox(X,v,n,o,r),X.baseTransform=(0,f.getCurrentTransform)(X.ctx),X.executeOperatorList(x),X.endDrawing(),{canvas:gt.canvas,scaleX:$.scale,scaleY:ht.scale,offsetX:v,offsetY:n}}getSizeAndScale(C,x,u){C=Math.abs(C);const a=Math.max(m.MAX_PATTERN_SIZE,x);let h=Math.ceil(C*u);return h>=a?h=a:u=h/C,{scale:u,size:h}}clipBbox(C,x,u,a,h){const M=a-x,E=h-u;C.ctx.rect(x,u,M,E),C.current.updateRectMinMax((0,f.getCurrentTransform)(C.ctx),[x,u,a,h]),C.clip(),C.endPath()}setFillAndStrokeStyleToContext(C,x,u){const a=C.ctx,h=C.current;switch(x){case _.COLORED:const M=this.ctx;a.fillStyle=M.fillStyle,a.strokeStyle=M.strokeStyle,h.fillColor=M.fillStyle,h.strokeColor=M.strokeStyle;break;case _.UNCOLORED:const E=i.Util.makeHexColor(u[0],u[1],u[2]);a.fillStyle=E,a.strokeStyle=E,h.fillColor=E,h.strokeColor=E;break;default:throw new i.FormatError(`Unsupported paint type: ${x}`)}}getPattern(C,x,u,a){let h=u;a!==W.SHADING&&(h=i.Util.transform(h,x.baseTransform),this.matrix&&(h=i.Util.transform(h,this.matrix)));const M=this.createPatternCanvas(x);let E=new DOMMatrix(h);E=E.translate(M.offsetX,M.offsetY),E=E.scale(1/M.scaleX,1/M.scaleY);const c=C.createPattern(M.canvas,"repeat");return c.setTransform(E),c}};ee(m,"MAX_PATTERN_SIZE",3e3);let A=m;e.TilingPattern=A},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=W,e.convertToRGBA=f,e.grayToRGBA=ot;var i=L(1);function f(b){switch(b.kind){case i.ImageKind.GRAYSCALE_1BPP:return W(b);case i.ImageKind.RGB_24BPP:return O(b)}return null}function W({src:b,srcPos:R=0,dest:l,width:I,height:P,nonBlackColor:w=4294967295,inverseDecode:_=!1}){const A=i.FeatureTest.isLittleEndian?4278190080:255,[m,y]=_?[w,A]:[A,w],C=I>>3,x=I&7,u=b.length;l=new Uint32Array(l.buffer);let a=0;for(let h=0;h<P;h++){for(const E=R+C;R<E;R++){const c=R<u?b[R]:255;l[a++]=c&128?y:m,l[a++]=c&64?y:m,l[a++]=c&32?y:m,l[a++]=c&16?y:m,l[a++]=c&8?y:m,l[a++]=c&4?y:m,l[a++]=c&2?y:m,l[a++]=c&1?y:m}if(x===0)continue;const M=R<u?b[R++]:255;for(let E=0;E<x;E++)l[a++]=M&1<<7-E?y:m}return{srcPos:R,destPos:a}}function O({src:b,srcPos:R=0,dest:l,destPos:I=0,width:P,height:w}){let _=0;const A=b.length>>2,m=new Uint32Array(b.buffer,R,A);if(i.FeatureTest.isLittleEndian){for(;_<A-2;_+=3,I+=4){const y=m[_],C=m[_+1],x=m[_+2];l[I]=y|4278190080,l[I+1]=y>>>24|C<<8|4278190080,l[I+2]=C>>>16|x<<16|4278190080,l[I+3]=x>>>8|4278190080}for(let y=_*4,C=b.length;y<C;y+=3)l[I++]=b[y]|b[y+1]<<8|b[y+2]<<16|4278190080}else{for(;_<A-2;_+=3,I+=4){const y=m[_],C=m[_+1],x=m[_+2];l[I]=y|255,l[I+1]=y<<24|C>>>8|255,l[I+2]=C<<16|x>>>16|255,l[I+3]=x<<8|255}for(let y=_*4,C=b.length;y<C;y+=3)l[I++]=b[y]<<24|b[y+1]<<16|b[y+2]<<8|255}return{srcPos:R,destPos:I}}function ot(b,R){if(i.FeatureTest.isLittleEndian)for(let l=0,I=b.length;l<I;l++)R[l]=b[l]*65793|4278190080;else for(let l=0,I=b.length;l<I;l++)R[l]=b[l]*16843008|255}},(k,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const L=Object.create(null);e.GlobalWorkerOptions=L,L.workerPort=null,L.workerSrc=""},(k,e,L)=>{var b,Ts,l,Ps,P,Te;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=L(1);const f={UNKNOWN:0,DATA:1,ERROR:2},W={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function O(_){switch(_ instanceof Error||typeof _=="object"&&_!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_.name){case"AbortException":return new i.AbortException(_.message);case"MissingPDFException":return new i.MissingPDFException(_.message);case"PasswordException":return new i.PasswordException(_.message,_.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(_.message,_.status);case"UnknownErrorException":return new i.UnknownErrorException(_.message,_.details);default:return new i.UnknownErrorException(_.message,_.toString())}}class ot{constructor(A,m,y){U(this,b);U(this,l);U(this,P);this.sourceName=A,this.targetName=m,this.comObj=y,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=C=>{const x=C.data;if(x.targetName!==this.sourceName)return;if(x.stream){Y(this,l,Ps).call(this,x);return}if(x.callback){const a=x.callbackId,h=this.callbackCapabilities[a];if(!h)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],x.callback===f.DATA)h.resolve(x.data);else if(x.callback===f.ERROR)h.reject(O(x.reason));else throw new Error("Unexpected callback case");return}const u=this.actionHandler[x.action];if(!u)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const a=this.sourceName,h=x.sourceName;new Promise(function(M){M(u(x.data))}).then(function(M){y.postMessage({sourceName:a,targetName:h,callback:f.DATA,callbackId:x.callbackId,data:M})},function(M){y.postMessage({sourceName:a,targetName:h,callback:f.ERROR,callbackId:x.callbackId,reason:O(M)})});return}if(x.streamId){Y(this,b,Ts).call(this,x);return}u(x.data)},y.addEventListener("message",this._onComObjOnMessage)}on(A,m){const y=this.actionHandler;if(y[A])throw new Error(`There is already an actionName called "${A}"`);y[A]=m}send(A,m,y){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,data:m},y)}sendWithPromise(A,m,y){const C=this.callbackId++,x=new i.PromiseCapability;this.callbackCapabilities[C]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,callbackId:C,data:m},y)}catch(u){x.reject(u)}return x.promise}sendWithStream(A,m,y,C){const x=this.streamId++,u=this.sourceName,a=this.targetName,h=this.comObj;return new ReadableStream({start:M=>{const E=new i.PromiseCapability;return this.streamControllers[x]={controller:M,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:u,targetName:a,action:A,streamId:x,data:m,desiredSize:M.desiredSize},C),E.promise},pull:M=>{const E=new i.PromiseCapability;return this.streamControllers[x].pullCall=E,h.postMessage({sourceName:u,targetName:a,stream:W.PULL,streamId:x,desiredSize:M.desiredSize}),E.promise},cancel:M=>{(0,i.assert)(M instanceof Error,"cancel must have a valid reason");const E=new i.PromiseCapability;return this.streamControllers[x].cancelCall=E,this.streamControllers[x].isClosed=!0,h.postMessage({sourceName:u,targetName:a,stream:W.CANCEL,streamId:x,reason:O(M)}),E.promise}},y)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b=new WeakSet,Ts=function(A){const m=A.streamId,y=this.sourceName,C=A.sourceName,x=this.comObj,u=this,a=this.actionHandler[A.action],h={enqueue(M,E=1,c){if(this.isCancelled)return;const F=this.desiredSize;this.desiredSize-=E,F>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),x.postMessage({sourceName:y,targetName:C,stream:W.ENQUEUE,streamId:m,chunk:M},c)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:y,targetName:C,stream:W.CLOSE,streamId:m}),delete u.streamSinks[m])},error(M){(0,i.assert)(M instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:y,targetName:C,stream:W.ERROR,streamId:m,reason:O(M)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:A.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[m]=h,new Promise(function(M){M(a(A.data,h))}).then(function(){x.postMessage({sourceName:y,targetName:C,stream:W.START_COMPLETE,streamId:m,success:!0})},function(M){x.postMessage({sourceName:y,targetName:C,stream:W.START_COMPLETE,streamId:m,reason:O(M)})})},l=new WeakSet,Ps=function(A){const m=A.streamId,y=this.sourceName,C=A.sourceName,x=this.comObj,u=this.streamControllers[m],a=this.streamSinks[m];switch(A.stream){case W.START_COMPLETE:A.success?u.startCall.resolve():u.startCall.reject(O(A.reason));break;case W.PULL_COMPLETE:A.success?u.pullCall.resolve():u.pullCall.reject(O(A.reason));break;case W.PULL:if(!a){x.postMessage({sourceName:y,targetName:C,stream:W.PULL_COMPLETE,streamId:m,success:!0});break}a.desiredSize<=0&&A.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=A.desiredSize,new Promise(function(h){var M;h((M=a.onPull)==null?void 0:M.call(a))}).then(function(){x.postMessage({sourceName:y,targetName:C,stream:W.PULL_COMPLETE,streamId:m,success:!0})},function(h){x.postMessage({sourceName:y,targetName:C,stream:W.PULL_COMPLETE,streamId:m,reason:O(h)})});break;case W.ENQUEUE:if((0,i.assert)(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(A.chunk);break;case W.CLOSE:if((0,i.assert)(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),Y(this,P,Te).call(this,u,m);break;case W.ERROR:(0,i.assert)(u,"error should have stream controller"),u.controller.error(O(A.reason)),Y(this,P,Te).call(this,u,m);break;case W.CANCEL_COMPLETE:A.success?u.cancelCall.resolve():u.cancelCall.reject(O(A.reason)),Y(this,P,Te).call(this,u,m);break;case W.CANCEL:if(!a)break;new Promise(function(h){var M;h((M=a.onCancel)==null?void 0:M.call(a,O(A.reason)))}).then(function(){x.postMessage({sourceName:y,targetName:C,stream:W.CANCEL_COMPLETE,streamId:m,success:!0})},function(h){x.postMessage({sourceName:y,targetName:C,stream:W.CANCEL_COMPLETE,streamId:m,reason:O(h)})}),a.sinkCapability.reject(O(A.reason)),a.isCancelled=!0,delete this.streamSinks[m];break;default:throw new Error("Unexpected stream case")}},P=new WeakSet,Te=async function(A,m){var y,C,x;await Promise.allSettled([(y=A.startCall)==null?void 0:y.promise,(C=A.pullCall)==null?void 0:C.promise,(x=A.cancelCall)==null?void 0:x.promise]),delete this.streamControllers[m]},e.MessageHandler=ot},(k,e,L)=>{var W,O;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=L(1);class f{constructor({parsedData:b,rawData:R}){U(this,W,void 0);U(this,O,void 0);rt(this,W,b),rt(this,O,R)}getRaw(){return t(this,O)}get(b){return t(this,W).get(b)??null}getAll(){return(0,i.objectFromMap)(t(this,W))}has(b){return t(this,W).has(b)}}W=new WeakMap,O=new WeakMap,e.Metadata=f},(k,e,L)=>{var b,R,l,I,P,w,ts;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var i=L(1),f=L(8);const W=Symbol("INTERNAL");class O{constructor(m,y){U(this,b,!0);this.name=m,this.intent=y}get visible(){return t(this,b)}_setVisible(m,y){m!==W&&(0,i.unreachable)("Internal method `_setVisible` called."),rt(this,b,y)}}b=new WeakMap;class ot{constructor(m){U(this,w);U(this,R,null);U(this,l,new Map);U(this,I,null);U(this,P,null);if(this.name=null,this.creator=null,m!==null){this.name=m.name,this.creator=m.creator,rt(this,P,m.order);for(const y of m.groups)t(this,l).set(y.id,new O(y.name,y.intent));if(m.baseState==="OFF")for(const y of t(this,l).values())y._setVisible(W,!1);for(const y of m.on)t(this,l).get(y)._setVisible(W,!0);for(const y of m.off)t(this,l).get(y)._setVisible(W,!1);rt(this,I,this.getHash())}}isVisible(m){if(t(this,l).size===0)return!0;if(!m)return(0,i.warn)("Optional content group not defined."),!0;if(m.type==="OCG")return t(this,l).has(m.id)?t(this,l).get(m.id).visible:((0,i.warn)(`Optional content group not found: ${m.id}`),!0);if(m.type==="OCMD"){if(m.expression)return Y(this,w,ts).call(this,m.expression);if(!m.policy||m.policy==="AnyOn"){for(const y of m.ids){if(!t(this,l).has(y))return(0,i.warn)(`Optional content group not found: ${y}`),!0;if(t(this,l).get(y).visible)return!0}return!1}else if(m.policy==="AllOn"){for(const y of m.ids){if(!t(this,l).has(y))return(0,i.warn)(`Optional content group not found: ${y}`),!0;if(!t(this,l).get(y).visible)return!1}return!0}else if(m.policy==="AnyOff"){for(const y of m.ids){if(!t(this,l).has(y))return(0,i.warn)(`Optional content group not found: ${y}`),!0;if(!t(this,l).get(y).visible)return!0}return!1}else if(m.policy==="AllOff"){for(const y of m.ids){if(!t(this,l).has(y))return(0,i.warn)(`Optional content group not found: ${y}`),!0;if(t(this,l).get(y).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${m.policy}.`),!0}return(0,i.warn)(`Unknown group type ${m.type}.`),!0}setVisibility(m,y=!0){if(!t(this,l).has(m)){(0,i.warn)(`Optional content group not found: ${m}`);return}t(this,l).get(m)._setVisible(W,!!y),rt(this,R,null)}get hasInitialVisibility(){return t(this,I)===null||this.getHash()===t(this,I)}getOrder(){return t(this,l).size?t(this,P)?t(this,P).slice():[...t(this,l).keys()]:null}getGroups(){return t(this,l).size>0?(0,i.objectFromMap)(t(this,l)):null}getGroup(m){return t(this,l).get(m)||null}getHash(){if(t(this,R)!==null)return t(this,R);const m=new f.MurmurHash3_64;for(const[y,C]of t(this,l))m.update(`${y}:${C.visible}`);return rt(this,R,m.hexdigest())}}R=new WeakMap,l=new WeakMap,I=new WeakMap,P=new WeakMap,w=new WeakSet,ts=function(m){const y=m.length;if(y<2)return!0;const C=m[0];for(let x=1;x<y;x++){const u=m[x];let a;if(Array.isArray(u))a=Y(this,w,ts).call(this,u);else if(t(this,l).has(u))a=t(this,l).get(u).visible;else return(0,i.warn)(`Optional content group not found: ${u}`),!0;switch(C){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return C==="And"},e.OptionalContentConfig=ot},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=L(1),f=L(6);class W{constructor({length:R,initialData:l,progressiveDone:I=!1,contentDispositionFilename:P=null,disableRange:w=!1,disableStream:_=!1},A){if((0,i.assert)(A,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=I,this._contentDispositionFilename=P,(l==null?void 0:l.length)>0){const m=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=A,this._isStreamingSupported=!_,this._isRangeSupported=!w,this._contentLength=R,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((m,y)=>{this._onReceiveData({begin:m,chunk:y})}),this._pdfDataRangeTransport.addProgressListener((m,y)=>{this._onProgress({loaded:m,total:y})}),this._pdfDataRangeTransport.addProgressiveReadListener(m=>{this._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:R,chunk:l}){const I=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;if(R===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(I):this._queuedChunks.push(I);else{const P=this._rangeReaders.some(function(w){return w._begin!==R?!1:(w._enqueue(I),!0)});(0,i.assert)(P,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var R;return((R=this._fullRequestReader)==null?void 0:R._loaded)??0}_onProgress(R){var l,I,P,w;R.total===void 0?(I=(l=this._rangeReaders[0])==null?void 0:l.onProgress)==null||I.call(l,{loaded:R.loaded}):(w=(P=this._fullRequestReader)==null?void 0:P.onProgress)==null||w.call(P,{loaded:R.loaded,total:R.total})}_onProgressiveDone(){var R;(R=this._fullRequestReader)==null||R.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(R){const l=this._rangeReaders.indexOf(R);l>=0&&this._rangeReaders.splice(l,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const R=this._queuedChunks;return this._queuedChunks=null,new O(this,R,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(R,l){if(l<=this._progressiveDataLength)return null;const I=new ot(this,R,l);return this._pdfDataRangeTransport.requestDataRange(R,l),this._rangeReaders.push(I),I}cancelAllRequests(R){var l;(l=this._fullRequestReader)==null||l.cancel(R);for(const I of this._rangeReaders.slice(0))I.cancel(R);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=W;class O{constructor(R,l,I=!1,P=null){this._stream=R,this._done=I||!1,this._filename=(0,f.isPdfFile)(P)?P:null,this._queuedChunks=l||[],this._loaded=0;for(const w of this._queuedChunks)this._loaded+=w.byteLength;this._requests=[],this._headersReady=Promise.resolve(),R._fullRequestReader=this,this.onProgress=null}_enqueue(R){this._done||(this._requests.length>0?this._requests.shift().resolve({value:R,done:!1}):this._queuedChunks.push(R),this._loaded+=R.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const R=new i.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ot{constructor(R,l,I){this._stream=R,this._begin=l,this._end=I,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(R){if(!this._done){if(this._requests.length===0)this._queuedChunk=R;else{this._requests.shift().resolve({value:R,done:!1});for(const I of this._requests)I.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const R=new i.PromiseCapability;return this._requests.push(R),R.promise}cancel(R){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=L(1),f=L(20);function W(I,P,w){return{method:"GET",headers:I,signal:w.signal,mode:"cors",credentials:P?"include":"same-origin",redirect:"follow"}}function O(I){const P=new Headers;for(const w in I){const _=I[w];_!==void 0&&P.append(w,_)}return P}function ot(I){return I instanceof Uint8Array?I.buffer:I instanceof ArrayBuffer?I:((0,i.warn)(`getArrayBuffer - unexpected data format: ${I}`),new Uint8Array(I).buffer)}class b{constructor(P){this.source=P,this.isHttp=/^https?:/i.test(P.url),this.httpHeaders=this.isHttp&&P.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var P;return((P=this._fullRequestReader)==null?void 0:P._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new R(this),this._fullRequestReader}getRangeReader(P,w){if(w<=this._progressiveDataLength)return null;const _=new l(this,P,w);return this._rangeRequestReaders.push(_),_}cancelAllRequests(P){var w;(w=this._fullRequestReader)==null||w.cancel(P);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(P)}}e.PDFFetchStream=b;class R{constructor(P){this._stream=P,this._reader=null,this._loaded=0,this._filename=null;const w=P.source;this._withCredentials=w.withCredentials||!1,this._contentLength=w.length,this._headersCapability=new i.PromiseCapability,this._disableRange=w.disableRange||!1,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!w.disableStream,this._isRangeSupported=!w.disableRange,this._headers=O(this._stream.httpHeaders);const _=w.url;fetch(_,W(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,f.validateResponseStatus)(A.status))throw(0,f.createResponseStatusError)(A.status,_);this._reader=A.body.getReader(),this._headersCapability.resolve();const m=x=>A.headers.get(x),{allowRangeRequests:y,suggestedLength:C}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:m,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=C||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(m),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;await this._headersCapability.promise;const{value:P,done:w}=await this._reader.read();return w?{value:P,done:w}:(this._loaded+=P.byteLength,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ot(P),done:!1})}cancel(P){var w;(w=this._reader)==null||w.cancel(P),this._abortController.abort()}}class l{constructor(P,w,_){this._stream=P,this._reader=null,this._loaded=0;const A=P.source;this._withCredentials=A.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!A.disableStream,this._abortController=new AbortController,this._headers=O(this._stream.httpHeaders),this._headers.append("Range",`bytes=${w}-${_-1}`);const m=A.url;fetch(m,W(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,f.validateResponseStatus)(y.status))throw(0,f.createResponseStatusError)(y.status,m);this._readCapability.resolve(),this._reader=y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _;await this._readCapability.promise;const{value:P,done:w}=await this._reader.read();return w?{value:P,done:w}:(this._loaded+=P.byteLength,(_=this.onProgress)==null||_.call(this,{loaded:this._loaded}),{value:ot(P),done:!1})}cancel(P){var w;(w=this._reader)==null||w.cancel(P),this._abortController.abort()}}},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=b,e.extractFilenameFromHeader=ot,e.validateRangeRequestCapabilities=O,e.validateResponseStatus=R;var i=L(1),f=L(21),W=L(6);function O({getResponseHeader:l,isHttp:I,rangeChunkSize:P,disableRange:w}){const _={allowRangeRequests:!1,suggestedLength:void 0},A=parseInt(l("Content-Length"),10);return!Number.isInteger(A)||(_.suggestedLength=A,A<=2*P)||w||!I||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(_.allowRangeRequests=!0),_}function ot(l){const I=l("Content-Disposition");if(I){let P=(0,f.getFilenameFromContentDispositionHeader)(I);if(P.includes("%"))try{P=decodeURIComponent(P)}catch{}if((0,W.isPdfFile)(P))return P}return null}function b(l,I){return l===404||l===0&&I.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+I+'".'):new i.UnexpectedResponseException(`Unexpected server response (${l}) while retrieving PDF "${I}".`,l)}function R(l){return l===200||l===206}},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=f;var i=L(1);function f(W){let O=!0,ot=b("filename\\*","i").exec(W);if(ot){ot=ot[1];let A=P(ot);return A=unescape(A),A=w(A),A=_(A),l(A)}if(ot=I(W),ot){const A=_(ot);return l(A)}if(ot=b("filename","i").exec(W),ot){ot=ot[1];let A=P(ot);return A=_(A),l(A)}function b(A,m){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function R(A,m){if(A){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(A,{fatal:!0}),C=(0,i.stringToBytes)(m);m=y.decode(C),O=!1}catch{}}return m}function l(A){return O&&/[\x80-\xff]/.test(A)&&(A=R("utf-8",A),O&&(A=R("iso-8859-1",A))),A}function I(A){const m=[];let y;const C=b("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=C.exec(A))!==null;){let[,u,a,h]=y;if(u=parseInt(u,10),u in m){if(u===0)break;continue}m[u]=[a,h]}const x=[];for(let u=0;u<m.length&&u in m;++u){let[a,h]=m[u];h=P(h),a&&(h=unescape(h),u===0&&(h=w(h))),x.push(h)}return x.join("")}function P(A){if(A.startsWith('"')){const m=A.slice(1).split('\\"');for(let y=0;y<m.length;++y){const C=m[y].indexOf('"');C!==-1&&(m[y]=m[y].slice(0,C),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}A=m.join('"')}return A}function w(A){const m=A.indexOf("'");if(m===-1)return A;const y=A.slice(0,m),x=A.slice(m+1).replace(/^[^']*'/,"");return R(y,x)}function _(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,C,x){if(C==="q"||C==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(u,a){return String.fromCharCode(parseInt(a,16))}),R(y,x);try{x=atob(x)}catch{}return R(y,x)})}return""}},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=L(1),f=L(20);const W=200,O=206;function ot(P){const w=P.response;return typeof w!="string"?w:(0,i.stringToBytes)(w).buffer}class b{constructor(w,_={}){this.url=w,this.isHttp=/^https?:/i.test(w),this.httpHeaders=this.isHttp&&_.httpHeaders||Object.create(null),this.withCredentials=_.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(w,_,A){const m={begin:w,end:_};for(const y in A)m[y]=A[y];return this.request(m)}requestFull(w){return this.request(w)}request(w){const _=new XMLHttpRequest,A=this.currXhrId++,m=this.pendingRequests[A]={xhr:_};_.open("GET",this.url),_.withCredentials=this.withCredentials;for(const y in this.httpHeaders){const C=this.httpHeaders[y];C!==void 0&&_.setRequestHeader(y,C)}return this.isHttp&&"begin"in w&&"end"in w?(_.setRequestHeader("Range",`bytes=${w.begin}-${w.end-1}`),m.expectedStatus=O):m.expectedStatus=W,_.responseType="arraybuffer",w.onError&&(_.onerror=function(y){w.onError(_.status)}),_.onreadystatechange=this.onStateChange.bind(this,A),_.onprogress=this.onProgress.bind(this,A),m.onHeadersReceived=w.onHeadersReceived,m.onDone=w.onDone,m.onError=w.onError,m.onProgress=w.onProgress,_.send(null),A}onProgress(w,_){var m;const A=this.pendingRequests[w];A&&((m=A.onProgress)==null||m.call(A,_))}onStateChange(w,_){var u,a,h;const A=this.pendingRequests[w];if(!A)return;const m=A.xhr;if(m.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),m.readyState!==4||!(w in this.pendingRequests))return;if(delete this.pendingRequests[w],m.status===0&&this.isHttp){(u=A.onError)==null||u.call(A,m.status);return}const y=m.status||W;if(!(y===W&&A.expectedStatus===O)&&y!==A.expectedStatus){(a=A.onError)==null||a.call(A,m.status);return}const x=ot(m);if(y===O){const M=m.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(M);A.onDone({begin:parseInt(E[1],10),chunk:x})}else x?A.onDone({begin:0,chunk:x}):(h=A.onError)==null||h.call(A,m.status)}getRequestXhr(w){return this.pendingRequests[w].xhr}isPendingRequest(w){return w in this.pendingRequests}abortRequest(w){const _=this.pendingRequests[w].xhr;delete this.pendingRequests[w],_.abort()}}class R{constructor(w){this._source=w,this._manager=new b(w.url,{httpHeaders:w.httpHeaders,withCredentials:w.withCredentials}),this._rangeChunkSize=w.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(w){const _=this._rangeRequestReaders.indexOf(w);_>=0&&this._rangeRequestReaders.splice(_,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader}getRangeReader(w,_){const A=new I(this._manager,w,_);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(w){var _;(_=this._fullRequestReader)==null||_.cancel(w);for(const A of this._rangeRequestReaders.slice(0))A.cancel(w)}}e.PDFNetworkStream=R;class l{constructor(w,_){this._manager=w;const A={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._fullRequestId=w.requestFull(A),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=_.disableRange||!1,this._contentLength=_.length,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const w=this._fullRequestId,_=this._manager.getRequestXhr(w),A=C=>_.getResponseHeader(C),{allowRangeRequests:m,suggestedLength:y}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});m&&(this._isRangeSupported=!0),this._contentLength=y||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(w),this._headersReceivedCapability.resolve()}_onDone(w){if(w&&(this._requests.length>0?this._requests.shift().resolve({value:w.chunk,done:!1}):this._cachedChunks.push(w.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(w){this._storedError=(0,f.createResponseStatusError)(w,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(w){var _;(_=this.onProgress)==null||_.call(this,{loaded:w.loaded,total:w.lengthComputable?w.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const w=new i.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0,this._headersReceivedCapability.reject(w);for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class I{constructor(w,_,A){this._manager=w;const m={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=w.url,this._requestId=w.requestRange(_,A,m),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var w;(w=this.onClosed)==null||w.call(this,this)}_onDone(w){const _=w.chunk;this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunk=_,this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(w){this._storedError=(0,f.createResponseStatusError)(w,this._url);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(w){var _;this.isStreamingSupported||(_=this.onProgress)==null||_.call(this,{loaded:w.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const _=this._queuedChunk;return this._queuedChunk=null,{value:_,done:!1}}if(this._done)return{value:void 0,done:!0};const w=new i.PromiseCapability;return this._requests.push(w),w.promise}cancel(w){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=L(1),f=L(20);const W=/^file:\/\/\/[a-zA-Z]:\//;function O(A){const m=require$$5,y=m.parse(A);return y.protocol==="file:"||y.host?y:/^[a-z]:[/\\]/i.test(A)?m.parse(`file:///${A}`):(y.host||(y.protocol="file:"),y)}class ot{constructor(m){this.source=m,this.url=O(m.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&m.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var m;return((m=this._fullRequestReader)==null?void 0:m._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new w(this):new I(this),this._fullRequestReader}getRangeReader(m,y){if(y<=this._progressiveDataLength)return null;const C=this.isFsUrl?new _(this,m,y):new P(this,m,y);return this._rangeRequestReaders.push(C),C}cancelAllRequests(m){var y;(y=this._fullRequestReader)==null||y.cancel(m);for(const C of this._rangeRequestReaders.slice(0))C.cancel(m)}}e.PDFNodeStream=ot;class b{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null;const y=m.source;this._contentLength=y.length,this._loaded=0,this._filename=null,this._disableRange=y.disableRange||!1,this._rangeChunkSize=y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!y.disableStream,this._isRangeSupported=!y.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=m.length,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",y=>{this._error(y)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class R{constructor(m){this._url=m.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const y=m.source;this._isStreamingSupported=!y.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var C;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const m=this._readableStream.read();return m===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=m.length,(C=this.onProgress)==null||C.call(this,{loaded:this._loaded}),{value:new Uint8Array(m).buffer,done:!1})}cancel(m){if(!this._readableStream){this._error(m);return}this._readableStream.destroy(m)}_error(m){this._storedError=m,this._readCapability.resolve()}_setReadableStream(m){this._readableStream=m,m.on("readable",()=>{this._readCapability.resolve()}),m.on("end",()=>{m.destroy(),this._done=!0,this._readCapability.resolve()}),m.on("error",y=>{this._error(y)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(A,m){return{protocol:A.protocol,auth:A.auth,host:A.hostname,port:A.port,path:A.path,method:"GET",headers:m}}class I extends b{constructor(m){super(m);const y=C=>{if(C.statusCode===404){const h=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(C);const x=h=>this._readableStream.headers[h.toLowerCase()],{allowRangeRequests:u,suggestedLength:a}=(0,f.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:m.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=a||this._contentLength,this._filename=(0,f.extractFilenameFromHeader)(x)};if(this._request=null,this._url.protocol==="http:"){const C=require$$5;this._request=C.request(l(this._url,m.httpHeaders),y)}else{const C=require$$5;this._request=C.request(l(this._url,m.httpHeaders),y)}this._request.on("error",C=>{this._storedError=C,this._headersCapability.reject(C)}),this._request.end()}}class P extends R{constructor(m,y,C){super(m),this._httpHeaders={};for(const u in m.httpHeaders){const a=m.httpHeaders[u];a!==void 0&&(this._httpHeaders[u]=a)}this._httpHeaders.Range=`bytes=${y}-${C-1}`;const x=u=>{if(u.statusCode===404){const a=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(u)};if(this._request=null,this._url.protocol==="http:"){const u=require$$5;this._request=u.request(l(this._url,this._httpHeaders),x)}else{const u=require$$5;this._request=u.request(l(this._url,this._httpHeaders),x)}this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class w extends b{constructor(m){super(m);let y=decodeURIComponent(this._url.path);W.test(this._url.href)&&(y=y.replace(/^\//,""));const C=require$$5;C.lstat(y,(x,u)=>{if(x){x.code==="ENOENT"&&(x=new i.MissingPDFException(`Missing PDF "${y}".`)),this._storedError=x,this._headersCapability.reject(x);return}this._contentLength=u.size,this._setReadableStream(C.createReadStream(y)),this._headersCapability.resolve()})}}class _ extends R{constructor(m,y,C){super(m);let x=decodeURIComponent(this._url.path);W.test(this._url.href)&&(x=x.replace(/^\//,""));const u=require$$5;this._setReadableStream(u.createReadStream(x,{start:y,end:C-1}))}}},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=L(6),f=L(1);const W={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",ot="http://www.w3.org/1999/xlink",b=["butt","round","square"],R=["miter","round","bevel"],l=function(u,a="",h=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!h)return URL.createObjectURL(new Blob([u],{type:a}));const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let E=`data:${a};base64,`;for(let c=0,F=u.length;c<F;c+=3){const g=u[c]&255,H=u[c+1]&255,z=u[c+2]&255,T=g>>2,q=(g&3)<<4|H>>4,st=c+1<F?(H&15)<<2|z>>6:64,at=c+2<F?z&63:64;E+=M[T]+M[q]+M[st]+M[at]}return E},I=function(){const u=new Uint8Array([137,80,78,71,13,10,26,10]),a=12,h=new Int32Array(256);for(let z=0;z<256;z++){let T=z;for(let q=0;q<8;q++)T=T&1?3988292384^T>>1&2147483647:T>>1&2147483647;h[z]=T}function M(z,T,q){let st=-1;for(let at=T;at<q;at++){const $=(st^z[at])&255,ht=h[$];st=st>>>8^ht}return st^-1}function E(z,T,q,st){let at=st;const $=T.length;q[at]=$>>24&255,q[at+1]=$>>16&255,q[at+2]=$>>8&255,q[at+3]=$&255,at+=4,q[at]=z.charCodeAt(0)&255,q[at+1]=z.charCodeAt(1)&255,q[at+2]=z.charCodeAt(2)&255,q[at+3]=z.charCodeAt(3)&255,at+=4,q.set(T,at),at+=T.length;const ht=M(q,st+4,at);q[at]=ht>>24&255,q[at+1]=ht>>16&255,q[at+2]=ht>>8&255,q[at+3]=ht&255}function c(z,T,q){let st=1,at=0;for(let $=T;$<q;++$)st=(st+(z[$]&255))%65521,at=(at+st)%65521;return at<<16|st}function F(z){if(!f.isNodeJS)return g(z);try{const T=parseInt(process.versions.node)>=8?z:Buffer.from(z),q=require$$5.deflateSync(T,{level:9});return q instanceof Uint8Array?q:new Uint8Array(q)}catch(T){(0,f.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+T)}return g(z)}function g(z){let T=z.length;const q=65535,st=Math.ceil(T/q),at=new Uint8Array(2+T+st*5+4);let $=0;at[$++]=120,at[$++]=156;let ht=0;for(;T>q;)at[$++]=0,at[$++]=255,at[$++]=255,at[$++]=0,at[$++]=0,at.set(z.subarray(ht,ht+q),$),$+=q,ht+=q,T-=q;at[$++]=1,at[$++]=T&255,at[$++]=T>>8&255,at[$++]=~T&65535&255,at[$++]=(~T&65535)>>8&255,at.set(z.subarray(ht),$),$+=z.length-ht;const gt=c(z,0,z.length);return at[$++]=gt>>24&255,at[$++]=gt>>16&255,at[$++]=gt>>8&255,at[$++]=gt&255,at}function H(z,T,q,st){const at=z.width,$=z.height;let ht,gt,_t;const X=z.data;switch(T){case f.ImageKind.GRAYSCALE_1BPP:gt=0,ht=1,_t=at+7>>3;break;case f.ImageKind.RGB_24BPP:gt=2,ht=8,_t=at*3;break;case f.ImageKind.RGBA_32BPP:gt=6,ht=8,_t=at*4;break;default:throw new Error("invalid format")}const v=new Uint8Array((1+_t)*$);let n=0,o=0;for(let G=0;G<$;++G)v[n++]=0,v.set(X.subarray(o,o+_t),n),o+=_t,n+=_t;if(T===f.ImageKind.GRAYSCALE_1BPP&&st){n=0;for(let G=0;G<$;G++){n++;for(let it=0;it<_t;it++)v[n++]^=255}}const r=new Uint8Array([at>>24&255,at>>16&255,at>>8&255,at&255,$>>24&255,$>>16&255,$>>8&255,$&255,ht,gt,0,0,0]),d=F(v),p=u.length+a*3+r.length+d.length,j=new Uint8Array(p);let D=0;return j.set(u,D),D+=u.length,E("IHDR",r,j,D),D+=a+r.length,E("IDATA",d,j,D),D+=a+d.length,E("IEND",new Uint8Array(0),j,D),l(j,"image/png",q)}return function(T,q,st){const at=T.kind===void 0?f.ImageKind.GRAYSCALE_1BPP:T.kind;return H(T,at,q,st)}}();class P{constructor(){this.fontSizeScale=1,this.fontWeight=W.fontWeight,this.fontSize=0,this.textMatrix=f.IDENTITY_MATRIX,this.fontMatrix=f.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=f.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=W.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(a,h){this.x=a,this.y=h}}function w(u){let a=[];const h=[];for(const M of u){if(M.fn==="save"){a.push({fnId:92,fn:"group",items:[]}),h.push(a),a=a.at(-1).items;continue}M.fn==="restore"?a=h.pop():a.push(M)}return a}function _(u){if(Number.isInteger(u))return u.toString();const a=u.toFixed(10);let h=a.length-1;if(a[h]!=="0")return a;do h--;while(a[h]==="0");return a.substring(0,a[h]==="."?h:h+1)}function A(u){if(u[4]===0&&u[5]===0){if(u[1]===0&&u[2]===0)return u[0]===1&&u[3]===1?"":`scale(${_(u[0])} ${_(u[3])})`;if(u[0]===u[3]&&u[1]===-u[2]){const a=Math.acos(u[0])*180/Math.PI;return`rotate(${_(a)})`}}else if(u[0]===1&&u[1]===0&&u[2]===0&&u[3]===1)return`translate(${_(u[4])} ${_(u[5])})`;return`matrix(${_(u[0])} ${_(u[1])} ${_(u[2])} ${_(u[3])} ${_(u[4])} ${_(u[5])})`}let m=0,y=0,C=0;class x{constructor(a,h,M=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new P,this.transformMatrix=f.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=a,this.objs=h,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!M,this._operatorIdMapping=[];for(const E in f.OPS)this._operatorIdMapping[f.OPS[E]]=E}getObject(a,h=null){return typeof a=="string"?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):h}save(){this.transformStack.push(this.transformMatrix);const a=this.current;this.extraStack.push(a),this.current=a.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(a){this.save(),this.executeOpTree(a),this.restore()}loadDependencies(a){const h=a.fnArray,M=a.argsArray;for(let E=0,c=h.length;E<c;E++)if(h[E]===f.OPS.dependency)for(const F of M[E]){const g=F.startsWith("g_")?this.commonObjs:this.objs,H=new Promise(z=>{g.get(F,z)});this.current.dependencies.push(H)}return Promise.all(this.current.dependencies)}transform(a,h,M,E,c,F){const g=[a,h,M,E,c,F];this.transformMatrix=f.Util.transform(this.transformMatrix,g),this.tgrp=null}getSVG(a,h){this.viewport=h;const M=this._initialize(h);return this.loadDependencies(a).then(()=>(this.transformMatrix=f.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(a)),M))}convertOpList(a){const h=this._operatorIdMapping,M=a.argsArray,E=a.fnArray,c=[];for(let F=0,g=E.length;F<g;F++){const H=E[F];c.push({fnId:H,fn:h[H],args:M[F]})}return w(c)}executeOpTree(a){for(const h of a){const M=h.fn,E=h.fnId,c=h.args;switch(E|0){case f.OPS.beginText:this.beginText();break;case f.OPS.dependency:break;case f.OPS.setLeading:this.setLeading(c);break;case f.OPS.setLeadingMoveText:this.setLeadingMoveText(c[0],c[1]);break;case f.OPS.setFont:this.setFont(c);break;case f.OPS.showText:this.showText(c[0]);break;case f.OPS.showSpacedText:this.showText(c[0]);break;case f.OPS.endText:this.endText();break;case f.OPS.moveText:this.moveText(c[0],c[1]);break;case f.OPS.setCharSpacing:this.setCharSpacing(c[0]);break;case f.OPS.setWordSpacing:this.setWordSpacing(c[0]);break;case f.OPS.setHScale:this.setHScale(c[0]);break;case f.OPS.setTextMatrix:this.setTextMatrix(c[0],c[1],c[2],c[3],c[4],c[5]);break;case f.OPS.setTextRise:this.setTextRise(c[0]);break;case f.OPS.setTextRenderingMode:this.setTextRenderingMode(c[0]);break;case f.OPS.setLineWidth:this.setLineWidth(c[0]);break;case f.OPS.setLineJoin:this.setLineJoin(c[0]);break;case f.OPS.setLineCap:this.setLineCap(c[0]);break;case f.OPS.setMiterLimit:this.setMiterLimit(c[0]);break;case f.OPS.setFillRGBColor:this.setFillRGBColor(c[0],c[1],c[2]);break;case f.OPS.setStrokeRGBColor:this.setStrokeRGBColor(c[0],c[1],c[2]);break;case f.OPS.setStrokeColorN:this.setStrokeColorN(c);break;case f.OPS.setFillColorN:this.setFillColorN(c);break;case f.OPS.shadingFill:this.shadingFill(c[0]);break;case f.OPS.setDash:this.setDash(c[0],c[1]);break;case f.OPS.setRenderingIntent:this.setRenderingIntent(c[0]);break;case f.OPS.setFlatness:this.setFlatness(c[0]);break;case f.OPS.setGState:this.setGState(c[0]);break;case f.OPS.fill:this.fill();break;case f.OPS.eoFill:this.eoFill();break;case f.OPS.stroke:this.stroke();break;case f.OPS.fillStroke:this.fillStroke();break;case f.OPS.eoFillStroke:this.eoFillStroke();break;case f.OPS.clip:this.clip("nonzero");break;case f.OPS.eoClip:this.clip("evenodd");break;case f.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case f.OPS.paintImageXObject:this.paintImageXObject(c[0]);break;case f.OPS.paintInlineImageXObject:this.paintInlineImageXObject(c[0]);break;case f.OPS.paintImageMaskXObject:this.paintImageMaskXObject(c[0]);break;case f.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(c[0],c[1]);break;case f.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case f.OPS.closePath:this.closePath();break;case f.OPS.closeStroke:this.closeStroke();break;case f.OPS.closeFillStroke:this.closeFillStroke();break;case f.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case f.OPS.nextLine:this.nextLine();break;case f.OPS.transform:this.transform(c[0],c[1],c[2],c[3],c[4],c[5]);break;case f.OPS.constructPath:this.constructPath(c[0],c[1]);break;case f.OPS.endPath:this.endPath();break;case 92:this.group(h.items);break;default:(0,f.warn)(`Unimplemented operator ${M}`);break}}}setWordSpacing(a){this.current.wordSpacing=a}setCharSpacing(a){this.current.charSpacing=a}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(a,h,M,E,c,F){const g=this.current;g.textMatrix=g.lineMatrix=[a,h,M,E,c,F],g.textMatrixScale=Math.hypot(a,h),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${_(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",_(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.append(g.tspan)}beginText(){const a=this.current;a.x=a.lineX=0,a.y=a.lineY=0,a.textMatrix=f.IDENTITY_MATRIX,a.lineMatrix=f.IDENTITY_MATRIX,a.textMatrixScale=1,a.tspan=this.svgFactory.createElement("svg:tspan"),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtgrp=this.svgFactory.createElement("svg:g"),a.xcoords=[],a.ycoords=[]}moveText(a,h){const M=this.current;M.x=M.lineX+=a,M.y=M.lineY+=h,M.xcoords=[],M.ycoords=[],M.tspan=this.svgFactory.createElement("svg:tspan"),M.tspan.setAttributeNS(null,"font-family",M.fontFamily),M.tspan.setAttributeNS(null,"font-size",`${_(M.fontSize)}px`),M.tspan.setAttributeNS(null,"y",_(-M.y))}showText(a){const h=this.current,M=h.font,E=h.fontSize;if(E===0)return;const c=h.fontSizeScale,F=h.charSpacing,g=h.wordSpacing,H=h.fontDirection,z=h.textHScale*H,T=M.vertical,q=T?1:-1,st=M.defaultVMetrics,at=E*h.fontMatrix[0];let $=0;for(const _t of a){if(_t===null){$+=H*g;continue}else if(typeof _t=="number"){$+=q*_t*E/1e3;continue}const X=(_t.isSpace?g:0)+F,v=_t.fontChar;let n,o,r=_t.width;if(T){let p;const j=_t.vmetric||st;p=_t.vmetric?j[1]:r*.5,p=-p*at;const D=j[2]*at;r=j?-j[0]:r,n=p/c,o=($+D)/c}else n=$/c,o=0;(_t.isInFont||M.missingFile)&&(h.xcoords.push(h.x+n),T&&h.ycoords.push(-h.y+o),h.tspan.textContent+=v);const d=T?r*at-X*H:r*at+X*H;$+=d}h.tspan.setAttributeNS(null,"x",h.xcoords.map(_).join(" ")),T?h.tspan.setAttributeNS(null,"y",h.ycoords.map(_).join(" ")):h.tspan.setAttributeNS(null,"y",_(-h.y)),T?h.y-=$:h.x+=$*z,h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size",`${_(h.fontSize)}px`),h.fontStyle!==W.fontStyle&&h.tspan.setAttributeNS(null,"font-style",h.fontStyle),h.fontWeight!==W.fontWeight&&h.tspan.setAttributeNS(null,"font-weight",h.fontWeight);const ht=h.textRenderingMode&f.TextRenderingMode.FILL_STROKE_MASK;if(ht===f.TextRenderingMode.FILL||ht===f.TextRenderingMode.FILL_STROKE?(h.fillColor!==W.fillColor&&h.tspan.setAttributeNS(null,"fill",h.fillColor),h.fillAlpha<1&&h.tspan.setAttributeNS(null,"fill-opacity",h.fillAlpha)):h.textRenderingMode===f.TextRenderingMode.ADD_TO_PATH?h.tspan.setAttributeNS(null,"fill","transparent"):h.tspan.setAttributeNS(null,"fill","none"),ht===f.TextRenderingMode.STROKE||ht===f.TextRenderingMode.FILL_STROKE){const _t=1/(h.textMatrixScale||1);this._setStrokeAttributes(h.tspan,_t)}let gt=h.textMatrix;h.textRise!==0&&(gt=gt.slice(),gt[5]+=h.textRise),h.txtElement.setAttributeNS(null,"transform",`${A(gt)} scale(${_(z)}, -1)`),h.txtElement.setAttributeNS(O,"xml:space","preserve"),h.txtElement.append(h.tspan),h.txtgrp.append(h.txtElement),this._ensureTransformGroup().append(h.txtElement)}setLeadingMoveText(a,h){this.setLeading(-h),this.moveText(a,h)}addFontStyle(a){if(!a.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const h=l(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${a.loadedName}"; src: url(${h}); }
`}setFont(a){const h=this.current,M=this.commonObjs.get(a[0]);let E=a[1];h.font=M,this.embedFonts&&!M.missingFile&&!this.embeddedFonts[M.loadedName]&&(this.addFontStyle(M),this.embeddedFonts[M.loadedName]=M),h.fontMatrix=M.fontMatrix||f.FONT_IDENTITY_MATRIX;let c="normal";M.black?c="900":M.bold&&(c="bold");const F=M.italic?"italic":"normal";E<0?(E=-E,h.fontDirection=-1):h.fontDirection=1,h.fontSize=E,h.fontFamily=M.loadedName,h.fontWeight=c,h.fontStyle=F,h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"y",_(-h.y)),h.xcoords=[],h.ycoords=[]}endText(){var h;const a=this.current;a.textRenderingMode&f.TextRenderingMode.ADD_TO_PATH_FLAG&&((h=a.txtElement)!=null&&h.hasChildNodes())&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(a){a>0&&(this.current.lineWidth=a)}setLineCap(a){this.current.lineCap=b[a]}setLineJoin(a){this.current.lineJoin=R[a]}setMiterLimit(a){this.current.miterLimit=a}setStrokeAlpha(a){this.current.strokeAlpha=a}setStrokeRGBColor(a,h,M){this.current.strokeColor=f.Util.makeHexColor(a,h,M)}setFillAlpha(a){this.current.fillAlpha=a}setFillRGBColor(a,h,M){this.current.fillColor=f.Util.makeHexColor(a,h,M),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(a){this.current.strokeColor=this._makeColorN_Pattern(a)}setFillColorN(a){this.current.fillColor=this._makeColorN_Pattern(a)}shadingFill(a){const{width:h,height:M}=this.viewport,E=f.Util.inverseTransform(this.transformMatrix),[c,F,g,H]=f.Util.getAxialAlignedBoundingBox([0,0,h,M],E),z=this.svgFactory.createElement("svg:rect");z.setAttributeNS(null,"x",c),z.setAttributeNS(null,"y",F),z.setAttributeNS(null,"width",g-c),z.setAttributeNS(null,"height",H-F),z.setAttributeNS(null,"fill",this._makeShadingPattern(a)),this.current.fillAlpha<1&&z.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(z)}_makeColorN_Pattern(a){return a[0]==="TilingPattern"?this._makeTilingPattern(a):this._makeShadingPattern(a)}_makeTilingPattern(a){const h=a[1],M=a[2],E=a[3]||f.IDENTITY_MATRIX,[c,F,g,H]=a[4],z=a[5],T=a[6],q=a[7],st=`shading${C++}`,[at,$,ht,gt]=f.Util.normalizeRect([...f.Util.applyTransform([c,F],E),...f.Util.applyTransform([g,H],E)]),[_t,X]=f.Util.singularValueDecompose2dScale(E),v=z*_t,n=T*X,o=this.svgFactory.createElement("svg:pattern");o.setAttributeNS(null,"id",st),o.setAttributeNS(null,"patternUnits","userSpaceOnUse"),o.setAttributeNS(null,"width",v),o.setAttributeNS(null,"height",n),o.setAttributeNS(null,"x",`${at}`),o.setAttributeNS(null,"y",`${$}`);const r=this.svg,d=this.transformMatrix,p=this.current.fillColor,j=this.current.strokeColor,D=this.svgFactory.create(ht-at,gt-$);if(this.svg=D,this.transformMatrix=E,q===2){const G=f.Util.makeHexColor(...h);this.current.fillColor=G,this.current.strokeColor=G}return this.executeOpTree(this.convertOpList(M)),this.svg=r,this.transformMatrix=d,this.current.fillColor=p,this.current.strokeColor=j,o.append(D.childNodes[0]),this.defs.append(o),`url(#${st})`}_makeShadingPattern(a){switch(typeof a=="string"&&(a=this.objs.get(a)),a[0]){case"RadialAxial":const h=`shading${C++}`,M=a[3];let E;switch(a[1]){case"axial":const c=a[4],F=a[5];E=this.svgFactory.createElement("svg:linearGradient"),E.setAttributeNS(null,"id",h),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"x1",c[0]),E.setAttributeNS(null,"y1",c[1]),E.setAttributeNS(null,"x2",F[0]),E.setAttributeNS(null,"y2",F[1]);break;case"radial":const g=a[4],H=a[5],z=a[6],T=a[7];E=this.svgFactory.createElement("svg:radialGradient"),E.setAttributeNS(null,"id",h),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"cx",H[0]),E.setAttributeNS(null,"cy",H[1]),E.setAttributeNS(null,"r",T),E.setAttributeNS(null,"fx",g[0]),E.setAttributeNS(null,"fy",g[1]),E.setAttributeNS(null,"fr",z);break;default:throw new Error(`Unknown RadialAxial type: ${a[1]}`)}for(const c of M){const F=this.svgFactory.createElement("svg:stop");F.setAttributeNS(null,"offset",c[0]),F.setAttributeNS(null,"stop-color",c[1]),E.append(F)}return this.defs.append(E),`url(#${h})`;case"Mesh":return(0,f.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${a[0]}`)}}setDash(a,h){this.current.dashArray=a,this.current.dashPhase=h}constructPath(a,h){const M=this.current;let E=M.x,c=M.y,F=[],g=0;for(const H of a)switch(H|0){case f.OPS.rectangle:E=h[g++],c=h[g++];const z=h[g++],T=h[g++],q=E+z,st=c+T;F.push("M",_(E),_(c),"L",_(q),_(c),"L",_(q),_(st),"L",_(E),_(st),"Z");break;case f.OPS.moveTo:E=h[g++],c=h[g++],F.push("M",_(E),_(c));break;case f.OPS.lineTo:E=h[g++],c=h[g++],F.push("L",_(E),_(c));break;case f.OPS.curveTo:E=h[g+4],c=h[g+5],F.push("C",_(h[g]),_(h[g+1]),_(h[g+2]),_(h[g+3]),_(E),_(c)),g+=6;break;case f.OPS.curveTo2:F.push("C",_(E),_(c),_(h[g]),_(h[g+1]),_(h[g+2]),_(h[g+3])),E=h[g+2],c=h[g+3],g+=4;break;case f.OPS.curveTo3:E=h[g+2],c=h[g+3],F.push("C",_(h[g]),_(h[g+1]),_(E),_(c),_(E),_(c)),g+=4;break;case f.OPS.closePath:F.push("Z");break}F=F.join(" "),M.path&&a.length>0&&a[0]!==f.OPS.rectangle&&a[0]!==f.OPS.moveTo?F=M.path.getAttributeNS(null,"d")+F:(M.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(M.path)),M.path.setAttributeNS(null,"d",F),M.path.setAttributeNS(null,"fill","none"),M.element=M.path,M.setCurrentPoint(E,c)}endPath(){const a=this.current;if(a.path=null,!this.pendingClip)return;if(!a.element){this.pendingClip=null;return}const h=`clippath${m++}`,M=this.svgFactory.createElement("svg:clipPath");M.setAttributeNS(null,"id",h),M.setAttributeNS(null,"transform",A(this.transformMatrix));const E=a.element.cloneNode(!0);if(this.pendingClip==="evenodd"?E.setAttributeNS(null,"clip-rule","evenodd"):E.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,M.append(E),this.defs.append(M),a.activeClipUrl){a.clipGroup=null;for(const c of this.extraStack)c.clipGroup=null;M.setAttributeNS(null,"clip-path",a.activeClipUrl)}a.activeClipUrl=`url(#${h})`,this.tgrp=null}clip(a){this.pendingClip=a}closePath(){const a=this.current;if(a.path){const h=`${a.path.getAttributeNS(null,"d")}Z`;a.path.setAttributeNS(null,"d",h)}}setLeading(a){this.current.leading=-a}setTextRise(a){this.current.textRise=a}setTextRenderingMode(a){this.current.textRenderingMode=a}setHScale(a){this.current.textHScale=a/100}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(const[h,M]of a)switch(h){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M);break;case"CA":this.setStrokeAlpha(M);break;case"ca":this.setFillAlpha(M);break;default:(0,f.warn)(`Unimplemented graphic state operator ${h}`);break}}fill(){const a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}stroke(){const a=this.current;a.element&&(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(a,h=1){const M=this.current;let E=M.dashArray;h!==1&&E.length>0&&(E=E.map(function(c){return h*c})),a.setAttributeNS(null,"stroke",M.strokeColor),a.setAttributeNS(null,"stroke-opacity",M.strokeAlpha),a.setAttributeNS(null,"stroke-miterlimit",_(M.miterLimit)),a.setAttributeNS(null,"stroke-linecap",M.lineCap),a.setAttributeNS(null,"stroke-linejoin",M.lineJoin),a.setAttributeNS(null,"stroke-width",_(h*M.lineWidth)+"px"),a.setAttributeNS(null,"stroke-dasharray",E.map(_).join(" ")),a.setAttributeNS(null,"stroke-dashoffset",_(h*M.dashPhase)+"px")}eoFill(){var a;(a=this.current.element)==null||a.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var a;(a=this.current.element)==null||a.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width","1px"),a.setAttributeNS(null,"height","1px"),a.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(a)}paintImageXObject(a){const h=this.getObject(a);if(!h){(0,f.warn)(`Dependent image with object ID ${a} is not ready yet`);return}this.paintInlineImageXObject(h)}paintInlineImageXObject(a,h){const M=a.width,E=a.height,c=I(a,this.forceDataSchema,!!h),F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",_(M)),F.setAttributeNS(null,"height",_(E)),this.current.element=F,this.clip("nonzero");const g=this.svgFactory.createElement("svg:image");g.setAttributeNS(ot,"xlink:href",c),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",_(-E)),g.setAttributeNS(null,"width",_(M)+"px"),g.setAttributeNS(null,"height",_(E)+"px"),g.setAttributeNS(null,"transform",`scale(${_(1/M)} ${_(-1/E)})`),h?h.append(g):this._ensureTransformGroup().append(g)}paintImageMaskXObject(a){const h=this.getObject(a.data,a);if(h.bitmap){(0,f.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const M=this.current,E=h.width,c=h.height,F=M.fillColor;M.maskId=`mask${y++}`;const g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",M.maskId);const H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",_(E)),H.setAttributeNS(null,"height",_(c)),H.setAttributeNS(null,"fill",F),H.setAttributeNS(null,"mask",`url(#${M.maskId})`),this.defs.append(g),this._ensureTransformGroup().append(H),this.paintInlineImageXObject(h,g)}paintFormXObjectBegin(a,h){if(Array.isArray(a)&&a.length===6&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),h){const M=h[2]-h[0],E=h[3]-h[1],c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",h[0]),c.setAttributeNS(null,"y",h[1]),c.setAttributeNS(null,"width",_(M)),c.setAttributeNS(null,"height",_(E)),this.current.element=c,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(a){const h=this.svgFactory.create(a.width,a.height),M=this.svgFactory.createElement("svg:defs");h.append(M),this.defs=M;const E=this.svgFactory.createElement("svg:g");return E.setAttributeNS(null,"transform",A(a.transform)),h.append(E),this.svg=E,h}_ensureClipGroup(){if(!this.current.clipGroup){const a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(a),this.current.clipGroup=a}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=x},(k,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class L{static textContent(f){const W=[],O={items:W,styles:Object.create(null)};function ot(b){var I;if(!b)return;let R=null;const l=b.name;if(l==="#text")R=b.value;else if(L.shouldBuildText(l))(I=b==null?void 0:b.attributes)!=null&&I.textContent?R=b.attributes.textContent:b.value&&(R=b.value);else return;if(R!==null&&W.push({str:R}),!!b.children)for(const P of b.children)ot(P)}return ot(f),O}static shouldBuildText(f){return!(f==="textarea"||f==="input"||f==="option"||f==="select")}}e.XfaText=L},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=A,e.updateTextLayer=m;var i=L(1),f=L(6);const W=1e5,O=30,ot=.8,b=new Map;function R(y,C){let x;if(C&&i.FeatureTest.isOffscreenCanvasSupported)x=new OffscreenCanvas(y,y).getContext("2d",{alpha:!1});else{const u=document.createElement("canvas");u.width=u.height=y,x=u.getContext("2d",{alpha:!1})}return x}function l(y,C){const x=b.get(y);if(x)return x;const u=R(O,C);u.font=`${O}px ${y}`;const a=u.measureText("");let h=a.fontBoundingBoxAscent,M=Math.abs(a.fontBoundingBoxDescent);if(h){const c=h/(h+M);return b.set(y,c),u.canvas.width=u.canvas.height=0,c}u.strokeStyle="red",u.clearRect(0,0,O,O),u.strokeText("g",0,0);let E=u.getImageData(0,0,O,O).data;M=0;for(let c=E.length-1-3;c>=0;c-=4)if(E[c]>0){M=Math.ceil(c/4/O);break}u.clearRect(0,0,O,O),u.strokeText("A",0,O),E=u.getImageData(0,0,O,O).data,h=0;for(let c=0,F=E.length;c<F;c+=4)if(E[c]>0){h=O-Math.floor(c/4/O);break}if(u.canvas.width=u.canvas.height=0,h){const c=h/(h+M);return b.set(y,c),c}return b.set(y,ot),ot}function I(y,C,x){const u=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,fontSize:0};y._textDivs.push(u);const h=i.Util.transform(y._transform,C.transform);let M=Math.atan2(h[1],h[0]);const E=x[C.fontName];E.vertical&&(M+=Math.PI/2);const c=Math.hypot(h[2],h[3]),F=c*l(E.fontFamily,y._isOffscreenCanvasSupported);let g,H;M===0?(g=h[4],H=h[5]-F):(g=h[4]+F*Math.sin(M),H=h[5]-F*Math.cos(M));const z="calc(var(--scale-factor)*",T=u.style;y._container===y._rootContainer?(T.left=`${(100*g/y._pageWidth).toFixed(2)}%`,T.top=`${(100*H/y._pageHeight).toFixed(2)}%`):(T.left=`${z}${g.toFixed(2)}px)`,T.top=`${z}${H.toFixed(2)}px)`),T.fontSize=`${z}${c.toFixed(2)}px)`,T.fontFamily=E.fontFamily,a.fontSize=c,u.setAttribute("role","presentation"),u.textContent=C.str,u.dir=C.dir,y._fontInspectorEnabled&&(u.dataset.fontName=C.fontName),M!==0&&(a.angle=M*(180/Math.PI));let q=!1;if(C.str.length>1)q=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){const st=Math.abs(C.transform[0]),at=Math.abs(C.transform[3]);st!==at&&Math.max(st,at)/Math.min(st,at)>1.5&&(q=!0)}q&&(a.canvasWidth=E.vertical?C.height:C.width),y._textDivProperties.set(u,a),y._isReadableStream&&y._layoutText(u)}function P(y){const{div:C,scale:x,properties:u,ctx:a,prevFontSize:h,prevFontFamily:M}=y,{style:E}=C;let c="";if(u.canvasWidth!==0&&u.hasText){const{fontFamily:F}=E,{canvasWidth:g,fontSize:H}=u;(h!==H||M!==F)&&(a.font=`${H*x}px ${F}`,y.prevFontSize=H,y.prevFontFamily=F);const{width:z}=a.measureText(C.textContent);z>0&&(c=`scaleX(${g*x/z})`)}u.angle!==0&&(c=`rotate(${u.angle}deg) ${c}`),c.length>0&&(E.transform=c)}function w(y){if(y._canceled)return;const C=y._textDivs,x=y._capability;if(C.length>W){x.resolve();return}if(!y._isReadableStream)for(const a of C)y._layoutText(a);x.resolve()}class _{constructor({textContentSource:C,container:x,viewport:u,textDivs:a,textDivProperties:h,textContentItemsStr:M,isOffscreenCanvasSupported:E}){var z;this._textContentSource=C,this._isReadableStream=C instanceof ReadableStream,this._container=this._rootContainer=x,this._textDivs=a||[],this._textContentItemsStr=M||[],this._isOffscreenCanvasSupported=E,this._fontInspectorEnabled=!!((z=globalThis.FontInspector)!=null&&z.enabled),this._reader=null,this._textDivProperties=h||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:u.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:R(0,E)};const{pageWidth:c,pageHeight:F,pageX:g,pageY:H}=u.rawDims;this._transform=[1,0,0,-1,-g,H+F],this._pageWidth=c,this._pageHeight=F,(0,f.setLayerDimensions)(x,u),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(C,x){for(const u of C){if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const a=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),u.id!==null&&this._container.setAttribute("id",`${u.id}`),a.append(this._container)}else u.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(u.str),I(this,u,x)}}_layoutText(C){const x=this._layoutTextParams.properties=this._textDivProperties.get(C);if(this._layoutTextParams.div=C,P(this._layoutTextParams),x.hasText&&this._container.append(C),x.hasEOL){const u=document.createElement("br");u.setAttribute("role","presentation"),this._container.append(u)}}_render(){const C=new i.PromiseCapability;let x=Object.create(null);if(this._isReadableStream){const u=()=>{this._reader.read().then(({value:a,done:h})=>{if(h){C.resolve();return}Object.assign(x,a.styles),this._processItems(a.items,x),u()},C.reject)};this._reader=this._textContentSource.getReader(),u()}else if(this._textContentSource){const{items:u,styles:a}=this._textContentSource;this._processItems(u,a),C.resolve()}else throw new Error('No "textContentSource" parameter specified.');C.promise.then(()=>{x=null,w(this)},this._capability.reject)}}e.TextLayerRenderTask=_;function A(y){!y.textContentSource&&(y.textContent||y.textContentStream)&&((0,f.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),y.textContentSource=y.textContent||y.textContentStream);const{container:C,viewport:x}=y,u=getComputedStyle(C),a=u.getPropertyValue("visibility"),h=parseFloat(u.getPropertyValue("--scale-factor"));a==="visible"&&(!h||Math.abs(h-x.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const M=new _(y);return M._render(),M}function m({container:y,viewport:C,textDivs:x,textDivProperties:u,isOffscreenCanvasSupported:a,mustRotate:h=!0,mustRescale:M=!0}){if(h&&(0,f.setLayerDimensions)(y,{rotation:C.rotation}),M){const E=R(0,a),F={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:E};for(const g of x)F.properties=u.get(g),F.div=g,P(F)}}},(k,e,L)=>{var l,I,P,w,_,A,m,y,C,x,u,es,h,Pe,E,ss,F,ns;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var i=L(1),f=L(4),W=L(28),O=L(33),ot=L(6),b=L(34);const H=class H{constructor({uiManager:T,pageIndex:q,div:st,accessibilityManager:at,annotationLayer:$,viewport:ht,l10n:gt}){U(this,u);U(this,h);U(this,E);U(this,F);U(this,l,void 0);U(this,I,!1);U(this,P,null);U(this,w,this.pointerup.bind(this));U(this,_,this.pointerdown.bind(this));U(this,A,new Map);U(this,m,!1);U(this,y,!1);U(this,C,!1);U(this,x,void 0);const _t=[W.FreeTextEditor,O.InkEditor,b.StampEditor];if(!H._initialized){H._initialized=!0;for(const X of _t)X.initialize(gt)}T.registerEditorTypes(_t),rt(this,x,T),this.pageIndex=q,this.div=st,rt(this,l,at),rt(this,P,$),this.viewport=ht,t(this,x).addLayer(this)}get isEmpty(){return t(this,A).size===0}updateToolbar(T){t(this,x).updateToolbar(T)}updateMode(T=t(this,x).getMode()){Y(this,F,ns).call(this),T===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),T!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",T===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",T===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",T===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(T){if(!T&&t(this,x).getMode()!==i.AnnotationEditorType.INK)return;if(!T){for(const st of t(this,A).values())if(st.isEmpty()){st.setInBackground();return}}Y(this,h,Pe).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(T){t(this,x).setEditingState(T)}addCommands(T){t(this,x).addCommands(T)}enable(){this.div.style.pointerEvents="auto";const T=new Set;for(const st of t(this,A).values())st.enableEditing(),st.annotationElementId&&T.add(st.annotationElementId);if(!t(this,P))return;const q=t(this,P).getEditableAnnotations();for(const st of q){if(st.hide(),t(this,x).isDeletedAnnotationElement(st.data.id)||T.has(st.data.id))continue;const at=this.deserialize(st);at&&(this.addOrRebuild(at),at.enableEditing())}}disable(){var q;rt(this,C,!0),this.div.style.pointerEvents="none";const T=new Set;for(const st of t(this,A).values()){if(st.disableEditing(),!st.annotationElementId||st.serialize()!==null){T.add(st.annotationElementId);continue}(q=this.getEditableAnnotation(st.annotationElementId))==null||q.show(),st.remove()}if(t(this,P)){const st=t(this,P).getEditableAnnotations();for(const at of st){const{id:$}=at.data;T.has($)||t(this,x).isDeletedAnnotationElement($)||at.show()}}Y(this,F,ns).call(this),this.isEmpty&&(this.div.hidden=!0),rt(this,C,!1)}getEditableAnnotation(T){var q;return((q=t(this,P))==null?void 0:q.getEditableAnnotation(T))||null}setActiveEditor(T){t(this,x).getActive()!==T&&t(this,x).setActiveEditor(T)}enableClick(){this.div.addEventListener("pointerdown",t(this,_)),this.div.addEventListener("pointerup",t(this,w))}disableClick(){this.div.removeEventListener("pointerdown",t(this,_)),this.div.removeEventListener("pointerup",t(this,w))}attach(T){t(this,A).set(T.id,T);const{annotationElementId:q}=T;q&&t(this,x).isDeletedAnnotationElement(q)&&t(this,x).removeDeletedAnnotationElement(T)}detach(T){var q;t(this,A).delete(T.id),(q=t(this,l))==null||q.removePointerInTextLayer(T.contentDiv),!t(this,C)&&T.annotationElementId&&t(this,x).addDeletedAnnotationElement(T)}remove(T){this.detach(T),t(this,x).removeEditor(T),T.div.contains(document.activeElement)&&setTimeout(()=>{t(this,x).focusMainContainer()},0),T.div.remove(),T.isAttachedToDOM=!1,t(this,y)||this.addInkEditorIfNeeded(!1)}changeParent(T){var q;T.parent!==this&&(T.annotationElementId&&(t(this,x).addDeletedAnnotationElement(T.annotationElementId),f.AnnotationEditor.deleteAnnotationElement(T),T.annotationElementId=null),this.attach(T),(q=T.parent)==null||q.detach(T),T.setParent(this),T.div&&T.isAttachedToDOM&&(T.div.remove(),this.div.append(T.div)))}add(T){if(this.changeParent(T),t(this,x).addEditor(T),this.attach(T),!T.isAttachedToDOM){const q=T.render();this.div.append(q),T.isAttachedToDOM=!0}T.fixAndSetPosition(),T.onceAdded(),t(this,x).addToAnnotationStorage(T)}moveEditorInDOM(T){var st;if(!T.isAttachedToDOM)return;const{activeElement:q}=document;T.div.contains(q)&&(T._focusEventsAllowed=!1,setTimeout(()=>{T.div.contains(document.activeElement)?T._focusEventsAllowed=!0:(T.div.addEventListener("focusin",()=>{T._focusEventsAllowed=!0},{once:!0}),q.focus())},0)),T._structTreeParentId=(st=t(this,l))==null?void 0:st.moveElementInDOM(this.div,T.div,T.contentDiv,!0)}addOrRebuild(T){T.needsToBeRebuilt()?T.rebuild():this.add(T)}addUndoableEditor(T){const q=()=>T._uiManager.rebuild(T),st=()=>{T.remove()};this.addCommands({cmd:q,undo:st,mustExec:!1})}getNextId(){return t(this,x).getId()}pasteEditor(T,q){t(this,x).updateToolbar(T),t(this,x).updateMode(T);const{offsetX:st,offsetY:at}=Y(this,E,ss).call(this),$=this.getNextId(),ht=Y(this,u,es).call(this,{parent:this,id:$,x:st,y:at,uiManager:t(this,x),isCentered:!0,...q});ht&&this.add(ht)}deserialize(T){switch(T.annotationType??T.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return W.FreeTextEditor.deserialize(T,this,t(this,x));case i.AnnotationEditorType.INK:return O.InkEditor.deserialize(T,this,t(this,x));case i.AnnotationEditorType.STAMP:return b.StampEditor.deserialize(T,this,t(this,x))}return null}addNewEditor(){Y(this,h,Pe).call(this,Y(this,E,ss).call(this),!0)}setSelected(T){t(this,x).setSelected(T)}toggleSelected(T){t(this,x).toggleSelected(T)}isSelected(T){return t(this,x).isSelected(T)}unselect(T){t(this,x).unselect(T)}pointerup(T){const{isMac:q}=i.FeatureTest.platform;if(!(T.button!==0||T.ctrlKey&&q)&&T.target===this.div&&t(this,m)){if(rt(this,m,!1),!t(this,I)){rt(this,I,!0);return}if(t(this,x).getMode()===i.AnnotationEditorType.STAMP){t(this,x).unselectAll();return}Y(this,h,Pe).call(this,T,!1)}}pointerdown(T){if(t(this,m)){rt(this,m,!1);return}const{isMac:q}=i.FeatureTest.platform;if(T.button!==0||T.ctrlKey&&q||T.target!==this.div)return;rt(this,m,!0);const st=t(this,x).getActive();rt(this,I,!st||st.isEmpty())}findNewParent(T,q,st){const at=t(this,x).findParent(q,st);return at===null||at===this?!1:(at.changeParent(T),!0)}destroy(){var T,q;((T=t(this,x).getActive())==null?void 0:T.parent)===this&&(t(this,x).commitOrRemove(),t(this,x).setActiveEditor(null));for(const st of t(this,A).values())(q=t(this,l))==null||q.removePointerInTextLayer(st.contentDiv),st.setParent(null),st.isAttachedToDOM=!1,st.div.remove();this.div=null,t(this,A).clear(),t(this,x).removeLayer(this)}render({viewport:T}){this.viewport=T,(0,ot.setLayerDimensions)(this.div,T);for(const q of t(this,x).getEditors(this.pageIndex))this.add(q);this.updateMode()}update({viewport:T}){t(this,x).commitOrRemove(),this.viewport=T,(0,ot.setLayerDimensions)(this.div,{rotation:T.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:T,pageHeight:q}=this.viewport.rawDims;return[T,q]}};l=new WeakMap,I=new WeakMap,P=new WeakMap,w=new WeakMap,_=new WeakMap,A=new WeakMap,m=new WeakMap,y=new WeakMap,C=new WeakMap,x=new WeakMap,u=new WeakSet,es=function(T){switch(t(this,x).getMode()){case i.AnnotationEditorType.FREETEXT:return new W.FreeTextEditor(T);case i.AnnotationEditorType.INK:return new O.InkEditor(T);case i.AnnotationEditorType.STAMP:return new b.StampEditor(T)}return null},h=new WeakSet,Pe=function(T,q){const st=this.getNextId(),at=Y(this,u,es).call(this,{parent:this,id:st,x:T.offsetX,y:T.offsetY,uiManager:t(this,x),isCentered:q});return at&&this.add(at),at},E=new WeakSet,ss=function(){const{x:T,y:q,width:st,height:at}=this.div.getBoundingClientRect(),$=Math.max(0,T),ht=Math.max(0,q),gt=Math.min(window.innerWidth,T+st),_t=Math.min(window.innerHeight,q+at),X=($+gt)/2-T,v=(ht+_t)/2-q,[n,o]=this.viewport.rotation%180===0?[X,v]:[v,X];return{offsetX:n,offsetY:o}},F=new WeakSet,ns=function(){rt(this,y,!0);for(const T of t(this,A).values())T.isEmpty()&&T.remove();rt(this,y,!1)},ee(H,"_initialized",!1);let R=H;e.AnnotationEditorLayer=R},(k,e,L)=>{var b,R,l,I,P,w,_,A,m,y,js,x,ks,a,Fs,M,ye,c,is,g,Ms,z,rs;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var i=L(1),f=L(5),W=L(4),O=L(29);const q=class q extends W.AnnotationEditor{constructor($){super({...$,name:"freeTextEditor"});U(this,y);U(this,x);U(this,a);U(this,M);U(this,c);U(this,g);U(this,z);U(this,b,this.editorDivBlur.bind(this));U(this,R,this.editorDivFocus.bind(this));U(this,l,this.editorDivInput.bind(this));U(this,I,this.editorDivKeydown.bind(this));U(this,P,void 0);U(this,w,"");U(this,_,`${this.id}-editor`);U(this,A,void 0);U(this,m,null);rt(this,P,$.color||q._defaultColor||W.AnnotationEditor._defaultLineColor),rt(this,A,$.fontSize||q._defaultFontSize)}static get _keyboardManager(){const $=q.prototype,ht=X=>X.isEmpty(),gt=f.AnnotationEditorUIManager.TRANSLATE_SMALL,_t=f.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new f.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],$.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],$.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],$._translateEmpty,{args:[-gt,0],checker:ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$._translateEmpty,{args:[-_t,0],checker:ht}],[["ArrowRight","mac+ArrowRight"],$._translateEmpty,{args:[gt,0],checker:ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$._translateEmpty,{args:[_t,0],checker:ht}],[["ArrowUp","mac+ArrowUp"],$._translateEmpty,{args:[0,-gt],checker:ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$._translateEmpty,{args:[0,-_t],checker:ht}],[["ArrowDown","mac+ArrowDown"],$._translateEmpty,{args:[0,gt],checker:ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$._translateEmpty,{args:[0,_t],checker:ht}]]))}static initialize($){W.AnnotationEditor.initialize($,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const ht=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ht.getPropertyValue("--freetext-padding"))}static updateDefaultParams($,ht){switch($){case i.AnnotationEditorParamsType.FREETEXT_SIZE:q._defaultFontSize=ht;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:q._defaultColor=ht;break}}updateParams($,ht){switch($){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Y(this,y,js).call(this,ht);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Y(this,x,ks).call(this,ht);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,q._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,q._defaultColor||W.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,t(this,A)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,t(this,P)]]}_translateEmpty($,ht){this._uiManager.translateSelectedEditors($,ht,!0)}getInitialTranslation(){const $=this.parentScale;return[-q._internalPadding*$,-(q._internalPadding+t(this,A))*$]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",t(this,I)),this.editorDiv.addEventListener("focus",t(this,R)),this.editorDiv.addEventListener("blur",t(this,b)),this.editorDiv.addEventListener("input",t(this,l)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",t(this,_)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",t(this,I)),this.editorDiv.removeEventListener("focus",t(this,R)),this.editorDiv.removeEventListener("blur",t(this,b)),this.editorDiv.removeEventListener("input",t(this,l)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin($){this._focusEventsAllowed&&(super.focusin($),$.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var $;if(this.width){Y(this,z,rs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),($=this._initialOptions)!=null&&$.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const $=t(this,w),ht=rt(this,w,Y(this,a,Fs).call(this).trimEnd());if($===ht)return;const gt=_t=>{if(rt(this,w,_t),!_t){this.remove();return}Y(this,c,is).call(this),this._uiManager.rebuild(this),Y(this,M,ye).call(this)};this.addCommands({cmd:()=>{gt(ht)},undo:()=>{gt($)},mustExec:!1}),Y(this,M,ye).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick($){this.enterInEditMode()}keydown($){$.target===this.div&&$.key==="Enter"&&(this.enterInEditMode(),$.preventDefault())}editorDivKeydown($){q._keyboardManager.exec(this,$)}editorDivFocus($){this.isEditing=!0}editorDivBlur($){this.isEditing=!1}editorDivInput($){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let $,ht;this.width&&($=this.x,ht=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",t(this,_)),this.enableEditing(),W.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(_t=>{var X;return(X=this.editorDiv)==null?void 0:X.setAttribute("aria-label",_t)}),W.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(_t=>{var X;return(X=this.editorDiv)==null?void 0:X.setAttribute("default-content",_t)}),this.editorDiv.contentEditable=!0;const{style:gt}=this.editorDiv;if(gt.fontSize=`calc(${t(this,A)}px * var(--scale-factor))`,gt.color=t(this,P),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,f.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[_t,X]=this.parentDimensions;if(this.annotationElementId){const{position:v}=t(this,m);let[n,o]=this.getInitialTranslation();[n,o]=this.pageTranslationToScreen(n,o);const[r,d]=this.pageDimensions,[p,j]=this.pageTranslation;let D,G;switch(this.rotation){case 0:D=$+(v[0]-p)/r,G=ht+this.height-(v[1]-j)/d;break;case 90:D=$+(v[0]-p)/r,G=ht-(v[1]-j)/d,[n,o]=[o,-n];break;case 180:D=$-this.width+(v[0]-p)/r,G=ht-(v[1]-j)/d,[n,o]=[-n,-o];break;case 270:D=$+(v[0]-p-this.height*d)/r,G=ht+(v[1]-j-this.width*r)/d,[n,o]=[-o,n];break}this.setAt(D*_t,G*X,n,o)}else this.setAt($*_t,ht*X,this.width*_t,this.height*X);Y(this,c,is).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize($,ht,gt){let _t=null;if($ instanceof O.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:v,fontColor:n},rect:o,rotation:r,id:d},textContent:p,textPosition:j,parent:{page:{pageNumber:D}}}=$;if(!p||p.length===0)return null;_t=$={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:v,value:p.join(`
`),position:j,pageIndex:D-1,rect:o,rotation:r,id:d,deleted:!1}}const X=super.deserialize($,ht,gt);return rt(X,A,$.fontSize),rt(X,P,i.Util.makeHexColor(...$.color)),rt(X,w,$.value),X.annotationElementId=$.id||null,rt(X,m,_t),X}serialize($=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const ht=q._internalPadding*this.parentScale,gt=this.getRect(ht,ht),_t=W.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:t(this,P)),X={annotationType:i.AnnotationEditorType.FREETEXT,color:_t,fontSize:t(this,A),value:t(this,w),pageIndex:this.pageIndex,rect:gt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return $?X:this.annotationElementId&&!Y(this,g,Ms).call(this,X)?null:(X.id=this.annotationElementId,X)}};b=new WeakMap,R=new WeakMap,l=new WeakMap,I=new WeakMap,P=new WeakMap,w=new WeakMap,_=new WeakMap,A=new WeakMap,m=new WeakMap,y=new WeakSet,js=function($){const ht=_t=>{this.editorDiv.style.fontSize=`calc(${_t}px * var(--scale-factor))`,this.translate(0,-(_t-t(this,A))*this.parentScale),rt(this,A,_t),Y(this,M,ye).call(this)},gt=t(this,A);this.addCommands({cmd:()=>{ht($)},undo:()=>{ht(gt)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},x=new WeakSet,ks=function($){const ht=t(this,P);this.addCommands({cmd:()=>{rt(this,P,this.editorDiv.style.color=$)},undo:()=>{rt(this,P,this.editorDiv.style.color=ht)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},a=new WeakSet,Fs=function(){const $=this.editorDiv.getElementsByTagName("div");if($.length===0)return this.editorDiv.innerText;const ht=[];for(const gt of $)ht.push(gt.innerText.replace(/\r\n?|\n/,""));return ht.join(`
`)},M=new WeakSet,ye=function(){const[$,ht]=this.parentDimensions;let gt;if(this.isAttachedToDOM)gt=this.div.getBoundingClientRect();else{const{currentLayer:_t,div:X}=this,v=X.style.display;X.style.display="hidden",_t.div.append(this.div),gt=X.getBoundingClientRect(),X.remove(),X.style.display=v}this.rotation%180===this.parentRotation%180?(this.width=gt.width/$,this.height=gt.height/ht):(this.width=gt.height/$,this.height=gt.width/ht),this.fixAndSetPosition()},c=new WeakSet,is=function(){if(this.editorDiv.replaceChildren(),!!t(this,w))for(const $ of t(this,w).split(`
`)){const ht=document.createElement("div");ht.append($?document.createTextNode($):document.createElement("br")),this.editorDiv.append(ht)}},g=new WeakSet,Ms=function($){const{value:ht,fontSize:gt,color:_t,rect:X,pageIndex:v}=t(this,m);return $.value!==ht||$.fontSize!==gt||$.rect.some((n,o)=>Math.abs(n-X[o])>=1)||$.color.some((n,o)=>n!==_t[o])||$.pageIndex!==v},z=new WeakSet,rs=function($=!1){if(!this.annotationElementId)return;if(Y(this,M,ye).call(this),!$&&(this.width===0||this.height===0)){setTimeout(()=>Y(this,z,rs).call(this,!0),0);return}const ht=q._internalPadding*this.parentScale;t(this,m).rect=this.getRect(ht,ht)},ee(q,"_freeTextDefaultContent",""),ee(q,"_internalPadding",0),ee(q,"_defaultColor",null),ee(q,"_defaultFontSize",10),ee(q,"_type","freetext");let ot=q;e.FreeTextEditor=ot},(k,e,L)=>{var o,d,ce,j,Ds,G,it,J,lt,dt,mt,ut,Ct,Dt,At,Mt,xt,nt,tt,ft,Rt,wt,Ut,Ls,Wt,je,zt,as,Xt,os,et,K,Et,vt,te,Zt,Z,ls,It,Tt,Ot,Nt,Is,yt,cs;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var i=L(1),f=L(6),W=L(3),O=L(30),ot=L(31),b=L(32);const R=1e3,l=9,I=new WeakSet;function P(Lt){return{width:Lt[2]-Lt[0],height:Lt[3]-Lt[1]}}class w{static create(N){switch(N.data.annotationType){case i.AnnotationType.LINK:return new A(N);case i.AnnotationType.TEXT:return new m(N);case i.AnnotationType.WIDGET:switch(N.data.fieldType){case"Tx":return new C(N);case"Btn":return N.data.radioButton?new a(N):N.data.checkBox?new u(N):new h(N);case"Ch":return new M(N);case"Sig":return new x(N)}return new y(N);case i.AnnotationType.POPUP:return new E(N);case i.AnnotationType.FREETEXT:return new F(N);case i.AnnotationType.LINE:return new g(N);case i.AnnotationType.SQUARE:return new H(N);case i.AnnotationType.CIRCLE:return new z(N);case i.AnnotationType.POLYLINE:return new T(N);case i.AnnotationType.CARET:return new st(N);case i.AnnotationType.INK:return new at(N);case i.AnnotationType.POLYGON:return new q(N);case i.AnnotationType.HIGHLIGHT:return new $(N);case i.AnnotationType.UNDERLINE:return new ht(N);case i.AnnotationType.SQUIGGLY:return new gt(N);case i.AnnotationType.STRIKEOUT:return new _t(N);case i.AnnotationType.STAMP:return new X(N);case i.AnnotationType.FILEATTACHMENT:return new v(N);default:return new _(N)}}}const r=class r{constructor(N,{isRenderable:s=!1,ignoreBorder:S=!1,createQuadrilaterals:B=!1}={}){U(this,o,!1);this.isRenderable=s,this.data=N.data,this.layer=N.layer,this.linkService=N.linkService,this.downloadManager=N.downloadManager,this.imageResourcesPath=N.imageResourcesPath,this.renderForms=N.renderForms,this.svgFactory=N.svgFactory,this.annotationStorage=N.annotationStorage,this.enableScripting=N.enableScripting,this.hasJSActions=N.hasJSActions,this._fieldObjects=N.fieldObjects,this.parent=N.parent,s&&(this.container=this._createContainer(S)),B&&this._createQuadrilaterals()}static _hasPopupData({titleObj:N,contentsObj:s,richText:S}){return!!(N!=null&&N.str||s!=null&&s.str||S!=null&&S.str)}get hasPopupData(){return r._hasPopupData(this.data)}_createContainer(N){const{data:s,parent:{page:S,viewport:B}}=this,V=document.createElement("section");V.setAttribute("data-annotation-id",s.id),this instanceof y||(V.tabIndex=R),V.style.zIndex=this.parent.zIndex++,this.data.popupRef&&V.setAttribute("aria-haspopup","dialog"),s.noRotate&&V.classList.add("norotate");const{pageWidth:Q,pageHeight:ct,pageX:bt,pageY:jt}=B.rawDims;if(!s.rect||this instanceof E){const{rotation:Ht}=s;return!s.hasOwnCanvas&&Ht!==0&&this.setRotation(Ht,V),V}const{width:Pt,height:Vt}=P(s.rect),kt=i.Util.normalizeRect([s.rect[0],S.view[3]-s.rect[1]+S.view[1],s.rect[2],S.view[3]-s.rect[3]+S.view[1]]);if(!N&&s.borderStyle.width>0){V.style.borderWidth=`${s.borderStyle.width}px`;const Ht=s.borderStyle.horizontalCornerRadius,qt=s.borderStyle.verticalCornerRadius;if(Ht>0||qt>0){const Jt=`calc(${Ht}px * var(--scale-factor)) / calc(${qt}px * var(--scale-factor))`;V.style.borderRadius=Jt}else if(this instanceof a){const Jt=`calc(${Pt}px * var(--scale-factor)) / calc(${Vt}px * var(--scale-factor))`;V.style.borderRadius=Jt}switch(s.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:V.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:V.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:V.style.borderBottomStyle="solid";break}const Kt=s.borderColor||null;Kt?(rt(this,o,!0),V.style.borderColor=i.Util.makeHexColor(Kt[0]|0,Kt[1]|0,Kt[2]|0)):V.style.borderWidth=0}V.style.left=`${100*(kt[0]-bt)/Q}%`,V.style.top=`${100*(kt[1]-jt)/ct}%`;const{rotation:Ft}=s;return s.hasOwnCanvas||Ft===0?(V.style.width=`${100*Pt/Q}%`,V.style.height=`${100*Vt/ct}%`):this.setRotation(Ft,V),V}setRotation(N,s=this.container){if(!this.data.rect)return;const{pageWidth:S,pageHeight:B}=this.parent.viewport.rawDims,{width:V,height:Q}=P(this.data.rect);let ct,bt;N%180===0?(ct=100*V/S,bt=100*Q/B):(ct=100*Q/S,bt=100*V/B),s.style.width=`${ct}%`,s.style.height=`${bt}%`,s.setAttribute("data-main-rotation",(360-N)%360)}get _commonActions(){const N=(s,S,B)=>{const V=B.detail[s],Q=V[0],ct=V.slice(1);B.target.style[S]=O.ColorConverters[`${Q}_HTML`](ct),this.annotationStorage.setValue(this.data.id,{[S]:O.ColorConverters[`${Q}_rgb`](ct)})};return(0,i.shadow)(this,"_commonActions",{display:s=>{const{display:S}=s.detail,B=S%2===1;this.container.style.visibility=B?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:B,noPrint:S===1||S===2})},print:s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!s.detail.print})},hidden:s=>{const{hidden:S}=s.detail;this.container.style.visibility=S?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:S,noView:S})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.target.disabled=s.detail.readonly},required:s=>{this._setRequired(s.target,s.detail.required)},bgColor:s=>{N("bgColor","backgroundColor",s)},fillColor:s=>{N("fillColor","backgroundColor",s)},fgColor:s=>{N("fgColor","color",s)},textColor:s=>{N("textColor","color",s)},borderColor:s=>{N("borderColor","borderColor",s)},strokeColor:s=>{N("strokeColor","borderColor",s)},rotation:s=>{const S=s.detail.rotation;this.setRotation(S),this.annotationStorage.setValue(this.data.id,{rotation:S})}})}_dispatchEventFromSandbox(N,s){const S=this._commonActions;for(const B of Object.keys(s.detail)){const V=N[B]||S[B];V==null||V(s)}}_setDefaultPropertiesFromJS(N){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const S=this._commonActions;for(const[B,V]of Object.entries(s)){const Q=S[B];if(Q){const ct={detail:{[B]:V},target:N};Q(ct),delete s[B]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:N}=this.data;if(!N)return;const[s,S,B,V]=this.data.rect;if(N.length===1){const[,{x:qt,y:Kt},{x:Jt,y:ne}]=N[0];if(B===qt&&V===Kt&&s===Jt&&S===ne)return}const{style:Q}=this.container;let ct;if(t(this,o)){const{borderColor:qt,borderWidth:Kt}=Q;Q.borderWidth=0,ct=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${qt}" stroke-width="${Kt}">`],this.container.classList.add("hasBorder")}const bt=B-s,jt=V-S,{svgFactory:Pt}=this,Vt=Pt.createElement("svg");Vt.classList.add("quadrilateralsContainer"),Vt.setAttribute("width",0),Vt.setAttribute("height",0);const kt=Pt.createElement("defs");Vt.append(kt);const Ft=Pt.createElement("clipPath"),Ht=`clippath_${this.data.id}`;Ft.setAttribute("id",Ht),Ft.setAttribute("clipPathUnits","objectBoundingBox"),kt.append(Ft);for(const[,{x:qt,y:Kt},{x:Jt,y:ne}]of N){const se=Pt.createElement("rect"),ie=(Jt-s)/bt,oe=(V-Kt)/jt,le=(qt-Jt)/bt,bs=(Kt-ne)/jt;se.setAttribute("x",ie),se.setAttribute("y",oe),se.setAttribute("width",le),se.setAttribute("height",bs),Ft.append(se),ct==null||ct.push(`<rect vector-effect="non-scaling-stroke" x="${ie}" y="${oe}" width="${le}" height="${bs}"/>`)}t(this,o)&&(ct.push("</g></svg>')"),Q.backgroundImage=ct.join("")),this.container.append(Vt),this.container.style.clipPath=`url(#${Ht})`}_createPopup(){const{container:N,data:s}=this;N.setAttribute("aria-haspopup","dialog");const S=new E({data:{color:s.color,titleObj:s.titleObj,modificationDate:s.modificationDate,contentsObj:s.contentsObj,richText:s.richText,parentRect:s.rect,borderStyle:0,id:`popup_${s.id}`,rotation:s.rotation},parent:this.parent,elements:[this]});this.parent.div.append(S.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(N,s=null){const S=[];if(this._fieldObjects){const B=this._fieldObjects[N];if(B)for(const{page:V,id:Q,exportValues:ct}of B){if(V===-1||Q===s)continue;const bt=typeof ct=="string"?ct:null,jt=document.querySelector(`[data-element-id="${Q}"]`);if(jt&&!I.has(jt)){(0,i.warn)(`_getElementsByName - element not allowed: ${Q}`);continue}S.push({id:Q,exportValue:bt,domElement:jt})}return S}for(const B of document.getElementsByName(N)){const{exportValue:V}=B,Q=B.getAttribute("data-element-id");Q!==s&&I.has(B)&&S.push({id:Q,exportValue:V,domElement:B})}return S}show(){var N;this.container&&(this.container.hidden=!1),(N=this.popup)==null||N.maybeShow()}hide(){var N;this.container&&(this.container.hidden=!0),(N=this.popup)==null||N.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const N=this.getElementsToTriggerPopup();if(Array.isArray(N))for(const s of N)s.classList.add("highlightArea");else N.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:N,data:{id:s}}=this;this.container.addEventListener("dblclick",()=>{var S;(S=this.linkService.eventBus)==null||S.dispatch("switchannotationeditormode",{source:this,mode:N,editId:s})})}};o=new WeakMap;let _=r;class A extends _{constructor(s,S=null){super(s,{isRenderable:!0,ignoreBorder:!!(S!=null&&S.ignoreBorder),createQuadrilaterals:!0});U(this,d);U(this,j);this.isTooltipOnly=s.data.isTooltipOnly}render(){const{data:s,linkService:S}=this,B=document.createElement("a");B.setAttribute("data-element-id",s.id);let V=!1;return s.url?(S.addLinkAttributes(B,s.url,s.newWindow),V=!0):s.action?(this._bindNamedAction(B,s.action),V=!0):s.attachment?(this._bindAttachment(B,s.attachment),V=!0):s.setOCGState?(Y(this,j,Ds).call(this,B,s.setOCGState),V=!0):s.dest?(this._bindLink(B,s.dest),V=!0):(s.actions&&(s.actions.Action||s.actions["Mouse Up"]||s.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(B,s),V=!0),s.resetForm?(this._bindResetFormAction(B,s.resetForm),V=!0):this.isTooltipOnly&&!V&&(this._bindLink(B,""),V=!0)),this.container.classList.add("linkAnnotation"),V&&this.container.append(B),this.container}_bindLink(s,S){s.href=this.linkService.getDestinationHash(S),s.onclick=()=>(S&&this.linkService.goToDestination(S),!1),(S||S==="")&&Y(this,d,ce).call(this)}_bindNamedAction(s,S){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeNamedAction(S),!1),Y(this,d,ce).call(this)}_bindAttachment(s,S){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>{var B;return(B=this.downloadManager)==null||B.openOrDownloadData(this.container,S.content,S.filename),!1},Y(this,d,ce).call(this)}_bindJSAction(s,S){s.href=this.linkService.getAnchorUrl("");const B=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const V of Object.keys(S.actions)){const Q=B.get(V);Q&&(s[Q]=()=>{var ct;return(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:S.id,name:V}}),!1})}s.onclick||(s.onclick=()=>!1),Y(this,d,ce).call(this)}_bindResetFormAction(s,S){const B=s.onclick;if(B||(s.href=this.linkService.getAnchorUrl("")),Y(this,d,ce).call(this),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),B||(s.onclick=()=>!1);return}s.onclick=()=>{var Vt;B==null||B();const{fields:V,refs:Q,include:ct}=S,bt=[];if(V.length!==0||Q.length!==0){const kt=new Set(Q);for(const Ft of V){const Ht=this._fieldObjects[Ft]||[];for(const{id:qt}of Ht)kt.add(qt)}for(const Ft of Object.values(this._fieldObjects))for(const Ht of Ft)kt.has(Ht.id)===ct&&bt.push(Ht)}else for(const kt of Object.values(this._fieldObjects))bt.push(...kt);const jt=this.annotationStorage,Pt=[];for(const kt of bt){const{id:Ft}=kt;switch(Pt.push(Ft),kt.type){case"text":{const qt=kt.defaultValue||"";jt.setValue(Ft,{value:qt});break}case"checkbox":case"radiobutton":{const qt=kt.defaultValue===kt.exportValues;jt.setValue(Ft,{value:qt});break}case"combobox":case"listbox":{const qt=kt.defaultValue||"";jt.setValue(Ft,{value:qt});break}default:continue}const Ht=document.querySelector(`[data-element-id="${Ft}"]`);if(Ht){if(!I.has(Ht)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${Ft}`);continue}}else continue;Ht.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Vt=this.linkService.eventBus)==null||Vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Pt,name:"ResetForm"}})),!1}}}d=new WeakSet,ce=function(){this.container.setAttribute("data-internal-link","")},j=new WeakSet,Ds=function(s,S){s.href=this.linkService.getAnchorUrl(""),s.onclick=()=>(this.linkService.executeSetOCGState(S),!1),Y(this,d,ce).call(this)};class m extends _{constructor(N){super(N,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const N=document.createElement("img");return N.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",N.alt="[{{type}} Annotation]",N.dataset.l10nId="text_annotation_type",N.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(N),this.container}}class y extends _{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(N){var s;this.data.hasOwnCanvas&&(((s=N.previousSibling)==null?void 0:s.nodeName)==="CANVAS"&&(N.previousSibling.hidden=!0),N.hidden=!1)}_getKeyModifier(N){const{isWin:s,isMac:S}=i.FeatureTest.platform;return s&&N.ctrlKey||S&&N.metaKey}_setEventListener(N,s,S,B,V){S.includes("mouse")?N.addEventListener(S,Q=>{var ct;(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:V(Q),shift:Q.shiftKey,modifier:this._getKeyModifier(Q)}})}):N.addEventListener(S,Q=>{var ct;if(S==="blur"){if(!s.focused||!Q.relatedTarget)return;s.focused=!1}else if(S==="focus"){if(s.focused)return;s.focused=!0}V&&((ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:B,value:V(Q)}}))})}_setEventListeners(N,s,S,B){var V,Q,ct;for(const[bt,jt]of S)(jt==="Action"||(V=this.data.actions)!=null&&V[jt])&&((jt==="Focus"||jt==="Blur")&&(s||(s={focused:!1})),this._setEventListener(N,s,bt,jt,B),jt==="Focus"&&!((Q=this.data.actions)!=null&&Q.Blur)?this._setEventListener(N,s,"blur","Blur",null):jt==="Blur"&&!((ct=this.data.actions)!=null&&ct.Focus)&&this._setEventListener(N,s,"focus","Focus",null))}_setBackgroundColor(N){const s=this.data.backgroundColor||null;N.style.backgroundColor=s===null?"transparent":i.Util.makeHexColor(s[0],s[1],s[2])}_setTextStyle(N){const s=["left","center","right"],{fontColor:S}=this.data.defaultAppearanceData,B=this.data.defaultAppearanceData.fontSize||l,V=N.style;let Q;const ct=2,bt=jt=>Math.round(10*jt)/10;if(this.data.multiLine){const jt=Math.abs(this.data.rect[3]-this.data.rect[1]-ct),Pt=Math.round(jt/(i.LINE_FACTOR*B))||1,Vt=jt/Pt;Q=Math.min(B,bt(Vt/i.LINE_FACTOR))}else{const jt=Math.abs(this.data.rect[3]-this.data.rect[1]-ct);Q=Math.min(B,bt(jt/i.LINE_FACTOR))}V.fontSize=`calc(${Q}px * var(--scale-factor))`,V.color=i.Util.makeHexColor(S[0],S[1],S[2]),this.data.textAlignment!==null&&(V.textAlign=s[this.data.textAlignment])}_setRequired(N,s){s?N.setAttribute("required",!0):N.removeAttribute("required"),N.setAttribute("aria-required",s)}}class C extends y{constructor(N){const s=N.renderForms||!N.data.hasAppearance&&!!N.data.fieldValue;super(N,{isRenderable:s})}setPropertyOnSiblings(N,s,S,B){const V=this.annotationStorage;for(const Q of this._getElementsByName(N.name,N.id))Q.domElement&&(Q.domElement[s]=S),V.setValue(Q.id,{[B]:S})}render(){var B,V;const N=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let S=null;if(this.renderForms){const Q=N.getValue(s,{value:this.data.fieldValue});let ct=Q.value||"";const bt=N.getValue(s,{charLimit:this.data.maxLen}).charLimit;bt&&ct.length>bt&&(ct=ct.slice(0,bt));let jt=Q.formattedValue||((B=this.data.textContent)==null?void 0:B.join(`
`))||null;jt&&this.data.comb&&(jt=jt.replaceAll(/\s+/g,""));const Pt={userValue:ct,formattedValue:jt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(S=document.createElement("textarea"),S.textContent=jt??ct,this.data.doNotScroll&&(S.style.overflowY="hidden")):(S=document.createElement("input"),S.type="text",S.setAttribute("value",jt??ct),this.data.doNotScroll&&(S.style.overflowX="hidden")),this.data.hasOwnCanvas&&(S.hidden=!0),I.add(S),S.setAttribute("data-element-id",s),S.disabled=this.data.readOnly,S.name=this.data.fieldName,S.tabIndex=R,this._setRequired(S,this.data.required),bt&&(S.maxLength=bt),S.addEventListener("input",kt=>{N.setValue(s,{value:kt.target.value}),this.setPropertyOnSiblings(S,"value",kt.target.value,"value"),Pt.formattedValue=null}),S.addEventListener("resetform",kt=>{const Ft=this.data.defaultFieldValue??"";S.value=Pt.userValue=Ft,Pt.formattedValue=null});let Vt=kt=>{const{formattedValue:Ft}=Pt;Ft!=null&&(kt.target.value=Ft),kt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){S.addEventListener("focus",Ft=>{if(Pt.focused)return;const{target:Ht}=Ft;Pt.userValue&&(Ht.value=Pt.userValue),Pt.lastCommittedValue=Ht.value,Pt.commitKey=1,Pt.focused=!0}),S.addEventListener("updatefromsandbox",Ft=>{this.showElementAndHideCanvas(Ft.target);const Ht={value(qt){Pt.userValue=qt.detail.value??"",N.setValue(s,{value:Pt.userValue.toString()}),qt.target.value=Pt.userValue},formattedValue(qt){const{formattedValue:Kt}=qt.detail;Pt.formattedValue=Kt,Kt!=null&&qt.target!==document.activeElement&&(qt.target.value=Kt),N.setValue(s,{formattedValue:Kt})},selRange(qt){qt.target.setSelectionRange(...qt.detail.selRange)},charLimit:qt=>{var se;const{charLimit:Kt}=qt.detail,{target:Jt}=qt;if(Kt===0){Jt.removeAttribute("maxLength");return}Jt.setAttribute("maxLength",Kt);let ne=Pt.userValue;!ne||ne.length<=Kt||(ne=ne.slice(0,Kt),Jt.value=Pt.userValue=ne,N.setValue(s,{value:ne}),(se=this.linkService.eventBus)==null||se.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:ne,willCommit:!0,commitKey:1,selStart:Jt.selectionStart,selEnd:Jt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ht,Ft)}),S.addEventListener("keydown",Ft=>{var Kt;Pt.commitKey=1;let Ht=-1;if(Ft.key==="Escape"?Ht=0:Ft.key==="Enter"&&!this.data.multiLine?Ht=2:Ft.key==="Tab"&&(Pt.commitKey=3),Ht===-1)return;const{value:qt}=Ft.target;Pt.lastCommittedValue!==qt&&(Pt.lastCommittedValue=qt,Pt.userValue=qt,(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:qt,willCommit:!0,commitKey:Ht,selStart:Ft.target.selectionStart,selEnd:Ft.target.selectionEnd}}))});const kt=Vt;Vt=null,S.addEventListener("blur",Ft=>{var qt;if(!Pt.focused||!Ft.relatedTarget)return;Pt.focused=!1;const{value:Ht}=Ft.target;Pt.userValue=Ht,Pt.lastCommittedValue!==Ht&&((qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:Ht,willCommit:!0,commitKey:Pt.commitKey,selStart:Ft.target.selectionStart,selEnd:Ft.target.selectionEnd}})),kt(Ft)}),(V=this.data.actions)!=null&&V.Keystroke&&S.addEventListener("beforeinput",Ft=>{var oe;Pt.lastCommittedValue=null;const{data:Ht,target:qt}=Ft,{value:Kt,selectionStart:Jt,selectionEnd:ne}=qt;let se=Jt,ie=ne;switch(Ft.inputType){case"deleteWordBackward":{const le=Kt.substring(0,Jt).match(/\w*[^\w]*$/);le&&(se-=le[0].length);break}case"deleteWordForward":{const le=Kt.substring(Jt).match(/^[^\w]*\w*/);le&&(ie+=le[0].length);break}case"deleteContentBackward":Jt===ne&&(se-=1);break;case"deleteContentForward":Jt===ne&&(ie+=1);break}Ft.preventDefault(),(oe=this.linkService.eventBus)==null||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:Kt,change:Ht||"",willCommit:!1,selStart:se,selEnd:ie}})}),this._setEventListeners(S,Pt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ft=>Ft.target.value)}if(Vt&&S.addEventListener("blur",Vt),this.data.comb){const Ft=(this.data.rect[2]-this.data.rect[0])/bt;S.classList.add("comb"),S.style.letterSpacing=`calc(${Ft}px * var(--scale-factor) - 1ch)`}}else S=document.createElement("div"),S.textContent=this.data.fieldValue,S.style.verticalAlign="middle",S.style.display="table-cell";return this._setTextStyle(S),this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.append(S),this.container}}class x extends y{constructor(N){super(N,{isRenderable:!!N.data.hasOwnCanvas})}}class u extends y{constructor(N){super(N,{isRenderable:N.renderForms})}render(){const N=this.annotationStorage,s=this.data,S=s.id;let B=N.getValue(S,{value:s.exportValue===s.fieldValue}).value;typeof B=="string"&&(B=B!=="Off",N.setValue(S,{value:B})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const V=document.createElement("input");return I.add(V),V.setAttribute("data-element-id",S),V.disabled=s.readOnly,this._setRequired(V,this.data.required),V.type="checkbox",V.name=s.fieldName,B&&V.setAttribute("checked",!0),V.setAttribute("exportValue",s.exportValue),V.tabIndex=R,V.addEventListener("change",Q=>{const{name:ct,checked:bt}=Q.target;for(const jt of this._getElementsByName(ct,S)){const Pt=bt&&jt.exportValue===s.exportValue;jt.domElement&&(jt.domElement.checked=Pt),N.setValue(jt.id,{value:Pt})}N.setValue(S,{value:bt})}),V.addEventListener("resetform",Q=>{const ct=s.defaultFieldValue||"Off";Q.target.checked=ct===s.exportValue}),this.enableScripting&&this.hasJSActions&&(V.addEventListener("updatefromsandbox",Q=>{const ct={value(bt){bt.target.checked=bt.detail.value!=="Off",N.setValue(S,{value:bt.target.checked})}};this._dispatchEventFromSandbox(ct,Q)}),this._setEventListeners(V,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.checked)),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class a extends y{constructor(N){super(N,{isRenderable:N.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const N=this.annotationStorage,s=this.data,S=s.id;let B=N.getValue(S,{value:s.fieldValue===s.buttonValue}).value;typeof B=="string"&&(B=B!==s.buttonValue,N.setValue(S,{value:B}));const V=document.createElement("input");if(I.add(V),V.setAttribute("data-element-id",S),V.disabled=s.readOnly,this._setRequired(V,this.data.required),V.type="radio",V.name=s.fieldName,B&&V.setAttribute("checked",!0),V.tabIndex=R,V.addEventListener("change",Q=>{const{name:ct,checked:bt}=Q.target;for(const jt of this._getElementsByName(ct,S))N.setValue(jt.id,{value:!1});N.setValue(S,{value:bt})}),V.addEventListener("resetform",Q=>{const ct=s.defaultFieldValue;Q.target.checked=ct!=null&&ct===s.buttonValue}),this.enableScripting&&this.hasJSActions){const Q=s.buttonValue;V.addEventListener("updatefromsandbox",ct=>{const bt={value:jt=>{const Pt=Q===jt.detail.value;for(const Vt of this._getElementsByName(jt.target.name)){const kt=Pt&&Vt.id===S;Vt.domElement&&(Vt.domElement.checked=kt),N.setValue(Vt.id,{value:kt})}}};this._dispatchEventFromSandbox(bt,ct)}),this._setEventListeners(V,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ct=>ct.target.checked)}return this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class h extends A{constructor(N){super(N,{ignoreBorder:N.data.hasAppearance})}render(){const N=super.render();N.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(N.title=this.data.alternativeText);const s=N.lastChild;return this.enableScripting&&this.hasJSActions&&s&&(this._setDefaultPropertiesFromJS(s),s.addEventListener("updatefromsandbox",S=>{this._dispatchEventFromSandbox({},S)})),N}}class M extends y{constructor(N){super(N,{isRenderable:N.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const N=this.annotationStorage,s=this.data.id,S=N.getValue(s,{value:this.data.fieldValue}),B=document.createElement("select");I.add(B),B.setAttribute("data-element-id",s),B.disabled=this.data.readOnly,this._setRequired(B,this.data.required),B.name=this.data.fieldName,B.tabIndex=R;let V=this.data.combo&&this.data.options.length>0;this.data.combo||(B.size=this.data.options.length,this.data.multiSelect&&(B.multiple=!0)),B.addEventListener("resetform",Pt=>{const Vt=this.data.defaultFieldValue;for(const kt of B.options)kt.selected=kt.value===Vt});for(const Pt of this.data.options){const Vt=document.createElement("option");Vt.textContent=Pt.displayValue,Vt.value=Pt.exportValue,S.value.includes(Pt.exportValue)&&(Vt.setAttribute("selected",!0),V=!1),B.append(Vt)}let Q=null;if(V){const Pt=document.createElement("option");Pt.value=" ",Pt.setAttribute("hidden",!0),Pt.setAttribute("selected",!0),B.prepend(Pt),Q=()=>{Pt.remove(),B.removeEventListener("input",Q),Q=null},B.addEventListener("input",Q)}const ct=Pt=>{const Vt=Pt?"value":"textContent",{options:kt,multiple:Ft}=B;return Ft?Array.prototype.filter.call(kt,Ht=>Ht.selected).map(Ht=>Ht[Vt]):kt.selectedIndex===-1?null:kt[kt.selectedIndex][Vt]};let bt=ct(!1);const jt=Pt=>{const Vt=Pt.target.options;return Array.prototype.map.call(Vt,kt=>({displayValue:kt.textContent,exportValue:kt.value}))};return this.enableScripting&&this.hasJSActions?(B.addEventListener("updatefromsandbox",Pt=>{const Vt={value(kt){Q==null||Q();const Ft=kt.detail.value,Ht=new Set(Array.isArray(Ft)?Ft:[Ft]);for(const qt of B.options)qt.selected=Ht.has(qt.value);N.setValue(s,{value:ct(!0)}),bt=ct(!1)},multipleSelection(kt){B.multiple=!0},remove(kt){const Ft=B.options,Ht=kt.detail.remove;Ft[Ht].selected=!1,B.remove(Ht),Ft.length>0&&Array.prototype.findIndex.call(Ft,Kt=>Kt.selected)===-1&&(Ft[0].selected=!0),N.setValue(s,{value:ct(!0),items:jt(kt)}),bt=ct(!1)},clear(kt){for(;B.length!==0;)B.remove(0);N.setValue(s,{value:null,items:[]}),bt=ct(!1)},insert(kt){const{index:Ft,displayValue:Ht,exportValue:qt}=kt.detail.insert,Kt=B.children[Ft],Jt=document.createElement("option");Jt.textContent=Ht,Jt.value=qt,Kt?Kt.before(Jt):B.append(Jt),N.setValue(s,{value:ct(!0),items:jt(kt)}),bt=ct(!1)},items(kt){const{items:Ft}=kt.detail;for(;B.length!==0;)B.remove(0);for(const Ht of Ft){const{displayValue:qt,exportValue:Kt}=Ht,Jt=document.createElement("option");Jt.textContent=qt,Jt.value=Kt,B.append(Jt)}B.options.length>0&&(B.options[0].selected=!0),N.setValue(s,{value:ct(!0),items:jt(kt)}),bt=ct(!1)},indices(kt){const Ft=new Set(kt.detail.indices);for(const Ht of kt.target.options)Ht.selected=Ft.has(Ht.index);N.setValue(s,{value:ct(!0)}),bt=ct(!1)},editable(kt){kt.target.disabled=!kt.detail.editable}};this._dispatchEventFromSandbox(Vt,Pt)}),B.addEventListener("input",Pt=>{var kt;const Vt=ct(!0);N.setValue(s,{value:Vt}),Pt.preventDefault(),(kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:bt,changeEx:Vt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(B,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Pt=>Pt.target.value)):B.addEventListener("input",function(Pt){N.setValue(s,{value:ct(!0)})}),this.data.combo&&this._setTextStyle(B),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class E extends _{constructor(N){const{data:s,elements:S}=N;super(N,{isRenderable:_._hasPopupData(s)}),this.elements=S}render(){this.container.classList.add("popupAnnotation");const N=new c({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const S of this.elements)S.popup=N,s.push(S.data.id),S.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(S=>`${i.AnnotationPrefix}${S}`).join(",")),this.container}}class c{constructor({container:N,color:s,elements:S,titleObj:B,modificationDate:V,contentsObj:Q,richText:ct,parent:bt,rect:jt,parentRect:Pt,open:Vt}){U(this,Ut);U(this,Wt);U(this,zt);U(this,Xt);U(this,G,null);U(this,it,Y(this,Ut,Ls).bind(this));U(this,J,Y(this,Xt,os).bind(this));U(this,lt,Y(this,zt,as).bind(this));U(this,dt,Y(this,Wt,je).bind(this));U(this,mt,null);U(this,ut,null);U(this,Ct,null);U(this,Dt,null);U(this,At,null);U(this,Mt,null);U(this,xt,!1);U(this,nt,null);U(this,tt,null);U(this,ft,null);U(this,Rt,null);U(this,wt,!1);var Ft;rt(this,ut,N),rt(this,Rt,B),rt(this,Ct,Q),rt(this,ft,ct),rt(this,At,bt),rt(this,mt,s),rt(this,tt,jt),rt(this,Mt,Pt),rt(this,Dt,S);const kt=f.PDFDateString.toDateObject(V);kt&&rt(this,G,bt.l10n.get("annotation_date_string",{date:kt.toLocaleDateString(),time:kt.toLocaleTimeString()})),this.trigger=S.flatMap(Ht=>Ht.getElementsToTriggerPopup());for(const Ht of this.trigger)Ht.addEventListener("click",t(this,dt)),Ht.addEventListener("mouseenter",t(this,lt)),Ht.addEventListener("mouseleave",t(this,J)),Ht.classList.add("popupTriggerArea");for(const Ht of S)(Ft=Ht.container)==null||Ft.addEventListener("keydown",t(this,it));t(this,ut).hidden=!0,Vt&&Y(this,Wt,je).call(this)}render(){if(t(this,nt))return;const{page:{view:N},viewport:{rawDims:{pageWidth:s,pageHeight:S,pageX:B,pageY:V}}}=t(this,At),Q=rt(this,nt,document.createElement("div"));if(Q.className="popup",t(this,mt)){const se=Q.style.outlineColor=i.Util.makeHexColor(...t(this,mt));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Q.style.backgroundColor=`color-mix(in srgb, ${se} 30%, white)`:Q.style.backgroundColor=i.Util.makeHexColor(...t(this,mt).map(oe=>Math.floor(.7*(255-oe)+oe)))}const ct=document.createElement("span");ct.className="header";const bt=document.createElement("h1");if(ct.append(bt),{dir:bt.dir,str:bt.textContent}=t(this,Rt),Q.append(ct),t(this,G)){const se=document.createElement("span");se.classList.add("popupDate"),t(this,G).then(ie=>{se.textContent=ie}),ct.append(se)}const jt=t(this,Ct),Pt=t(this,ft);if(Pt!=null&&Pt.str&&(!(jt!=null&&jt.str)||jt.str===Pt.str))b.XfaLayer.render({xfaHtml:Pt.html,intent:"richText",div:Q}),Q.lastChild.classList.add("richText","popupContent");else{const se=this._formatContents(jt);Q.append(se)}let Vt=!!t(this,Mt),kt=Vt?t(this,Mt):t(this,tt);for(const se of t(this,Dt))if(!kt||i.Util.intersect(se.data.rect,kt)!==null){kt=se.data.rect,Vt=!0;break}const Ft=i.Util.normalizeRect([kt[0],N[3]-kt[1]+N[1],kt[2],N[3]-kt[3]+N[1]]),Ht=5,qt=Vt?kt[2]-kt[0]+Ht:0,Kt=Ft[0]+qt,Jt=Ft[1],{style:ne}=t(this,ut);ne.left=`${100*(Kt-B)/s}%`,ne.top=`${100*(Jt-V)/S}%`,t(this,ut).append(Q)}_formatContents({str:N,dir:s}){const S=document.createElement("p");S.classList.add("popupContent"),S.dir=s;const B=N.split(/(?:\r\n?|\n)/);for(let V=0,Q=B.length;V<Q;++V){const ct=B[V];S.append(document.createTextNode(ct)),V<Q-1&&S.append(document.createElement("br"))}return S}forceHide(){rt(this,wt,this.isVisible),t(this,wt)&&(t(this,ut).hidden=!0)}maybeShow(){t(this,wt)&&(rt(this,wt,!1),t(this,ut).hidden=!1)}get isVisible(){return t(this,ut).hidden===!1}}G=new WeakMap,it=new WeakMap,J=new WeakMap,lt=new WeakMap,dt=new WeakMap,mt=new WeakMap,ut=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,At=new WeakMap,Mt=new WeakMap,xt=new WeakMap,nt=new WeakMap,tt=new WeakMap,ft=new WeakMap,Rt=new WeakMap,wt=new WeakMap,Ut=new WeakSet,Ls=function(N){N.altKey||N.shiftKey||N.ctrlKey||N.metaKey||(N.key==="Enter"||N.key==="Escape"&&t(this,xt))&&Y(this,Wt,je).call(this)},Wt=new WeakSet,je=function(){rt(this,xt,!t(this,xt)),t(this,xt)?(Y(this,zt,as).call(this),t(this,ut).addEventListener("click",t(this,dt)),t(this,ut).addEventListener("keydown",t(this,it))):(Y(this,Xt,os).call(this),t(this,ut).removeEventListener("click",t(this,dt)),t(this,ut).removeEventListener("keydown",t(this,it)))},zt=new WeakSet,as=function(){t(this,nt)||this.render(),this.isVisible?t(this,xt)&&t(this,ut).classList.add("focused"):(t(this,ut).hidden=!1,t(this,ut).style.zIndex=parseInt(t(this,ut).style.zIndex)+1e3)},Xt=new WeakSet,os=function(){t(this,ut).classList.remove("focused"),!(t(this,xt)||!this.isVisible)&&(t(this,ut).hidden=!0,t(this,ut).style.zIndex=parseInt(t(this,ut).style.zIndex)-1e3)};class F extends _{constructor(N){super(N,{isRenderable:!0,ignoreBorder:!0}),this.textContent=N.data.textContent,this.textPosition=N.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const N=document.createElement("div");N.classList.add("annotationTextContent"),N.setAttribute("role","comment");for(const s of this.textContent){const S=document.createElement("span");S.textContent=s,N.append(S)}this.container.append(N)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=F;class g extends _{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});U(this,et,null)}render(){this.container.classList.add("lineAnnotation");const s=this.data,{width:S,height:B}=P(s.rect),V=this.svgFactory.create(S,B,!0),Q=rt(this,et,this.svgFactory.createElement("svg:line"));return Q.setAttribute("x1",s.rect[2]-s.lineCoordinates[0]),Q.setAttribute("y1",s.rect[3]-s.lineCoordinates[1]),Q.setAttribute("x2",s.rect[2]-s.lineCoordinates[2]),Q.setAttribute("y2",s.rect[3]-s.lineCoordinates[3]),Q.setAttribute("stroke-width",s.borderStyle.width||1),Q.setAttribute("stroke","transparent"),Q.setAttribute("fill","transparent"),V.append(Q),this.container.append(V),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return t(this,et)}addHighlightArea(){this.container.classList.add("highlightArea")}}et=new WeakMap;class H extends _{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});U(this,K,null)}render(){this.container.classList.add("squareAnnotation");const s=this.data,{width:S,height:B}=P(s.rect),V=this.svgFactory.create(S,B,!0),Q=s.borderStyle.width,ct=rt(this,K,this.svgFactory.createElement("svg:rect"));return ct.setAttribute("x",Q/2),ct.setAttribute("y",Q/2),ct.setAttribute("width",S-Q),ct.setAttribute("height",B-Q),ct.setAttribute("stroke-width",Q||1),ct.setAttribute("stroke","transparent"),ct.setAttribute("fill","transparent"),V.append(ct),this.container.append(V),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return t(this,K)}addHighlightArea(){this.container.classList.add("highlightArea")}}K=new WeakMap;class z extends _{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});U(this,Et,null)}render(){this.container.classList.add("circleAnnotation");const s=this.data,{width:S,height:B}=P(s.rect),V=this.svgFactory.create(S,B,!0),Q=s.borderStyle.width,ct=rt(this,Et,this.svgFactory.createElement("svg:ellipse"));return ct.setAttribute("cx",S/2),ct.setAttribute("cy",B/2),ct.setAttribute("rx",S/2-Q/2),ct.setAttribute("ry",B/2-Q/2),ct.setAttribute("stroke-width",Q||1),ct.setAttribute("stroke","transparent"),ct.setAttribute("fill","transparent"),V.append(ct),this.container.append(V),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return t(this,Et)}addHighlightArea(){this.container.classList.add("highlightArea")}}Et=new WeakMap;class T extends _{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});U(this,vt,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const s=this.data,{width:S,height:B}=P(s.rect),V=this.svgFactory.create(S,B,!0);let Q=[];for(const bt of s.vertices){const jt=bt.x-s.rect[0],Pt=s.rect[3]-bt.y;Q.push(jt+","+Pt)}Q=Q.join(" ");const ct=rt(this,vt,this.svgFactory.createElement(this.svgElementName));return ct.setAttribute("points",Q),ct.setAttribute("stroke-width",s.borderStyle.width||1),ct.setAttribute("stroke","transparent"),ct.setAttribute("fill","transparent"),V.append(ct),this.container.append(V),!s.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return t(this,vt)}addHighlightArea(){this.container.classList.add("highlightArea")}}vt=new WeakMap;class q extends T{constructor(N){super(N),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class st extends _{constructor(N){super(N,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class at extends _{constructor(s){super(s,{isRenderable:!0,ignoreBorder:!0});U(this,te,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const s=this.data,{width:S,height:B}=P(s.rect),V=this.svgFactory.create(S,B,!0);for(const Q of s.inkLists){let ct=[];for(const jt of Q){const Pt=jt.x-s.rect[0],Vt=s.rect[3]-jt.y;ct.push(`${Pt},${Vt}`)}ct=ct.join(" ");const bt=this.svgFactory.createElement(this.svgElementName);t(this,te).push(bt),bt.setAttribute("points",ct),bt.setAttribute("stroke-width",s.borderStyle.width||1),bt.setAttribute("stroke","transparent"),bt.setAttribute("fill","transparent"),!s.popupRef&&this.hasPopupData&&this._createPopup(),V.append(bt)}return this.container.append(V),this.container}getElementsToTriggerPopup(){return t(this,te)}addHighlightArea(){this.container.classList.add("highlightArea")}}te=new WeakMap,e.InkAnnotationElement=at;class $ extends _{constructor(N){super(N,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ht extends _{constructor(N){super(N,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gt extends _{constructor(N){super(N,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class _t extends _{constructor(N){super(N,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class X extends _{constructor(N){super(N,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=X;class v extends _{constructor(s){var V;super(s,{isRenderable:!0});U(this,Z);U(this,Zt,null);const{filename:S,content:B}=this.data.file;this.filename=(0,f.getFilenameFromUrl)(S,!0),this.content=B,(V=this.linkService.eventBus)==null||V.dispatch("fileattachmentannotation",{source:this,filename:S,content:B})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:s,data:S}=this;let B;S.hasAppearance||S.fillAlpha===0?B=document.createElement("div"):(B=document.createElement("img"),B.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(S.name)?"paperclip":"pushpin"}.svg`,S.fillAlpha&&S.fillAlpha<1&&(B.style=`filter: opacity(${Math.round(S.fillAlpha*100)}%);`)),B.addEventListener("dblclick",Y(this,Z,ls).bind(this)),rt(this,Zt,B);const{isMac:V}=i.FeatureTest.platform;return s.addEventListener("keydown",Q=>{Q.key==="Enter"&&(V?Q.metaKey:Q.ctrlKey)&&Y(this,Z,ls).call(this)}),!S.popupRef&&this.hasPopupData?this._createPopup():B.classList.add("popupTriggerArea"),s.append(B),s}getElementsToTriggerPopup(){return t(this,Zt)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zt=new WeakMap,Z=new WeakSet,ls=function(){var s;(s=this.downloadManager)==null||s.openOrDownloadData(this.container,this.content,this.filename)};class n{constructor({div:N,accessibilityManager:s,annotationCanvasMap:S,l10n:B,page:V,viewport:Q}){U(this,Nt);U(this,yt);U(this,It,null);U(this,Tt,null);U(this,Ot,new Map);this.div=N,rt(this,It,s),rt(this,Tt,S),this.l10n=B,this.page=V,this.viewport=Q,this.zIndex=0,this.l10n||(this.l10n=ot.NullL10n)}async render(N){const{annotations:s}=N,S=this.div;(0,f.setLayerDimensions)(S,this.viewport);const B=new Map,V={data:null,layer:S,linkService:N.linkService,downloadManager:N.downloadManager,imageResourcesPath:N.imageResourcesPath||"",renderForms:N.renderForms!==!1,svgFactory:new f.DOMSVGFactory,annotationStorage:N.annotationStorage||new W.AnnotationStorage,enableScripting:N.enableScripting===!0,hasJSActions:N.hasJSActions,fieldObjects:N.fieldObjects,parent:this,elements:null};for(const Q of s){if(Q.noHTML)continue;const ct=Q.annotationType===i.AnnotationType.POPUP;if(ct){const Pt=B.get(Q.id);if(!Pt)continue;V.elements=Pt}else{const{width:Pt,height:Vt}=P(Q.rect);if(Pt<=0||Vt<=0)continue}V.data=Q;const bt=w.create(V);if(!bt.isRenderable)continue;if(!ct&&Q.popupRef){const Pt=B.get(Q.popupRef);Pt?Pt.push(bt):B.set(Q.popupRef,[bt])}bt.annotationEditorType>0&&t(this,Ot).set(bt.data.id,bt);const jt=bt.render();Q.hidden&&(jt.style.visibility="hidden"),Y(this,Nt,Is).call(this,jt,Q.id)}Y(this,yt,cs).call(this),await this.l10n.translate(S)}update({viewport:N}){const s=this.div;this.viewport=N,(0,f.setLayerDimensions)(s,{rotation:N.rotation}),Y(this,yt,cs).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(t(this,Ot).values())}getEditableAnnotation(N){return t(this,Ot).get(N)}}It=new WeakMap,Tt=new WeakMap,Ot=new WeakMap,Nt=new WeakSet,Is=function(N,s){var B;const S=N.firstChild||N;S.id=`${i.AnnotationPrefix}${s}`,this.div.append(N),(B=t(this,It))==null||B.moveElementInDOM(this.div,N,S,!1)},yt=new WeakSet,cs=function(){if(!t(this,Tt))return;const N=this.div;for(const[s,S]of t(this,Tt)){const B=N.querySelector(`[data-annotation-id="${s}"]`);if(!B)continue;const{firstChild:V}=B;V?V.nodeName==="CANVAS"?V.replaceWith(S):V.before(S):B.append(S)}t(this,Tt).clear()},e.AnnotationLayer=n},(k,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function L(W){return Math.floor(Math.max(0,Math.min(1,W))*255).toString(16).padStart(2,"0")}function i(W){return Math.max(0,Math.min(255,255*W))}class f{static CMYK_G([O,ot,b,R]){return["G",1-Math.min(1,.3*O+.59*b+.11*ot+R)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_rgb([O]){return O=i(O),[O,O,O]}static G_HTML([O]){const ot=L(O);return`#${ot}${ot}${ot}`}static RGB_G([O,ot,b]){return["G",.3*O+.59*ot+.11*b]}static RGB_rgb(O){return O.map(i)}static RGB_HTML(O){return`#${O.map(L).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([O,ot,b,R]){return["RGB",1-Math.min(1,O+R),1-Math.min(1,b+R),1-Math.min(1,ot+R)]}static CMYK_rgb([O,ot,b,R]){return[i(1-Math.min(1,O+R)),i(1-Math.min(1,b+R)),i(1-Math.min(1,ot+R))]}static CMYK_HTML(O){const ot=this.CMYK_RGB(O).slice(1);return this.RGB_HTML(ot)}static RGB_CMYK([O,ot,b]){const R=1-O,l=1-ot,I=1-b,P=Math.min(R,l,I);return["CMYK",R,l,I,P]}}e.ColorConverters=f},(k,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=i;const L={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};L.print_progress_percent="{{progress}}%";function i(O,ot){switch(O){case"find_match_count":O=`find_match_count[${ot.total===1?"one":"other"}]`;break;case"find_match_count_limit":O=`find_match_count_limit[${ot.limit===1?"one":"other"}]`;break}return L[O]||""}function f(O,ot){return ot?O.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(b,R)=>R in ot?ot[R]:"{{"+R+"}}"):O}const W={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(O,ot=null,b=i(O,ot)){return f(b,ot)},async translate(O){}};e.NullL10n=W},(k,e,L)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var i=L(25);class f{static setupStorage(O,ot,b,R,l){const I=R.getValue(ot,{value:null});switch(b.name){case"textarea":if(I.value!==null&&(O.textContent=I.value),l==="print")break;O.addEventListener("input",P=>{R.setValue(ot,{value:P.target.value})});break;case"input":if(b.attributes.type==="radio"||b.attributes.type==="checkbox"){if(I.value===b.attributes.xfaOn?O.setAttribute("checked",!0):I.value===b.attributes.xfaOff&&O.removeAttribute("checked"),l==="print")break;O.addEventListener("change",P=>{R.setValue(ot,{value:P.target.checked?P.target.getAttribute("xfaOn"):P.target.getAttribute("xfaOff")})})}else{if(I.value!==null&&O.setAttribute("value",I.value),l==="print")break;O.addEventListener("input",P=>{R.setValue(ot,{value:P.target.value})})}break;case"select":if(I.value!==null){O.setAttribute("value",I.value);for(const P of b.children)P.attributes.value===I.value?P.attributes.selected=!0:P.attributes.hasOwnProperty("selected")&&delete P.attributes.selected}O.addEventListener("input",P=>{const w=P.target.options,_=w.selectedIndex===-1?"":w[w.selectedIndex].value;R.setValue(ot,{value:_})});break}}static setAttributes({html:O,element:ot,storage:b=null,intent:R,linkService:l}){const{attributes:I}=ot,P=O instanceof HTMLAnchorElement;I.type==="radio"&&(I.name=`${I.name}-${R}`);for(const[w,_]of Object.entries(I))if(_!=null)switch(w){case"class":_.length&&O.setAttribute(w,_.join(" "));break;case"dataId":break;case"id":O.setAttribute("data-element-id",_);break;case"style":Object.assign(O.style,_);break;case"textContent":O.textContent=_;break;default:(!P||w!=="href"&&w!=="newWindow")&&O.setAttribute(w,_)}P&&l.addLinkAttributes(O,I.href,I.newWindow),b&&I.dataId&&this.setupStorage(O,I.dataId,ot,b)}static render(O){var A;const ot=O.annotationStorage,b=O.linkService,R=O.xfaHtml,l=O.intent||"display",I=document.createElement(R.name);R.attributes&&this.setAttributes({html:I,element:R,intent:l,linkService:b});const P=[[R,-1,I]],w=O.div;if(w.append(I),O.viewport){const m=`matrix(${O.viewport.transform.join(",")})`;w.style.transform=m}l!=="richText"&&w.setAttribute("class","xfaLayer xfaFont");const _=[];for(;P.length>0;){const[m,y,C]=P.at(-1);if(y+1===m.children.length){P.pop();continue}const x=m.children[++P.at(-1)[1]];if(x===null)continue;const{name:u}=x;if(u==="#text"){const h=document.createTextNode(x.value);_.push(h),C.append(h);continue}const a=(A=x==null?void 0:x.attributes)!=null&&A.xmlns?document.createElementNS(x.attributes.xmlns,u):document.createElement(u);if(C.append(a),x.attributes&&this.setAttributes({html:a,element:x,storage:ot,intent:l,linkService:b}),x.children&&x.children.length>0)P.push([x,-1,a]);else if(x.value){const h=document.createTextNode(x.value);i.XfaText.shouldBuildText(u)&&_.push(h),a.append(h)}}for(const m of w.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:_}}static update(O){const ot=`matrix(${O.viewport.transform.join(",")})`;O.div.style.transform=ot,O.div.hidden=!1}}e.XfaLayer=f},(k,e,L)=>{var R,l,I,P,w,_,A,m,y,C,x,u,a,h,M,Os,c,Ns,g,Bs,z,Us,q,hs,at,Ws,ht,ds,_t,Hs,v,Gs,o,$s,d,zs,j,Vs,G,ae,J,us,dt,ke,ut,Fe,Dt,pe,Mt,ps,nt,Me,ft,qs,wt,fs,$t,Xs,Gt,Ys,Bt,ms,pt,De,K,fe;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var i=L(1),f=L(4),W=L(29),O=L(6),ot=L(5);const vt=class vt extends f.AnnotationEditor{constructor(Z){super({...Z,name:"inkEditor"});U(this,M);U(this,c);U(this,g);U(this,z);U(this,q);U(this,at);U(this,ht);U(this,_t);U(this,v);U(this,o);U(this,d);U(this,j);U(this,G);U(this,J);U(this,dt);U(this,ut);U(this,Dt);U(this,Mt);U(this,nt);U(this,Gt);U(this,Bt);U(this,pt);U(this,K);U(this,R,0);U(this,l,0);U(this,I,this.canvasPointermove.bind(this));U(this,P,this.canvasPointerleave.bind(this));U(this,w,this.canvasPointerup.bind(this));U(this,_,this.canvasPointerdown.bind(this));U(this,A,new Path2D);U(this,m,!1);U(this,y,!1);U(this,C,!1);U(this,x,null);U(this,u,0);U(this,a,0);U(this,h,null);this.color=Z.color||null,this.thickness=Z.thickness||null,this.opacity=Z.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Z){f.AnnotationEditor.initialize(Z,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Z,St){switch(Z){case i.AnnotationEditorParamsType.INK_THICKNESS:vt._defaultThickness=St;break;case i.AnnotationEditorParamsType.INK_COLOR:vt._defaultColor=St;break;case i.AnnotationEditorParamsType.INK_OPACITY:vt._defaultOpacity=St/100;break}}updateParams(Z,St){switch(Z){case i.AnnotationEditorParamsType.INK_THICKNESS:Y(this,M,Os).call(this,St);break;case i.AnnotationEditorParamsType.INK_COLOR:Y(this,c,Ns).call(this,St);break;case i.AnnotationEditorParamsType.INK_OPACITY:Y(this,g,Bs).call(this,St);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,vt._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,vt._defaultColor||f.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(vt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||vt._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||vt._defaultColor||f.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??vt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Y(this,dt,ke).call(this),Y(this,ut,Fe).call(this)),this.isAttachedToDOM||(this.parent.add(this),Y(this,Dt,pe).call(this)),Y(this,K,fe).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,t(this,x).disconnect(),rt(this,x,null),super.remove())}setParent(Z){!this.parent&&Z?this._uiManager.removeShouldRescale(this):this.parent&&Z===null&&this._uiManager.addShouldRescale(this),super.setParent(Z)}onScaleChanging(){const[Z,St]=this.parentDimensions,It=this.width*Z,Tt=this.height*St;this.setDimensions(It,Tt)}enableEditMode(){t(this,m)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",t(this,_)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",t(this,_)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){t(this,m)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),rt(this,m,!0),this.div.classList.add("disabled"),Y(this,K,fe).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Z){this._focusEventsAllowed&&(super.focusin(Z),this.enableEditMode())}canvasPointerdown(Z){Z.button!==0||!this.isInEditMode()||t(this,m)||(this.setInForeground(),Z.preventDefault(),Z.type!=="mouse"&&this.div.focus(),Y(this,at,Ws).call(this,Z.offsetX,Z.offsetY))}canvasPointermove(Z){Z.preventDefault(),Y(this,ht,ds).call(this,Z.offsetX,Z.offsetY)}canvasPointerup(Z){Z.preventDefault(),Y(this,J,us).call(this,Z)}canvasPointerleave(Z){Y(this,J,us).call(this,Z)}get isResizable(){return!this.isEmpty()&&t(this,m)}render(){if(this.div)return this.div;let Z,St;this.width&&(Z=this.x,St=this.y),super.render(),f.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Qt=>{var yt;return(yt=this.div)==null?void 0:yt.setAttribute("aria-label",Qt)});const[It,Tt,Ot,Nt]=Y(this,z,Us).call(this);if(this.setAt(It,Tt,0,0),this.setDims(Ot,Nt),Y(this,dt,ke).call(this),this.width){const[Qt,yt]=this.parentDimensions;this.setAspectRatio(this.width*Qt,this.height*yt),this.setAt(Z*Qt,St*yt,this.width*Qt,this.height*yt),rt(this,C,!0),Y(this,Dt,pe).call(this),this.setDims(this.width*Qt,this.height*yt),Y(this,G,ae).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Y(this,ut,Fe).call(this),this.div}setDimensions(Z,St){const It=Math.round(Z),Tt=Math.round(St);if(t(this,u)===It&&t(this,a)===Tt)return;rt(this,u,It),rt(this,a,Tt),this.canvas.style.visibility="hidden";const[Ot,Nt]=this.parentDimensions;this.width=Z/Ot,this.height=St/Nt,this.fixAndSetPosition(),t(this,m)&&Y(this,Mt,ps).call(this,Z,St),Y(this,Dt,pe).call(this),Y(this,G,ae).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Z,St,It){var V,Q,ct;if(Z instanceof W.InkAnnotationElement)return null;const Tt=super.deserialize(Z,St,It);Tt.thickness=Z.thickness,Tt.color=i.Util.makeHexColor(...Z.color),Tt.opacity=Z.opacity;const[Ot,Nt]=Tt.pageDimensions,Qt=Tt.width*Ot,yt=Tt.height*Nt,Yt=Tt.parentScale,Lt=Z.thickness/2;rt(Tt,m,!0),rt(Tt,u,Math.round(Qt)),rt(Tt,a,Math.round(yt));const{paths:N,rect:s,rotation:S}=Z;for(let{bezier:bt}of N){bt=Y(V=vt,$t,Xs).call(V,bt,s,S);const jt=[];Tt.paths.push(jt);let Pt=Yt*(bt[0]-Lt),Vt=Yt*(bt[1]-Lt);for(let Ft=2,Ht=bt.length;Ft<Ht;Ft+=6){const qt=Yt*(bt[Ft]-Lt),Kt=Yt*(bt[Ft+1]-Lt),Jt=Yt*(bt[Ft+2]-Lt),ne=Yt*(bt[Ft+3]-Lt),se=Yt*(bt[Ft+4]-Lt),ie=Yt*(bt[Ft+5]-Lt);jt.push([[Pt,Vt],[qt,Kt],[Jt,ne],[se,ie]]),Pt=se,Vt=ie}const kt=Y(this,ft,qs).call(this,jt);Tt.bezierPath2D.push(kt)}const B=Y(Q=Tt,Bt,ms).call(Q);return rt(Tt,l,Math.max(f.AnnotationEditor.MIN_SIZE,B[2]-B[0])),rt(Tt,R,Math.max(f.AnnotationEditor.MIN_SIZE,B[3]-B[1])),Y(ct=Tt,Mt,ps).call(ct,Qt,yt),Tt}serialize(){if(this.isEmpty())return null;const Z=this.getRect(0,0),St=f.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:St,thickness:this.thickness,opacity:this.opacity,paths:Y(this,Gt,Ys).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Z),pageIndex:this.pageIndex,rect:Z,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};R=new WeakMap,l=new WeakMap,I=new WeakMap,P=new WeakMap,w=new WeakMap,_=new WeakMap,A=new WeakMap,m=new WeakMap,y=new WeakMap,C=new WeakMap,x=new WeakMap,u=new WeakMap,a=new WeakMap,h=new WeakMap,M=new WeakSet,Os=function(Z){const St=this.thickness;this.addCommands({cmd:()=>{this.thickness=Z,Y(this,K,fe).call(this)},undo:()=>{this.thickness=St,Y(this,K,fe).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},c=new WeakSet,Ns=function(Z){const St=this.color;this.addCommands({cmd:()=>{this.color=Z,Y(this,G,ae).call(this)},undo:()=>{this.color=St,Y(this,G,ae).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},g=new WeakSet,Bs=function(Z){Z/=100;const St=this.opacity;this.addCommands({cmd:()=>{this.opacity=Z,Y(this,G,ae).call(this)},undo:()=>{this.opacity=St,Y(this,G,ae).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},z=new WeakSet,Us=function(){const{parentRotation:Z,parentDimensions:[St,It]}=this;switch(Z){case 90:return[0,It,It,St];case 180:return[St,It,St,It];case 270:return[St,0,It,St];default:return[0,0,St,It]}},q=new WeakSet,hs=function(){const{ctx:Z,color:St,opacity:It,thickness:Tt,parentScale:Ot,scaleFactor:Nt}=this;Z.lineWidth=Tt*Ot/Nt,Z.lineCap="round",Z.lineJoin="round",Z.miterLimit=10,Z.strokeStyle=`${St}${(0,ot.opacityToHex)(It)}`},at=new WeakSet,Ws=function(Z,St){this.canvas.addEventListener("contextmenu",O.noContextMenu),this.canvas.addEventListener("pointerleave",t(this,P)),this.canvas.addEventListener("pointermove",t(this,I)),this.canvas.addEventListener("pointerup",t(this,w)),this.canvas.removeEventListener("pointerdown",t(this,_)),this.isEditing=!0,t(this,C)||(rt(this,C,!0),Y(this,Dt,pe).call(this),this.thickness||(this.thickness=vt._defaultThickness),this.color||(this.color=vt._defaultColor||f.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=vt._defaultOpacity)),this.currentPath.push([Z,St]),rt(this,y,!1),Y(this,q,hs).call(this),rt(this,h,()=>{Y(this,o,$s).call(this),t(this,h)&&window.requestAnimationFrame(t(this,h))}),window.requestAnimationFrame(t(this,h))},ht=new WeakSet,ds=function(Z,St){const[It,Tt]=this.currentPath.at(-1);if(this.currentPath.length>1&&Z===It&&St===Tt)return;const Ot=this.currentPath;let Nt=t(this,A);if(Ot.push([Z,St]),rt(this,y,!0),Ot.length<=2){Nt.moveTo(...Ot[0]),Nt.lineTo(Z,St);return}Ot.length===3&&(rt(this,A,Nt=new Path2D),Nt.moveTo(...Ot[0])),Y(this,d,zs).call(this,Nt,...Ot.at(-3),...Ot.at(-2),Z,St)},_t=new WeakSet,Hs=function(){if(this.currentPath.length===0)return;const Z=this.currentPath.at(-1);t(this,A).lineTo(...Z)},v=new WeakSet,Gs=function(Z,St){rt(this,h,null),Z=Math.min(Math.max(Z,0),this.canvas.width),St=Math.min(Math.max(St,0),this.canvas.height),Y(this,ht,ds).call(this,Z,St),Y(this,_t,Hs).call(this);let It;if(this.currentPath.length!==1)It=Y(this,j,Vs).call(this);else{const yt=[Z,St];It=[[yt,yt.slice(),yt.slice(),yt]]}const Tt=t(this,A),Ot=this.currentPath;this.currentPath=[],rt(this,A,new Path2D);const Nt=()=>{this.allRawPaths.push(Ot),this.paths.push(It),this.bezierPath2D.push(Tt),this.rebuild()},Qt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Y(this,dt,ke).call(this),Y(this,ut,Fe).call(this)),Y(this,K,fe).call(this))};this.addCommands({cmd:Nt,undo:Qt,mustExec:!0})},o=new WeakSet,$s=function(){if(!t(this,y))return;rt(this,y,!1);const Z=Math.ceil(this.thickness*this.parentScale),St=this.currentPath.slice(-3),It=St.map(Nt=>Nt[0]),Tt=St.map(Nt=>Nt[1]);Math.min(...It)-Z,Math.max(...It)+Z,Math.min(...Tt)-Z,Math.max(...Tt)+Z;const{ctx:Ot}=this;Ot.save(),Ot.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Nt of this.bezierPath2D)Ot.stroke(Nt);Ot.stroke(t(this,A)),Ot.restore()},d=new WeakSet,zs=function(Z,St,It,Tt,Ot,Nt,Qt){const yt=(St+Tt)/2,Yt=(It+Ot)/2,Lt=(Tt+Nt)/2,N=(Ot+Qt)/2;Z.bezierCurveTo(yt+2*(Tt-yt)/3,Yt+2*(Ot-Yt)/3,Lt+2*(Tt-Lt)/3,N+2*(Ot-N)/3,Lt,N)},j=new WeakSet,Vs=function(){const Z=this.currentPath;if(Z.length<=2)return[[Z[0],Z[0],Z.at(-1),Z.at(-1)]];const St=[];let It,[Tt,Ot]=Z[0];for(It=1;It<Z.length-2;It++){const[s,S]=Z[It],[B,V]=Z[It+1],Q=(s+B)/2,ct=(S+V)/2,bt=[Tt+2*(s-Tt)/3,Ot+2*(S-Ot)/3],jt=[Q+2*(s-Q)/3,ct+2*(S-ct)/3];St.push([[Tt,Ot],bt,jt,[Q,ct]]),[Tt,Ot]=[Q,ct]}const[Nt,Qt]=Z[It],[yt,Yt]=Z[It+1],Lt=[Tt+2*(Nt-Tt)/3,Ot+2*(Qt-Ot)/3],N=[yt+2*(Nt-yt)/3,Yt+2*(Qt-Yt)/3];return St.push([[Tt,Ot],Lt,N,[yt,Yt]]),St},G=new WeakSet,ae=function(){if(this.isEmpty()){Y(this,nt,Me).call(this);return}Y(this,q,hs).call(this);const{canvas:Z,ctx:St}=this;St.setTransform(1,0,0,1,0,0),St.clearRect(0,0,Z.width,Z.height),Y(this,nt,Me).call(this);for(const It of this.bezierPath2D)St.stroke(It)},J=new WeakSet,us=function(Z){this.canvas.removeEventListener("pointerleave",t(this,P)),this.canvas.removeEventListener("pointermove",t(this,I)),this.canvas.removeEventListener("pointerup",t(this,w)),this.canvas.addEventListener("pointerdown",t(this,_)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",O.noContextMenu)},10),Y(this,v,Gs).call(this,Z.offsetX,Z.offsetY),this.addToAnnotationStorage(),this.setInBackground()},dt=new WeakSet,ke=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",f.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Z=>{var St;return(St=this.canvas)==null?void 0:St.setAttribute("aria-label",Z)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ut=new WeakSet,Fe=function(){rt(this,x,new ResizeObserver(Z=>{const St=Z[0].contentRect;St.width&&St.height&&this.setDimensions(St.width,St.height)})),t(this,x).observe(this.div)},Dt=new WeakSet,pe=function(){if(!t(this,C))return;const[Z,St]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Z),this.canvas.height=Math.ceil(this.height*St),Y(this,nt,Me).call(this)},Mt=new WeakSet,ps=function(Z,St){const It=Y(this,pt,De).call(this),Tt=(Z-It)/t(this,l),Ot=(St-It)/t(this,R);this.scaleFactor=Math.min(Tt,Ot)},nt=new WeakSet,Me=function(){const Z=Y(this,pt,De).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Z,this.translationY*this.scaleFactor+Z)},ft=new WeakSet,qs=function(Z){const St=new Path2D;for(let It=0,Tt=Z.length;It<Tt;It++){const[Ot,Nt,Qt,yt]=Z[It];It===0&&St.moveTo(...Ot),St.bezierCurveTo(Nt[0],Nt[1],Qt[0],Qt[1],yt[0],yt[1])}return St},wt=new WeakSet,fs=function(Z,St,It){const[Tt,Ot,Nt,Qt]=St;switch(It){case 0:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2)Z[yt]+=Tt,Z[yt+1]=Qt-Z[yt+1];break;case 90:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2){const Lt=Z[yt];Z[yt]=Z[yt+1]+Tt,Z[yt+1]=Lt+Ot}break;case 180:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2)Z[yt]=Nt-Z[yt],Z[yt+1]+=Ot;break;case 270:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2){const Lt=Z[yt];Z[yt]=Nt-Z[yt+1],Z[yt+1]=Qt-Lt}break;default:throw new Error("Invalid rotation")}return Z},$t=new WeakSet,Xs=function(Z,St,It){const[Tt,Ot,Nt,Qt]=St;switch(It){case 0:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2)Z[yt]-=Tt,Z[yt+1]=Qt-Z[yt+1];break;case 90:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2){const Lt=Z[yt];Z[yt]=Z[yt+1]-Ot,Z[yt+1]=Lt-Tt}break;case 180:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2)Z[yt]=Nt-Z[yt],Z[yt+1]-=Ot;break;case 270:for(let yt=0,Yt=Z.length;yt<Yt;yt+=2){const Lt=Z[yt];Z[yt]=Qt-Z[yt+1],Z[yt+1]=Nt-Lt}break;default:throw new Error("Invalid rotation")}return Z},Gt=new WeakSet,Ys=function(Z,St,It,Tt){var Yt,Lt;const Ot=[],Nt=this.thickness/2,Qt=Z*St+Nt,yt=Z*It+Nt;for(const N of this.paths){const s=[],S=[];for(let B=0,V=N.length;B<V;B++){const[Q,ct,bt,jt]=N[B],Pt=Z*Q[0]+Qt,Vt=Z*Q[1]+yt,kt=Z*ct[0]+Qt,Ft=Z*ct[1]+yt,Ht=Z*bt[0]+Qt,qt=Z*bt[1]+yt,Kt=Z*jt[0]+Qt,Jt=Z*jt[1]+yt;B===0&&(s.push(Pt,Vt),S.push(Pt,Vt)),s.push(kt,Ft,Ht,qt,Kt,Jt),S.push(kt,Ft),B===V-1&&S.push(Kt,Jt)}Ot.push({bezier:Y(Yt=vt,wt,fs).call(Yt,s,Tt,this.rotation),points:Y(Lt=vt,wt,fs).call(Lt,S,Tt,this.rotation)})}return Ot},Bt=new WeakSet,ms=function(){let Z=1/0,St=-1/0,It=1/0,Tt=-1/0;for(const Ot of this.paths)for(const[Nt,Qt,yt,Yt]of Ot){const Lt=i.Util.bezierBoundingBox(...Nt,...Qt,...yt,...Yt);Z=Math.min(Z,Lt[0]),It=Math.min(It,Lt[1]),St=Math.max(St,Lt[2]),Tt=Math.max(Tt,Lt[3])}return[Z,It,St,Tt]},pt=new WeakSet,De=function(){return t(this,m)?Math.ceil(this.thickness*this.parentScale):0},K=new WeakSet,fe=function(Z=!1){if(this.isEmpty())return;if(!t(this,m)){Y(this,G,ae).call(this);return}const St=Y(this,Bt,ms).call(this),It=Y(this,pt,De).call(this);rt(this,l,Math.max(f.AnnotationEditor.MIN_SIZE,St[2]-St[0])),rt(this,R,Math.max(f.AnnotationEditor.MIN_SIZE,St[3]-St[1]));const Tt=Math.ceil(It+t(this,l)*this.scaleFactor),Ot=Math.ceil(It+t(this,R)*this.scaleFactor),[Nt,Qt]=this.parentDimensions;this.width=Tt/Nt,this.height=Ot/Qt,this.setAspectRatio(Tt,Ot);const yt=this.translationX,Yt=this.translationY;this.translationX=-St[0],this.translationY=-St[1],Y(this,Dt,pe).call(this),Y(this,G,ae).call(this),rt(this,u,Tt),rt(this,a,Ot),this.setDims(Tt,Ot);const Lt=Z?It/this.scaleFactor/2:0;this.translate(yt-this.translationX-Lt,Yt-this.translationY-Lt)},U(vt,ft),U(vt,wt),U(vt,$t),ee(vt,"_defaultColor",null),ee(vt,"_defaultOpacity",1),ee(vt,"_defaultThickness",1),ee(vt,"_type","ink");let b=vt;e.InkEditor=b},(k,e,L)=>{var b,R,l,I,P,w,_,A,m,y,C,ve,u,Ae,h,Le,E,gs,F,Ks,H,Qs,T,xs,st,Ie,$,Js;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var i=L(1),f=L(4),W=L(6),O=L(29);const gt=class gt extends f.AnnotationEditor{constructor(v){super({...v,name:"stampEditor"});U(this,C);U(this,u);U(this,h);U(this,E);U(this,F);U(this,H);U(this,T);U(this,st);U(this,$);U(this,b,null);U(this,R,null);U(this,l,null);U(this,I,null);U(this,P,null);U(this,w,null);U(this,_,null);U(this,A,null);U(this,m,!1);U(this,y,!1);rt(this,I,v.bitmapUrl),rt(this,P,v.bitmapFile)}static initialize(v){f.AnnotationEditor.initialize(v)}static get supportedTypes(){const v=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",v.map(n=>`image/${n}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(v){return this.supportedTypes.includes(v)}static paste(v,n){n.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:v.getAsFile()})}remove(){var v,n;t(this,R)&&(rt(this,b,null),this._uiManager.imageManager.deleteId(t(this,R)),(v=t(this,w))==null||v.remove(),rt(this,w,null),(n=t(this,_))==null||n.disconnect(),rt(this,_,null)),super.remove()}rebuild(){if(!this.parent){t(this,R)&&Y(this,h,Le).call(this);return}super.rebuild(),this.div!==null&&(t(this,R)&&Y(this,h,Le).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(t(this,l)||t(this,b)||t(this,I)||t(this,P))}get isResizable(){return!0}render(){if(this.div)return this.div;let v,n;if(this.width&&(v=this.x,n=this.y),super.render(),this.div.hidden=!0,t(this,b)?Y(this,E,gs).call(this):Y(this,h,Le).call(this),this.width){const[o,r]=this.parentDimensions;this.setAt(v*o,n*r,this.width*o,this.height*r)}return this.div}static deserialize(v,n,o){if(v instanceof O.StampAnnotationElement)return null;const r=super.deserialize(v,n,o),{rect:d,bitmapUrl:p,bitmapId:j,isSvg:D,accessibilityData:G}=v;j&&o.imageManager.isValidId(j)?rt(r,R,j):rt(r,I,p),rt(r,m,D);const[it,J]=r.pageDimensions;return r.width=(d[2]-d[0])/it,r.height=(d[3]-d[1])/J,G&&(r.altTextData=G),r}serialize(v=!1,n=null){if(this.isEmpty())return null;const o={annotationType:i.AnnotationEditorType.STAMP,bitmapId:t(this,R),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:t(this,m),structTreeParentId:this._structTreeParentId};if(v)return o.bitmapUrl=Y(this,st,Ie).call(this,!0),o.accessibilityData=this.altTextData,o;const{decorative:r,altText:d}=this.altTextData;if(!r&&d&&(o.accessibilityData={type:"Figure",alt:d}),n===null)return o;n.stamps||(n.stamps=new Map);const p=t(this,m)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!n.stamps.has(t(this,R)))n.stamps.set(t(this,R),{area:p,serialized:o}),o.bitmap=Y(this,st,Ie).call(this,!1);else if(t(this,m)){const j=n.stamps.get(t(this,R));p>j.area&&(j.area=p,j.serialized.bitmap.close(),j.serialized.bitmap=Y(this,st,Ie).call(this,!1))}return o}};b=new WeakMap,R=new WeakMap,l=new WeakMap,I=new WeakMap,P=new WeakMap,w=new WeakMap,_=new WeakMap,A=new WeakMap,m=new WeakMap,y=new WeakMap,C=new WeakSet,ve=function(v,n=!1){if(!v){this.remove();return}rt(this,b,v.bitmap),n||(rt(this,R,v.id),rt(this,m,v.isSvg)),Y(this,E,gs).call(this)},u=new WeakSet,Ae=function(){rt(this,l,null),this._uiManager.enableWaiting(!1),t(this,w)&&this.div.focus()},h=new WeakSet,Le=function(){if(t(this,R)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(t(this,R)).then(n=>Y(this,C,ve).call(this,n,!0)).finally(()=>Y(this,u,Ae).call(this));return}if(t(this,I)){const n=t(this,I);rt(this,I,null),this._uiManager.enableWaiting(!0),rt(this,l,this._uiManager.imageManager.getFromUrl(n).then(o=>Y(this,C,ve).call(this,o)).finally(()=>Y(this,u,Ae).call(this)));return}if(t(this,P)){const n=t(this,P);rt(this,P,null),this._uiManager.enableWaiting(!0),rt(this,l,this._uiManager.imageManager.getFromFile(n).then(o=>Y(this,C,ve).call(this,o)).finally(()=>Y(this,u,Ae).call(this)));return}const v=document.createElement("input");v.type="file",v.accept=gt.supportedTypesStr,rt(this,l,new Promise(n=>{v.addEventListener("change",async()=>{if(!v.files||v.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(v.files[0]);Y(this,C,ve).call(this,o)}n()}),v.addEventListener("cancel",()=>{this.remove(),n()})}).finally(()=>Y(this,u,Ae).call(this))),v.click()},E=new WeakSet,gs=function(){const{div:v}=this;let{width:n,height:o}=t(this,b);const[r,d]=this.pageDimensions,p=.75;if(this.width)n=this.width*r,o=this.height*d;else if(n>p*r||o>p*d){const it=Math.min(p*r/n,p*d/o);n*=it,o*=it}const[j,D]=this.parentDimensions;this.setDims(n*j/r,o*D/d),this._uiManager.enableWaiting(!1);const G=rt(this,w,document.createElement("canvas"));v.append(G),v.hidden=!1,Y(this,T,xs).call(this,n,o),Y(this,$,Js).call(this),t(this,y)||(this.parent.addUndoableEditor(this),rt(this,y,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},F=new WeakSet,Ks=function(v,n){var p;const[o,r]=this.parentDimensions;this.width=v/o,this.height=n/r,this.setDims(v,n),(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,t(this,A)!==null&&clearTimeout(t(this,A)),rt(this,A,setTimeout(()=>{rt(this,A,null),Y(this,T,xs).call(this,v,n)},200))},H=new WeakSet,Qs=function(v,n){const{width:o,height:r}=t(this,b);let d=o,p=r,j=t(this,b);for(;d>2*v||p>2*n;){const D=d,G=p;d>2*v&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2)),p>2*n&&(p=p>=16384?Math.floor(p/2)-1:Math.ceil(p/2));const it=new OffscreenCanvas(d,p);it.getContext("2d").drawImage(j,0,0,D,G,0,0,d,p),j=it.transferToImageBitmap()}return j},T=new WeakSet,xs=function(v,n){v=Math.ceil(v),n=Math.ceil(n);const o=t(this,w);if(!o||o.width===v&&o.height===n)return;o.width=v,o.height=n;const r=t(this,m)?t(this,b):Y(this,H,Qs).call(this,v,n),d=o.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(r,0,0,r.width,r.height,0,0,v,n)},st=new WeakSet,Ie=function(v){if(v){if(t(this,m)){const r=this._uiManager.imageManager.getSvgUrl(t(this,R));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=t(this,b),n.getContext("2d").drawImage(t(this,b),0,0),n.toDataURL()}if(t(this,m)){const[n,o]=this.pageDimensions,r=Math.round(this.width*n*W.PixelsPerInch.PDF_TO_CSS_UNITS),d=Math.round(this.height*o*W.PixelsPerInch.PDF_TO_CSS_UNITS),p=new OffscreenCanvas(r,d);return p.getContext("2d").drawImage(t(this,b),0,0,t(this,b).width,t(this,b).height,0,0,r,d),p.transferToImageBitmap()}return structuredClone(t(this,b))},$=new WeakSet,Js=function(){rt(this,_,new ResizeObserver(v=>{const n=v[0].contentRect;n.width&&n.height&&Y(this,F,Ks).call(this,n.width,n.height)})),t(this,_).observe(this.div)},ee(gt,"_type","stamp");let ot=gt;e.StampEditor=ot}],__webpack_module_cache__={};function __w_pdfjs_require__(k){var e=__webpack_module_cache__[k];if(e!==void 0)return e.exports;var L=__webpack_module_cache__[k]={exports:{}};return __webpack_modules__[k](L,L.exports,__w_pdfjs_require__),L.exports}var __webpack_exports__={};return(()=>{var k=__webpack_exports__;Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(k,"AnnotationEditorLayer",{enumerable:!0,get:function(){return W.AnnotationEditorLayer}}),Object.defineProperty(k,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(k,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(k,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return O.AnnotationEditorUIManager}}),Object.defineProperty(k,"AnnotationLayer",{enumerable:!0,get:function(){return ot.AnnotationLayer}}),Object.defineProperty(k,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(k,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(k,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(k,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(k,"GlobalWorkerOptions",{enumerable:!0,get:function(){return b.GlobalWorkerOptions}}),Object.defineProperty(k,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(k,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(k,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(k,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(k,"PDFDataRangeTransport",{enumerable:!0,get:function(){return L.PDFDataRangeTransport}}),Object.defineProperty(k,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(k,"PDFWorker",{enumerable:!0,get:function(){return L.PDFWorker}}),Object.defineProperty(k,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(k,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(k,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(k,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(k,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(k,"SVGGraphics",{enumerable:!0,get:function(){return L.SVGGraphics}}),Object.defineProperty(k,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(k,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(k,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(k,"XfaLayer",{enumerable:!0,get:function(){return R.XfaLayer}}),Object.defineProperty(k,"build",{enumerable:!0,get:function(){return L.build}}),Object.defineProperty(k,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(k,"getDocument",{enumerable:!0,get:function(){return L.getDocument}}),Object.defineProperty(k,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(k,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(k,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(k,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(k,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(k,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(k,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(k,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(k,"renderTextLayer",{enumerable:!0,get:function(){return f.renderTextLayer}}),Object.defineProperty(k,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(k,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(k,"updateTextLayer",{enumerable:!0,get:function(){return f.updateTextLayer}}),Object.defineProperty(k,"version",{enumerable:!0,get:function(){return L.version}});var e=__w_pdfjs_require__(1),L=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),f=__w_pdfjs_require__(26),W=__w_pdfjs_require__(27),O=__w_pdfjs_require__(5),ot=__w_pdfjs_require__(29),b=__w_pdfjs_require__(14),R=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule,pdfjs$1=pdfjs;var __spreadArray=globalThis&&globalThis.__spreadArray||function(k,e,L){if(L||arguments.length===2)for(var i=0,f=e.length,W;i<f;i++)(W||!(i in e))&&(W||(W=Array.prototype.slice.call(e,0,i)),W[i]=e[i]);return k.concat(W||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(k,e){var L={};return allEvents.forEach(function(i){var f=k[i];f&&(e?L[i]=function(W){return f(W,e(i))}:L[i]=f)}),L}function makeCancellablePromise(k){var e=!1,L=new Promise(function(i,f){k.then(function(W){return!e&&i(W)}).catch(function(W){return!e&&f(W)})});return{promise:L,cancel:function(){e=!0}}}var isProduction=!0,prefix="Invariant failed";function invariant(k,e){if(!k){if(isProduction)throw new Error(prefix);var L=typeof e=="function"?e():e,i=L?"".concat(prefix,": ").concat(L):prefix;throw new Error(i)}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(k,e,L){for(L of k.keys())if(dequal(L,e))return L}function dequal(k,e){var L,i,f;if(k===e)return!0;if(k&&e&&(L=k.constructor)===e.constructor){if(L===Date)return k.getTime()===e.getTime();if(L===RegExp)return k.toString()===e.toString();if(L===Array){if((i=k.length)===e.length)for(;i--&&dequal(k[i],e[i]););return i===-1}if(L===Set){if(k.size!==e.size)return!1;for(i of k)if(f=i,f&&typeof f=="object"&&(f=find(e,f),!f)||!e.has(f))return!1;return!0}if(L===Map){if(k.size!==e.size)return!1;for(i of k)if(f=i[0],f&&typeof f=="object"&&(f=find(e,f),!f)||!dequal(i[1],e.get(f)))return!1;return!0}if(L===ArrayBuffer)k=new Uint8Array(k),e=new Uint8Array(e);else if(L===DataView){if((i=k.byteLength)===e.byteLength)for(;i--&&k.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(k)){if((i=k.byteLength)===e.byteLength)for(;i--&&k[i]===e[i];);return i===-1}if(!L||typeof k=="object"){i=0;for(L in k)if(has.call(k,L)&&++i&&!has.call(e,L)||!(L in e)||!dequal(k[L],e[L]))return!1;return Object.keys(e).length===i}}return k!==k&&e!==e}const DocumentContext=reactExports.createContext(null);function Message({children:k,type:e}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:k})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(L=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(L):Array.isArray(e)?L(e):e.then(L)}).then(L=>{invariant(Array.isArray(L),`"${L}" is not a valid destination array.`);const i=L[0];new Promise(f=>{invariant(this.pdfDocument,"PDF document not loaded."),i instanceof Object?this.pdfDocument.getPageIndex(i).then(W=>{f(W)}).catch(()=>{invariant(!1,`"${i}" is not a valid page reference.`)}):typeof i=="number"?f(i):invariant(!1,`"${i}" is not a valid destination reference.`)}).then(f=>{const W=f+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(W>=1&&W<=this.pagesCount,`"${W}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:L,pageIndex:f,pageNumber:W})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const L=e-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:L,pageNumber:e})}addLinkAttributes(e,L,i){e.href=L,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses,isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(k){return typeof k<"u"}function isProvided(k){return isDefined(k)&&k!==null}function isString(k){return typeof k=="string"}function isArrayBuffer(k){return k instanceof ArrayBuffer}function isBlob(k){return invariant(isBrowser,"isBlob can only be used in a browser environment"),k instanceof Blob}function isDataURI(k){return isString(k)&&/^data:/.test(k)}function dataURItoByteString(k){invariant(isDataURI(k),"Invalid data URI.");const[e="",L=""]=k.split(",");return e.split(";").indexOf("base64")!==-1?atob(L):unescape(L)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(k){k&&k.cancel&&k.cancel()}function makePageCallback(k,e){return Object.defineProperty(k,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(k,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(k,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(k,"originalHeight",{get(){return this.view[3]},configurable:!0}),k}function isCancelException(k){return k.name==="RenderingCancelledException"}function loadFromFile(k){return new Promise((e,L)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return L(new Error("Error while reading a file."));e(i.result)},i.onerror=f=>{if(!f.target)return L(new Error("Error while reading a file."));const{error:W}=f.target;if(!W)return L(new Error("Error while reading a file."));switch(W.code){case W.NOT_FOUND_ERR:return L(new Error("Error while reading a file: File not found."));case W.SECURITY_ERR:return L(new Error("Error while reading a file: Security error."));case W.ABORT_ERR:return L(new Error("Error while reading a file: Aborted."));default:return L(new Error("Error while reading a file."))}},i.readAsArrayBuffer(k)})}function reducer(k,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return k}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter=globalThis&&globalThis.__awaiter||function(k,e,L,i){function f(W){return W instanceof L?W:new L(function(O){O(W)})}return new(L||(L=Promise))(function(W,O){function ot(l){try{R(i.next(l))}catch(I){O(I)}}function b(l){try{R(i.throw(l))}catch(I){O(I)}}function R(l){l.done?W(l.value):f(l.value).then(ot,b)}R((i=i.apply(k,e||[])).next())})},__rest$1=globalThis&&globalThis.__rest||function(k,e){var L={};for(var i in k)Object.prototype.hasOwnProperty.call(k,i)&&e.indexOf(i)<0&&(L[i]=k[i]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,i=Object.getOwnPropertySymbols(k);f<i.length;f++)e.indexOf(i[f])<0&&Object.prototype.propertyIsEnumerable.call(k,i[f])&&(L[i[f]]=k[i[f]]);return L};const{PDFDataRangeTransport}=pdfjs$1,defaultOnPassword=(k,e)=>{switch(e){case PasswordResponses$1.NEED_PASSWORD:{const L=prompt("Enter the password to open this PDF file.");k(L);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const L=prompt("Invalid password. Please try again.");k(L);break}}};function isParameterObject(k){return typeof k=="object"&&k!==null&&("data"in k||"range"in k||"url"in k)}const Document=reactExports.forwardRef(function k(e,L){var{children:i,className:f,error:W="Failed to load PDF file.",externalLinkRel:O,externalLinkTarget:ot,file:b,inputRef:R,imageResourcesPath:l,loading:I="Loading PDF…",noData:P="No PDF file specified.",onItemClick:w,onLoadError:_,onLoadProgress:A,onLoadSuccess:m,onPassword:y=defaultOnPassword,onSourceError:C,onSourceSuccess:x,options:u,renderMode:a,rotate:h}=e,M=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[E,c]=useResolver(),{value:F,error:g}=E,[H,z]=useResolver(),{value:T,error:q}=H,st=reactExports.useRef(new LinkService),at=reactExports.useRef([]),$=reactExports.useRef(void 0),ht=reactExports.useRef(void 0);b&&b!==$.current&&isParameterObject(b)&&(warning$1(!dequal(b,$.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),$.current=b),u&&u!==ht.current&&(warning$1(!dequal(u,ht.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ht.current=u);const gt=reactExports.useRef({scrollPageIntoView:mt=>{const{dest:ut,pageNumber:Ct,pageIndex:Dt=Ct-1}=mt;if(w){w({dest:ut,pageIndex:Dt,pageNumber:Ct});return}const At=at.current[Dt];if(At){At.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Ct} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(L,()=>({linkService:st,pages:at,viewer:gt}),[]);function _t(){x&&x()}function X(){g&&(warning$1(!1,g.toString()),C&&C(g))}function v(){c({type:"RESET"})}reactExports.useEffect(v,[b,c]);const n=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!b)return null;if(typeof b=="string")return isDataURI(b)?{data:dataURItoByteString(b)}:(displayCORSWarning(),{url:b});if(b instanceof PDFDataRangeTransport)return{range:b};if(isArrayBuffer(b))return{data:b};if(isBrowser&&isBlob(b))return{data:yield loadFromFile(b)};if(invariant(typeof b=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(isParameterObject(b),"Invalid parameter object: need either .data, .range or .url"),"url"in b&&typeof b.url=="string"){if(isDataURI(b.url)){const{url:mt}=b,ut=__rest$1(b,["url"]),Ct=dataURItoByteString(mt);return Object.assign({data:Ct},ut)}displayCORSWarning()}return b}),[b]);reactExports.useEffect(()=>{const mt=makeCancellablePromise(n());return mt.promise.then(ut=>{c({type:"RESOLVE",value:ut})}).catch(ut=>{c({type:"REJECT",error:ut})}),()=>{cancelRunningTask(mt)}},[n,c]),reactExports.useEffect(()=>{if(!(typeof F>"u")){if(F===!1){X();return}_t()}},[F]);function o(){T&&(m&&m(T),at.current=new Array(T.numPages),st.current.setDocument(T))}function r(){q&&(warning$1(!1,q.toString()),_&&_(q))}function d(){z({type:"RESET"})}reactExports.useEffect(d,[z,F]);function p(){if(!F)return;const mt=Object.assign(Object.assign({},u),{isEvalSupported:!1}),ut=Object.assign(Object.assign({},F),mt),Ct=pdfjs$1.getDocument(ut);A&&(Ct.onProgress=A),y&&(Ct.onPassword=y);const Dt=Ct;return Dt.promise.then(At=>{z({type:"RESOLVE",value:At})}).catch(At=>{Dt.destroyed||z({type:"REJECT",error:At})}),()=>{Dt.destroy()}}reactExports.useEffect(p,[u,z,F]),reactExports.useEffect(()=>{if(!(typeof T>"u")){if(T===!1){r();return}o()}},[T]);function j(){st.current.setViewer(gt.current),st.current.setExternalLinkRel(O),st.current.setExternalLinkTarget(ot)}reactExports.useEffect(j,[O,ot]);function D(mt,ut){at.current[mt]=ut}function G(mt){delete at.current[mt]}const it=reactExports.useMemo(()=>({imageResourcesPath:l,linkService:st.current,onItemClick:w,pdf:T,registerPage:D,renderMode:a,rotate:h,unregisterPage:G}),[l,w,T,a,h]),J=reactExports.useMemo(()=>makeEventProps(M,()=>T),[M,T]);function lt(){return jsxRuntimeExports.jsx(DocumentContext.Provider,{value:it,children:i})}function dt(){return b?T==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof I=="function"?I():I}):T===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof W=="function"?W():W}):lt():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof P=="function"?P():P})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",f),ref:R,style:{"--scale-factor":"1"}},J,{children:dt()}))}),Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var k=[],e=0;e<arguments.length;e++)k[e]=arguments[e];var L=k.filter(Boolean);if(L.length<=1){var i=L[0];return i||null}return function(W){L.forEach(function(O){typeof O=="function"?O(W):O&&(O.current=W)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(k){return k in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(k){return"children"in k}function isStructTreeNodeWithOnlyContentChild(k){return isStructTreeNode(k)?k.children.length===1&&0 in k.children&&"id"in k.children[0]:!1}function getRoleAttributes(k){const e={};if(isStructTreeNode(k)){const{role:L}=k,i=L.match(HEADING_PATTERN);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(isPdfRole(L)){const f=PDF_ROLE_TO_HTML_ROLE[L];f&&(e.role=f)}}return e}function getBaseAttributes(k){const e={};if(isStructTreeNode(k)){if(k.alt!==void 0&&(e["aria-label"]=k.alt),k.lang!==void 0&&(e.lang=k.lang),isStructTreeNodeWithOnlyContentChild(k)){const[L]=k.children;if(L){const i=getBaseAttributes(L);return Object.assign(Object.assign({},e),i)}}}else"id"in k&&(e["aria-owns"]=k.id);return e}function getAttributes(k){return k?Object.assign(Object.assign({},getRoleAttributes(k)),getBaseAttributes(k)):null}function StructTreeItem({className:k,node:e}){const L=reactExports.useMemo(()=>getAttributes(e),[e]),i=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((f,W)=>jsxRuntimeExports.jsx(StructTreeItem,{node:f},W)),[e]);return jsxRuntimeExports.jsx("span",Object.assign({className:k},L,{children:i}))}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const k=usePageContext();invariant(k,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:L}=k,[i,f]=useResolver(),{value:W,error:O}=i,{customTextRenderer:ot,page:b}=k;function R(){W&&L&&L(W)}function l(){O&&(warning$1(!1,O.toString()),e&&e(O))}function I(){f({type:"RESET"})}reactExports.useEffect(I,[f,b]);function P(){if(ot||!b)return;const w=makeCancellablePromise(b.getStructTree()),_=w;return w.promise.then(A=>{f({type:"RESOLVE",value:A})}).catch(A=>{f({type:"REJECT",error:A})}),()=>cancelRunningTask(_)}return reactExports.useEffect(P,[ot,b,f]),reactExports.useEffect(()=>{if(W!==void 0){if(W===!1){l();return}R()}},[W]),W?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:W}):null}const ANNOTATION_MODE=pdfjs$1.AnnotationMode;function PageCanvas(k){const e=usePageContext();invariant(e,"Unable to find Page context.");const L=Object.assign(Object.assign({},e),k),{_className:i,canvasBackground:f,devicePixelRatio:W=getDevicePixelRatio(),onRenderError:O,onRenderSuccess:ot,page:b,renderForms:R,renderTextLayer:l,rotate:I,scale:P}=L,{canvasRef:w}=k;invariant(b,"Attempted to render page canvas, but no page was specified.");const _=reactExports.useRef(null);function A(){b&&ot&&ot(makePageCallback(b,P))}function m(a){isCancelException(a)||(warning$1(!1,a.toString()),O&&O(a))}const y=reactExports.useMemo(()=>b.getViewport({scale:P*W,rotation:I}),[W,b,I,P]),C=reactExports.useMemo(()=>b.getViewport({scale:P,rotation:I}),[b,I,P]);function x(){if(!b)return;b.cleanup();const{current:a}=_;if(!a)return;a.width=y.width,a.height=y.height,a.style.width=`${Math.floor(C.width)}px`,a.style.height=`${Math.floor(C.height)}px`,a.style.visibility="hidden";const h={annotationMode:R?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:a.getContext("2d",{alpha:!1}),viewport:y};f&&(h.background=f);const M=b.render(h),E=M;return M.promise.then(()=>{a.style.visibility="",A()}).catch(m),()=>cancelRunningTask(E)}reactExports.useEffect(x,[f,_,W,b,R,y,C]);const u=reactExports.useCallback(()=>{const{current:a}=_;a&&(a.width=0,a.height=0)},[_]);return reactExports.useEffect(()=>u,[u]),jsxRuntimeExports.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:mergeRefs(w,_),style:{display:"block",userSelect:"none"},children:l?jsxRuntimeExports.jsx(StructTree,{}):null})}function PageSVG(){const k=usePageContext();invariant(k,"Unable to find Page context.");const{_className:e,onRenderSuccess:L,onRenderError:i,page:f,rotate:W,scale:O}=k;invariant(f,"Attempted to render page SVG, but no page was specified.");const[ot,b]=useResolver(),{value:R,error:l}=ot;function I(){f&&L&&L(makePageCallback(f,O))}function P(){l&&(isCancelException(l)||(warning$1(!1,l.toString()),i&&i(l)))}const w=reactExports.useMemo(()=>f.getViewport({scale:O,rotation:W}),[f,W,O]);function _(){b({type:"RESET"})}reactExports.useEffect(_,[f,b,w]);function A(){if(!f)return;const x=makeCancellablePromise(f.getOperatorList());return x.promise.then(u=>{new pdfjs$1.SVGGraphics(f.commonObjs,f.objs).getSVG(u,w).then(h=>{if(!(h instanceof SVGElement))throw new Error("getSVG returned unexpected result.");b({type:"RESOLVE",value:h})}).catch(h=>{b({type:"REJECT",error:h})})}).catch(u=>{b({type:"REJECT",error:u})}),()=>cancelRunningTask(x)}reactExports.useEffect(A,[f,b,w]),reactExports.useEffect(()=>{if(R!==void 0){if(R===!1){P();return}I()}},[R]);function m(x){if(!x||!R)return;x.firstElementChild||x.appendChild(R);const{width:u,height:a}=w;R.setAttribute("width",`${u}`),R.setAttribute("height",`${a}`)}const{width:y,height:C}=w;return jsxRuntimeExports.jsx("div",{className:`${e}__svg`,ref:x=>m(x),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:y,height:C,userSelect:"none"}})}function isTextItem(k){return"str"in k}function TextLayer(){const k=usePageContext();invariant(k,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:L,onGetTextSuccess:i,onRenderTextLayerError:f,onRenderTextLayerSuccess:W,page:O,pageIndex:ot,pageNumber:b,rotate:R,scale:l}=k;invariant(O,"Attempted to load page text content, but no page was specified.");const[I,P]=useResolver(),{value:w,error:_}=I,A=reactExports.useRef(null),m=reactExports.useRef(void 0);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function y(){w&&i&&i(w)}function C(){_&&(warning$1(!1,_.toString()),L&&L(_))}function x(){P({type:"RESET"})}reactExports.useEffect(x,[O,P]);function u(){if(!O)return;const g=makeCancellablePromise(O.getTextContent()),H=g;return g.promise.then(z=>{P({type:"RESOLVE",value:z})}).catch(z=>{P({type:"REJECT",error:z})}),()=>cancelRunningTask(H)}reactExports.useEffect(u,[O,P]),reactExports.useEffect(()=>{if(w!==void 0){if(w===!1){C();return}y()}},[w]);const a=reactExports.useCallback(()=>{W&&W()},[W]),h=reactExports.useCallback(g=>{warning$1(!1,g.toString()),f&&f(g)},[f]);function M(){const g=m.current;g&&g.classList.add("active")}function E(){const g=m.current;g&&g.classList.remove("active")}const c=reactExports.useMemo(()=>O.getViewport({scale:l,rotation:R}),[O,R,l]);function F(){if(!O||!w)return;const{current:g}=A;if(!g)return;g.innerHTML="";const H=O.streamTextContent({includeMarkedContent:!0}),z={container:g,textContentSource:H,viewport:c},T=pdfjs$1.renderTextLayer(z),q=T;return T.promise.then(()=>{const st=document.createElement("div");st.className="endOfContent",g.append(st),m.current=st;const at=g.querySelectorAll('[role="presentation"]');if(e){let $=0;w.items.forEach((ht,gt)=>{if(!isTextItem(ht))return;const _t=at[$];if(!_t)return;const X=e(Object.assign({pageIndex:ot,pageNumber:b,itemIndex:gt},ht));_t.innerHTML=X,$+=ht.str&&ht.hasEOL?2:1})}a()}).catch(h),()=>cancelRunningTask(q)}return reactExports.useLayoutEffect(F,[e,h,a,O,ot,b,w,c]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:E,onMouseDown:M,ref:A})}function AnnotationLayer(){const k=useDocumentContext(),e=usePageContext();invariant(e,"Unable to find Page context.");const L=Object.assign(Object.assign({},k),e),{imageResourcesPath:i,linkService:f,onGetAnnotationsError:W,onGetAnnotationsSuccess:O,onRenderAnnotationLayerError:ot,onRenderAnnotationLayerSuccess:b,page:R,pdf:l,renderForms:I,rotate:P,scale:w=1}=L;invariant(l,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),invariant(R,"Attempted to load page annotations, but no page was specified."),invariant(f,"Attempted to load page annotations, but no linkService was specified.");const[_,A]=useResolver(),{value:m,error:y}=_,C=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){m&&O&&O(m)}function u(){y&&(warning$1(!1,y.toString()),W&&W(y))}function a(){A({type:"RESET"})}reactExports.useEffect(a,[A,R]);function h(){if(!R)return;const g=makeCancellablePromise(R.getAnnotations()),H=g;return g.promise.then(z=>{A({type:"RESOLVE",value:z})}).catch(z=>{A({type:"REJECT",error:z})}),()=>{cancelRunningTask(H)}}reactExports.useEffect(h,[A,R,I]),reactExports.useEffect(()=>{if(m!==void 0){if(m===!1){u();return}x()}},[m]);function M(){b&&b()}function E(g){warning$1(!1,`${g}`),ot&&ot(g)}const c=reactExports.useMemo(()=>R.getViewport({scale:w,rotation:P}),[R,P,w]);function F(){if(!l||!R||!f||!m)return;const{current:g}=C;if(!g)return;const H=c.clone({dontFlip:!0}),z={accessibilityManager:null,annotationCanvasMap:null,div:g,l10n:null,page:R,viewport:H},T={annotations:m,annotationStorage:l.annotationStorage,div:g,downloadManager:null,imageResourcesPath:i,linkService:f,page:R,renderForms:I,viewport:H};g.innerHTML="";try{new pdfjs$1.AnnotationLayer(z).render(T),M()}catch(q){E(q)}return()=>{}}return reactExports.useEffect(F,[m,i,f,R,I,c]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:C})}var __rest=globalThis&&globalThis.__rest||function(k,e){var L={};for(var i in k)Object.prototype.hasOwnProperty.call(k,i)&&e.indexOf(i)<0&&(L[i]=k[i]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,i=Object.getOwnPropertySymbols(k);f<i.length;f++)e.indexOf(i[f])<0&&Object.prototype.propertyIsEnumerable.call(k,i[f])&&(L[i[f]]=k[i[f]]);return L};const defaultScale=1;function Page(k){const e=useDocumentContext(),L=Object.assign(Object.assign({},e),k),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:f=!0,canvasBackground:W,canvasRef:O,children:ot,className:b,customRenderer:R,customTextRenderer:l,devicePixelRatio:I,error:P="Failed to load the page.",height:w,inputRef:_,loading:A="Loading page…",noData:m="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:C,onGetStructTreeError:x,onGetStructTreeSuccess:u,onGetTextError:a,onGetTextSuccess:h,onLoadError:M,onLoadSuccess:E,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:F,onRenderError:g,onRenderSuccess:H,onRenderTextLayerError:z,onRenderTextLayerSuccess:T,pageIndex:q,pageNumber:st,pdf:at,registerPage:$,renderAnnotationLayer:ht=!0,renderForms:gt=!1,renderMode:_t="canvas",renderTextLayer:X=!0,rotate:v,scale:n=defaultScale,unregisterPage:o,width:r}=L,d=__rest(L,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[p,j]=useResolver(),{value:D,error:G}=p,it=reactExports.useRef(null);invariant(at,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const J=isProvided(st)?st-1:q??null,lt=st??(isProvided(q)?q+1:null),dt=v??(D?D.rotate:null),mt=reactExports.useMemo(()=>{if(!D)return null;let Gt=1;const zt=n??defaultScale;if(r||w){const Bt=D.getViewport({scale:1,rotation:dt});r?Gt=r/Bt.width:w&&(Gt=w/Bt.height)}return zt*Gt},[w,D,dt,n,r]);function ut(){return()=>{isProvided(J)&&f&&o&&o(J)}}reactExports.useEffect(ut,[f,at,J,o]);function Ct(){if(E){if(!D||!mt)return;E(makePageCallback(D,mt))}if(f&&$){if(!isProvided(J)||!it.current)return;$(J,it.current)}}function Dt(){G&&(warning$1(!1,G.toString()),M&&M(G))}function At(){j({type:"RESET"})}reactExports.useEffect(At,[j,at,J]);function Mt(){if(!at||!lt)return;const Gt=makeCancellablePromise(at.getPage(lt)),zt=Gt;return Gt.promise.then(Bt=>{j({type:"RESOLVE",value:Bt})}).catch(Bt=>{j({type:"REJECT",error:Bt})}),()=>cancelRunningTask(zt)}reactExports.useEffect(Mt,[j,at,J,lt,$]),reactExports.useEffect(()=>{if(D!==void 0){if(D===!1){Dt();return}Ct()}},[D,mt]);const xt=reactExports.useMemo(()=>D&&isProvided(J)&&lt&&isProvided(dt)&&isProvided(mt)?{_className:i,canvasBackground:W,customTextRenderer:l,devicePixelRatio:I,onGetAnnotationsError:y,onGetAnnotationsSuccess:C,onGetStructTreeError:x,onGetStructTreeSuccess:u,onGetTextError:a,onGetTextSuccess:h,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:F,onRenderError:g,onRenderSuccess:H,onRenderTextLayerError:z,onRenderTextLayerSuccess:T,page:D,pageIndex:J,pageNumber:lt,renderForms:gt,renderTextLayer:X,rotate:dt,scale:mt}:null,[i,W,l,I,y,C,x,u,a,h,c,F,g,H,z,T,D,J,lt,gt,X,dt,mt]),nt=reactExports.useMemo(()=>makeEventProps(d,()=>D&&(mt?makePageCallback(D,mt):void 0)),[d,D,mt]),tt=`${J}@${mt}/${dt}`,ft=`${J}/${dt}`;function Rt(){switch(_t){case"custom":return invariant(R,'renderMode was set to "custom", but no customRenderer was passed.'),jsxRuntimeExports.jsx(R,{},`${tt}_custom`);case"none":return null;case"svg":return jsxRuntimeExports.jsx(PageSVG,{},`${ft}_svg`);case"canvas":default:return jsxRuntimeExports.jsx(PageCanvas,{canvasRef:O},`${tt}_canvas`)}}function wt(){return X?jsxRuntimeExports.jsx(TextLayer,{},`${tt}_text`):null}function Ut(){return ht?jsxRuntimeExports.jsx(AnnotationLayer,{},`${tt}_annotations`):null}function $t(){return jsxRuntimeExports.jsxs(PageContext.Provider,{value:xt,children:[Rt(),wt(),Ut(),ot]})}function Wt(){return lt?at===null||D===void 0||D===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof A=="function"?A():A}):at===!1||D===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof P=="function"?P():P}):$t():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof m=="function"?m():m})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx(i,b),"data-page-number":lt,ref:mergeRefs(_,it),style:{"--scale-factor":`${mt}`,backgroundColor:W||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},nt,{children:Wt()}))}displayWorkerWarning();pdfjs$1.GlobalWorkerOptions.workerSrc="pdf.worker.js";const MockTest_NTA="";pdfjs$1.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-feabdf30.js",self.location).toString();const fullscreen=()=>{document.getElementsByClassName("m3")[0].requestFullscreen()};function NTA(){const{userName:k,setPage:e,examParams:L,setUserRes:i}=useTestStore(),f=reactExports.useRef(null),W=()=>{f.current.scrollTo({top:f.current.scrollHeight})},O=()=>{f.current.scrollTo({top:0})},ot=L.quesAns.length,[b,R]=reactExports.useState(L.quesAns.map(X=>({s:"nvd",r:null,...X}))),[l,I]=reactExports.useState(0),[P,w]=reactExports.useState(null),_=X=>{w(X),R(v=>(v[l].r=X,v[l].s==="mfr"&&(v[l].s="amr"),v))};reactExports.useEffect(()=>{b[l].s==="nvd"&&R(X=>(X[l].s="nad",X))},[l]);const A=X=>{I(parseInt(X.target.dataset.key)),w(b[parseInt(X.target.dataset.key)].r)},m=()=>l===ot-1?0:l+1,y=()=>{let X=m();I(X),w(b[X].r)},C=()=>{R(X=>(X[l].s="nad",X[l].r=null,w(null),X))},x=()=>{R(X=>(X[l].s=P!==null?"amr":"mfr",X)),y()},u=()=>{R(X=>(X[l].s=P!==null?"asd":"nad",X[l].r=P,X)),y()},[a,h]=reactExports.useState(L.meta.timeMinutes*6e4),[M,E]=reactExports.useState(null),[c,F]=reactExports.useState(null);let g=new Date(a);const H=()=>{h(X=>X-1e3)};var z,T;const q=L.meta.showAns?3:4,st=()=>{z(),T(),document.exitFullscreen(),e(q),i(b)},at=()=>{clearInterval(M),clearTimeout(c),document.exitFullscreen(),e(q),i(b)},$=()=>{let X=setInterval(H,1e3);E(X);let v=setTimeout(st,a);F(v),z=()=>clearInterval(X),T=()=>clearTimeout(v)},[ht,gt]=reactExports.useState(!1),_t=()=>{document.exitFullscreen(),gt(X=>!X)};return jsxRuntimeExports.jsxs("div",{className:"m",style:{height:"100vh"},children:[jsxRuntimeExports.jsx("nav",{className:"m1"}),jsxRuntimeExports.jsx("header",{className:"m2",children:jsxRuntimeExports.jsxs("div",{className:"m21",children:[jsxRuntimeExports.jsx("table",{className:"m211",children:jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{rowSpan:"4",className:"m2112",style:{backgroundImage:"url(./image/user.svg)"}}),jsxRuntimeExports.jsx("td",{children:"Candidate Name"}),jsxRuntimeExports.jsx("td",{children:": "}),jsxRuntimeExports.jsx("td",{className:"m2115",children:k||"John Smith"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Exam Name"}),jsxRuntimeExports.jsx("td",{children:": "}),jsxRuntimeExports.jsx("td",{className:"m2116",children:L.meta.eName})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Subject Name"}),jsxRuntimeExports.jsx("td",{children:": "}),jsxRuntimeExports.jsx("td",{className:"m2117",children:L.meta.tName})]}),jsxRuntimeExports.jsxs("tr",{className:"m213",children:[jsxRuntimeExports.jsx("td",{children:"Remaining Time"}),jsxRuntimeExports.jsx("td",{children:": "}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("span",{style:{backgroundColor:`${a<12e4?"red":"#5cb85c"}`,color:"whitesmoke",padding:"2px 10px",borderRadius:"5px",fontWeight:"bold"},children:[("0"+g.getUTCHours()).slice(-2),":",("0"+g.getUTCMinutes()).slice(-2),":",("0"+g.getUTCSeconds()).slice(-2)]})})]})]})}),jsxRuntimeExports.jsx("select",{className:"m212",defaultValue:"English",children:jsxRuntimeExports.jsx("option",{value:"English",children:"English"})})]})}),jsxRuntimeExports.jsxs("div",{className:"m3",children:[jsxRuntimeExports.jsxs("main",{className:"m31",ref:f,children:[jsxRuntimeExports.jsxs("div",{className:"m3110",children:[jsxRuntimeExports.jsx("span",{onClick:W,id:"up",className:"m31101",children:jsxRuntimeExports.jsxs("svg",{version:"1.1",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",width:30,children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#44f"}),jsxRuntimeExports.jsx("path",{d:"m17.575 4.0336-.24009 20.602-3.3133-4.3701-4.0816 3.3136 10.084 10.997 10.372-11.286-3.9856-3.1215-3.7455 4.8984c-.048018-6.9954-.096037-13.991-.14406-20.986z",fill:"#fff"})]})}),jsxRuntimeExports.jsxs("h4",{children:["Question number: ",l+1]})]}),jsxRuntimeExports.jsx(Document$1,{file:L.meta.pdfUrl,onLoadSuccess:$,children:jsxRuntimeExports.jsx(Page,{pageNumber:l+1,renderTextLayer:!1,renderAnnotationLayer:!1})}),jsxRuntimeExports.jsxs("div",{className:"m3112",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"option-one",children:[jsxRuntimeExports.jsx("input",{id:"option-one",name:"radio",value:0,type:"radio",checked:P===0,onChange:()=>_(0)})," (A)"]}),jsxRuntimeExports.jsxs("label",{htmlFor:"option-two",children:[jsxRuntimeExports.jsx("input",{id:"option-two",name:"radio",value:1,type:"radio",checked:P===1,onChange:()=>_(1)})," (B)"]}),jsxRuntimeExports.jsxs("label",{htmlFor:"option-three",children:[jsxRuntimeExports.jsx("input",{id:"option-three",name:"radio",value:2,type:"radio",checked:P===2,onChange:()=>_(2)})," (C)"]}),jsxRuntimeExports.jsxs("label",{htmlFor:"option-four",children:[jsxRuntimeExports.jsx("input",{id:"option-four",name:"radio",value:3,type:"radio",checked:P===3,onChange:()=>_(3)})," (D)"]})]}),jsxRuntimeExports.jsx("div",{className:"m3110",children:jsxRuntimeExports.jsx("span",{onClick:O,className:"m31101",children:jsxRuntimeExports.jsxs("svg",{version:"1.1",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",width:30,children:[jsxRuntimeExports.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#44f"}),jsxRuntimeExports.jsx("path",{d:"m22.761 34.577.24009-20.602 3.3133 4.3701 4.0816-3.3136-10.084-10.997-10.372 11.286 3.9856 3.1215 3.7455-4.8984c.04802 6.9954.09604 13.991.14406 20.986z",fill:"#fff"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"m32",children:[jsxRuntimeExports.jsx("button",{className:"m3211",onClick:C,"data-i":"clr",children:" CLEAR RESPONSE "}),jsxRuntimeExports.jsx("button",{className:"m3212",onClick:x,"data-i":"mfr",children:" MARK FOR REVIEW "}),jsxRuntimeExports.jsx("button",{className:"m3213",onClick:u,"data-i":"svn",children:" SAVE & NEXT "})]}),jsxRuntimeExports.jsxs("div",{className:"m33",children:[jsxRuntimeExports.jsx("span",{className:"nvd",children:b.filter(X=>X.s==="nvd").length}),jsxRuntimeExports.jsx("div",{children:"Not Visited"}),jsxRuntimeExports.jsx("span",{className:"nad",children:b.filter(X=>X.s==="nad").length}),jsxRuntimeExports.jsx("div",{children:"Not Answered"}),jsxRuntimeExports.jsx("span",{className:"asd",children:b.filter(X=>X.s==="asd").length}),jsxRuntimeExports.jsx("div",{children:"Answered"}),jsxRuntimeExports.jsx("span",{className:"mfr",children:b.filter(X=>X.s==="mfr").length}),jsxRuntimeExports.jsx("div",{children:"Marked for Review"}),jsxRuntimeExports.jsx("span",{className:"amr",children:b.filter(X=>X.s==="amr").length}),jsxRuntimeExports.jsx("div",{className:"m33j",children:"Answered & Marked for Review (Will be considered for evalution)"})]}),jsxRuntimeExports.jsx("aside",{className:"m34",children:b.map((X,v)=>jsxRuntimeExports.jsx("div",{className:X.s,onClick:A,"data-key":v,children:v+1},v))}),jsxRuntimeExports.jsxs("div",{className:"opt",children:[jsxRuntimeExports.jsx("button",{className:"m35 m36",onClick:fullscreen,children:"Fullscreen"}),jsxRuntimeExports.jsx("span",{className:"m35",children:jsxRuntimeExports.jsxs("span",{style:{backgroundColor:`${a<12e4?"red":"#5cb85c"}`,color:"whitesmoke",padding:"2px 10px",borderRadius:"5px",fontWeight:"bold"},children:[("0"+g.getUTCHours()).slice(-2),":",("0"+g.getUTCMinutes()).slice(-2),":",("0"+g.getUTCSeconds()).slice(-2)]})}),jsxRuntimeExports.jsx("button",{onClick:_t,style:{backgroundColor:"GrayText",cursor:"not-allowed"},children:"SUBMIT"})]})]}),jsxRuntimeExports.jsx("footer",{className:"m4"}),jsxRuntimeExports.jsxs(Dialog,{open:ht,onClose:_t,children:[jsxRuntimeExports.jsx(DialogTitle,{children:jsxRuntimeExports.jsx(Typography,{fontWeight:"bold",align:"center",color:"primary",children:"PLEASE CONFIRM YOUR RESPONSES"})}),jsxRuntimeExports.jsx(DialogContent,{children:jsxRuntimeExports.jsx(TableContainer,{children:jsxRuntimeExports.jsxs(Table,{border:2,children:[jsxRuntimeExports.jsx(TableHead,{children:jsxRuntimeExports.jsxs(TableRow,{sx:{backgroundColor:"#eee"},children:[jsxRuntimeExports.jsx(TableCell,{children:"Status"}),jsxRuntimeExports.jsx(TableCell,{children:"Number of Questions"})]})}),jsxRuntimeExports.jsxs(TableBody,{children:[jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:"Not Visited"}),jsxRuntimeExports.jsx(TableCell,{children:b.filter(X=>X.s==="nvd").length})]}),jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:"Not Answered"}),jsxRuntimeExports.jsx(TableCell,{children:b.filter(X=>X.s==="nad").length})]}),jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:"Answered"}),jsxRuntimeExports.jsx(TableCell,{children:b.filter(X=>X.s==="asd").length})]}),jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:"Marked for Review"}),jsxRuntimeExports.jsx(TableCell,{children:b.filter(X=>X.s==="mfr").length})]}),jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:"Answered & Marked for Review (Will be considered for evalution)"}),jsxRuntimeExports.jsx(TableCell,{children:b.filter(X=>X.s==="amr").length})]})]})]})})}),jsxRuntimeExports.jsxs(DialogActions,{children:[jsxRuntimeExports.jsx(Button,{variant:"outlined",onClick:at,children:"CONFIRM & SUBMIT"}),jsxRuntimeExports.jsx(Button,{variant:"contained",onClick:_t,children:"BACK"})]})]})]})}pdfjs$1.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-feabdf30.js",self.location).toString();const Result=()=>{const{userName:k,userRes:e,setPage:L,examParams:i}=useTestStore();let f=0,W=0,O=0,ot=0;const b=e.map((u,a)=>(W=W+u.m[0],u.e=1,(u.s==="asd"||u.s==="amr")&&(u.r==u.a?(f=f+u.m[0],u.e=2,O=O+1):(f=f-u.m[1],u.e=3,ot=ot+1)),{...u})),R=e.length,[l,I]=reactExports.useState(0),P=u=>{I(u)},w=()=>l===R-1?0:l+1,_=()=>{let u=w();I(u)},A=()=>l===0?R-1:l-1,m=()=>{let u=A();I(u)},[y,C]=reactExports.useState(!1),x=()=>C(u=>!u);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LeftDrawer,{}),jsxRuntimeExports.jsxs(Box,{flexGrow:1,children:[jsxRuntimeExports.jsx(NavBarColor,{}),jsxRuntimeExports.jsxs(Stack,{direction:"row",children:[jsxRuntimeExports.jsxs(Box,{overflow:"auto",maxHeight:"calc(100dvh - 64px)",minWidth:"400px",maxWidth:"700px",children:[jsxRuntimeExports.jsx(Box,{border:1,m:1,children:jsxRuntimeExports.jsx(Document$1,{file:i.meta.pdfUrl,children:jsxRuntimeExports.jsx(Page,{pageNumber:l+1,renderTextLayer:!1,renderAnnotationLayer:!1})})}),jsxRuntimeExports.jsxs(Stack,{direction:"row",justifyContent:"space-between",m:1,alignItems:"center",children:[jsxRuntimeExports.jsx(Button,{onClick:m,variant:"outlined",startIcon:jsxRuntimeExports.jsx(ArrowBack,{}),children:" Previous "}),jsxRuntimeExports.jsxs(Button,{variant:"contained",onClick:x,children:["Question: ",l+1," / ",R]}),jsxRuntimeExports.jsx(Button,{onClick:_,variant:"outlined",endIcon:jsxRuntimeExports.jsx(ArrowForward,{}),children:" NEXT "})]}),b[l].t===1?jsxRuntimeExports.jsx(Box,{children:b[l].o.map((u,a)=>jsxRuntimeExports.jsx(Typography,{border:2,borderRadius:2,borderColor:a===b[l].r&&b[l].e===3?"red":"gray",bgcolor:a==b[l].a?"#96ff96":"#fff",m:1,p:1,value:a,children:u},a))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===2?jsxRuntimeExports.jsxs(Box,{p:2,children:[jsxRuntimeExports.jsx(TextField,{fullWidth:!0,type:"number",disabled:!0,value:b[l].r||""}),jsxRuntimeExports.jsxs(Typography,{pt:2,children:['Correct answer is "',b[l].a,'"']})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===3?jsxRuntimeExports.jsxs(Box,{p:2,children:[jsxRuntimeExports.jsx(TextField,{type:"text",disabled:!0,fullWidth:!0,value:b[l].r||""}),jsxRuntimeExports.jsxs(Typography,{pt:2,children:['Correct answer is "',b[l].a,'"']})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===4?jsxRuntimeExports.jsx(Box,{children:["A","B","C","D"].map((u,a)=>jsxRuntimeExports.jsxs(Typography,{border:2,borderRadius:2,borderColor:a===b[l].r&&b[l].e===3?"red":"gray",bgcolor:a===b[l].a?"#96ff96":"#fff",m:1,p:1,value:a,children:["Option ",u]},a))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===5?jsxRuntimeExports.jsx(Box,{children:["A","B","C","D","E"].map((u,a)=>jsxRuntimeExports.jsxs(Typography,{border:2,borderRadius:2,borderColor:a===b[l].r&&b[l].e===3?"red":"gray",bgcolor:a===b[l].a?"#96ff96":"#fff",m:1,p:1,value:a,children:["Option ",u]},a))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})]}),jsxRuntimeExports.jsxs(Box,{maxHeight:"calc(100dvh - 64px)",flexGrow:1,p:1,pt:0,children:[jsxRuntimeExports.jsx(Box,{bgcolor:"primary.main",p:2,sx:{borderBottomRightRadius:"34px",borderBottomLeftRadius:"34px"},children:jsxRuntimeExports.jsxs(Typography,{textAlign:"center",fontSize:"1.3rem",color:"#fff",children:[i.meta.tName," test"]})}),jsxRuntimeExports.jsx(Box,{my:1,children:jsxRuntimeExports.jsxs(Grid,{container:!0,children:[jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,lg:6,p:1,children:jsxRuntimeExports.jsxs(Card,{sx:{p:1,bgcolor:"#cafa80"},elevation:4,children:[jsxRuntimeExports.jsxs(Typography,{variant:"h4",align:"center",color:"#1aa81a",children:[jsxRuntimeExports.jsx("b",{children:f}),"/",jsxRuntimeExports.jsx("span",{style:{fontSize:"1rem"},children:W})]}),jsxRuntimeExports.jsxs(Typography,{variant:"subtitle2",align:"center",color:"#1aa81a",children:["Obtained Score (",Math.ceil(100*f/W),"%)"]})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,lg:6,p:1,children:jsxRuntimeExports.jsxs(Card,{direction:"row",sx:{p:1,bgcolor:"#d0f2fe"},elevation:4,children:[jsxRuntimeExports.jsxs(Typography,{variant:"h4",align:"center",color:"#0c53b7",children:[jsxRuntimeExports.jsx("b",{children:O+ot==0?0:Math.ceil(100*O/(O+ot))}),jsxRuntimeExports.jsx("span",{style:{fontSize:"1rem"},children:"%"})]}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",align:"center",color:"#0c53b7",children:"Accuracy"})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,lg:6,p:1,children:jsxRuntimeExports.jsxs(Card,{direction:"row",sx:{p:1,bgcolor:"#fff7cc"},elevation:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",align:"center",color:"#7a4f01",children:jsxRuntimeExports.jsx("b",{children:O})}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",align:"center",color:"#7a4f01",children:"Correct Answers"})]})}),jsxRuntimeExports.jsx(Grid,{item:!0,xs:12,lg:6,p:1,children:jsxRuntimeExports.jsxs(Card,{direction:"row",sx:{p:1,bgcolor:"#ffe7d9"},elevation:4,children:[jsxRuntimeExports.jsx(Typography,{variant:"h4",align:"center",color:"#831938",children:jsxRuntimeExports.jsx("b",{children:ot})}),jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",align:"center",color:"#831938",children:"Incorrect Answers"})]})})]})}),jsxRuntimeExports.jsx(Button,{sx:{mt:1},fullWidth:!0,startIcon:jsxRuntimeExports.jsx(RemoveRedEye,{}),onClick:x,variant:"outlined",children:"See All Responses "})]})]})]}),jsxRuntimeExports.jsx(Dialog,{open:y,onClose:x,children:jsxRuntimeExports.jsxs(DialogContent,{sx:{p:1},children:[jsxRuntimeExports.jsx(Box,{sx:{m:1,ml:0},children:jsxRuntimeExports.jsxs("div",{className:"m33",children:[jsxRuntimeExports.jsx("span",{className:"nvd",style:{margin:"4px"},children:b.filter(u=>u.s==="nvd").length}),jsxRuntimeExports.jsx("div",{children:"Not Visited"}),jsxRuntimeExports.jsx("span",{className:"nad",style:{margin:"4px"},children:b.filter(u=>u.s==="nad").length}),jsxRuntimeExports.jsx("div",{children:"Not Answered"}),jsxRuntimeExports.jsx("span",{className:"asd",style:{margin:"4px"},children:b.filter(u=>u.s==="asd").length}),jsxRuntimeExports.jsx("div",{children:"Answered"}),jsxRuntimeExports.jsx("span",{className:"mfr",style:{margin:"4px"},children:b.filter(u=>u.s==="mfr").length}),jsxRuntimeExports.jsx("div",{children:"Marked for Review"}),jsxRuntimeExports.jsx("span",{className:"amr",style:{margin:"4px"},children:b.filter(u=>u.s==="amr").length}),jsxRuntimeExports.jsx("div",{className:"m33j",children:"Answered & Marked for Review (Considered for evalution)"})]})}),jsxRuntimeExports.jsx(TableContainer,{children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHead,{children:jsxRuntimeExports.jsxs(TableRow,{sx:{backgroundColor:"#eee"},children:[jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Q. No."}),jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Status"}),jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Score"}),jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Evaluation result"})]})}),jsxRuntimeExports.jsx(TableBody,{children:b.map((u,a)=>jsxRuntimeExports.jsxs(TableRow,{onClick:()=>P(a),children:[jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:a+1}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:jsxRuntimeExports.jsx("div",{className:u.s,style:{margin:"auto",width:"24px",height:"24px",backgroundRepeat:"no-repeat",backgroundSize:"contain"}})}),u.e===1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:"0"}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"}})]}):u.e===2?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:u.m[0]}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:jsxRuntimeExports.jsx(CheckCircle,{color:"success"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(TableCell,{sx:{textAlign:"center"},children:["- ",u.m[1]]}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:jsxRuntimeExports.jsx(CancelRounded,{color:"error"})})]})]},a))})]})})]})})]})};pdfjs$1.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-feabdf30.js",self.location).toString();const ResultMobile=()=>{const[k,e]=reactExports.useState(!0),L=()=>e(x=>!x),{userName:i,userRes:f,setPage:W,examParams:O}=useTestStore(),ot=()=>{W(0)};let b=0,R=0;const l=f.map((x,u)=>(R=R+x.m[0],x.e=1,(x.s==="asd"||x.s==="amr")&&(x.r==x.a?(b=b+x.m[0],x.e=2):(b=b-x.m[1],x.e=3)),{...x})),I=f.length,[P,w]=reactExports.useState(0),_=x=>{w(x),e(!1)},A=()=>P===I-1?0:P+1,m=()=>{let x=A();w(x)},y=()=>P===0?I-1:P-1,C=()=>{let x=y();w(x)};return jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(AppBar,{position:"sticky",children:jsxRuntimeExports.jsxs(Toolbar,{sx:{justifyContent:"space-between",display:"flex"},children:[jsxRuntimeExports.jsx(IconButton,{color:"inherit",onClick:L,children:jsxRuntimeExports.jsx(Menu,{})}),jsxRuntimeExports.jsx(Button,{onClick:ot,variant:"outlined",size:"small",endIcon:jsxRuntimeExports.jsx(Home,{}),color:"inherit",children:"Home"})]})}),jsxRuntimeExports.jsx(Drawer,{anchor:"left",open:k,onClose:L,variant:"temporary",sx:{width:"70dvw"},children:jsxRuntimeExports.jsxs(Box,{width:"70dvw",children:[jsxRuntimeExports.jsxs(Box,{border:5,borderRadius:2,sx:{m:1,p:1},children:[jsxRuntimeExports.jsxs(Stack,{direction:"row",alignItems:"center",children:[jsxRuntimeExports.jsx(Avatar,{sx:{bgcolor:"gold"},children:jsxRuntimeExports.jsx(EmojiEvents,{})}),jsxRuntimeExports.jsxs(Typography,{variant:"h5",textAlign:"center",flexGrow:1,fontWeight:"bold",color:"green",children:[" SCORE: ",b]})]}),jsxRuntimeExports.jsxs(Typography,{pt:1,textAlign:"center",children:["FULL MARKS: ",R]})]}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Box,{p:1,children:jsxRuntimeExports.jsxs("div",{className:"m33",children:[jsxRuntimeExports.jsx("span",{className:"nvd",style:{margin:"4px"},children:l.filter(x=>x.s==="nvd").length}),jsxRuntimeExports.jsx("div",{children:"Not Visited"}),jsxRuntimeExports.jsx("span",{className:"nad",style:{margin:"4px"},children:l.filter(x=>x.s==="nad").length}),jsxRuntimeExports.jsx("div",{children:"Not Answered"}),jsxRuntimeExports.jsx("span",{className:"asd",style:{margin:"4px"},children:l.filter(x=>x.s==="asd").length}),jsxRuntimeExports.jsx("div",{children:"Answered"}),jsxRuntimeExports.jsx("span",{className:"mfr",style:{margin:"4px"},children:l.filter(x=>x.s==="mfr").length}),jsxRuntimeExports.jsx("div",{children:"Marked for Review"}),jsxRuntimeExports.jsx("span",{className:"amr",style:{margin:"4px"},children:l.filter(x=>x.s==="amr").length}),jsxRuntimeExports.jsx("div",{className:"m33j",children:"Answered & Marked for Review (Considered for evalution)"})]})}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(TableContainer,{children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHead,{children:jsxRuntimeExports.jsxs(TableRow,{sx:{backgroundColor:"#eee"},children:[jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Q. No."}),jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Status"}),jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Score"}),jsxRuntimeExports.jsx(TableCell,{sx:{px:1,textAlign:"center"},children:"Evaluation result"})]})}),jsxRuntimeExports.jsx(TableBody,{children:l.map((x,u)=>jsxRuntimeExports.jsxs(TableRow,{onClick:()=>_(u),children:[jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:u+1}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:jsxRuntimeExports.jsx("div",{className:x.s,style:{margin:"auto",width:"24px",height:"24px",backgroundRepeat:"no-repeat",backgroundSize:"contain"}})}),x.e===1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:"0"}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"}})]}):x.e===2?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:x.m[0]}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:jsxRuntimeExports.jsx(CheckCircle,{color:"success"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(TableCell,{sx:{textAlign:"center"},children:["- ",x.m[1]]}),jsxRuntimeExports.jsx(TableCell,{sx:{textAlign:"center"},children:jsxRuntimeExports.jsx(CancelRounded,{color:"error"})})]})]},u))})]})})]})}),jsxRuntimeExports.jsxs(Box,{children:[l[P].e===1?jsxRuntimeExports.jsxs(Stack,{direction:"row",justifyContent:"space-between",bgcolor:"#345578",color:"#fff",py:1,px:2,children:[jsxRuntimeExports.jsxs(Typography,{children:["Q. ",P+1," "]}),jsxRuntimeExports.jsx(Typography,{children:"Not Answered (Mark: 0)"})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),l[P].e===2?jsxRuntimeExports.jsxs(Stack,{direction:"row",justifyContent:"space-between",bgcolor:"green",color:"#fff",py:1,px:2,children:[jsxRuntimeExports.jsxs(Typography,{children:["Q. ",P+1," "]}),jsxRuntimeExports.jsxs(Typography,{children:["Correct Answer (Mark: + ",l[P].m[0],")"]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),l[P].e===3?jsxRuntimeExports.jsxs(Stack,{direction:"row",justifyContent:"space-between",bgcolor:"#e02f49",color:"#fff",py:1,px:2,children:[jsxRuntimeExports.jsxs(Typography,{children:["Q. ",P+1," "]}),jsxRuntimeExports.jsxs(Typography,{children:["Incorrect Answer (Mark: - ",l[P].m[1],")"]})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx(Document$1,{file:O.meta.pdfUrl,children:jsxRuntimeExports.jsx(Page,{pageNumber:P+1,renderTextLayer:!1,renderAnnotationLayer:!1})}),l[P].t===1?jsxRuntimeExports.jsx(Box,{mb:15,children:l[P].o.map((x,u)=>jsxRuntimeExports.jsx(Typography,{border:2,borderRadius:2,borderColor:u===l[P].r&&l[P].e===3?"red":"gray",bgcolor:u==l[P].a?"#96ff96":"#fff",m:1,p:1,value:u,children:x},u))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),l[P].t===2?jsxRuntimeExports.jsxs(Box,{p:2,children:[jsxRuntimeExports.jsx(TextField,{fullWidth:!0,type:"number",disabled:!0,value:l[P].r||""}),jsxRuntimeExports.jsxs(Typography,{pt:2,children:['Correct answer is "',l[P].a,'"']})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),l[P].t===3?jsxRuntimeExports.jsxs(Box,{p:2,children:[jsxRuntimeExports.jsx(TextField,{type:"text",disabled:!0,fullWidth:!0,value:l[P].r||""}),jsxRuntimeExports.jsxs(Typography,{pt:2,children:['Correct answer is "',l[P].a,'"']})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),l[P].t===4?jsxRuntimeExports.jsx(Box,{mb:15,children:["A","B","C","D"].map((x,u)=>jsxRuntimeExports.jsxs(Typography,{border:2,borderRadius:2,borderColor:u===l[P].r&&l[P].e===3?"red":"gray",bgcolor:u===l[P].a?"#96ff96":"#fff",m:1,p:1,value:u,children:["Option ",x]},u))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),l[P].t===5?jsxRuntimeExports.jsx(Box,{mb:15,children:["A","B","C","D","E"].map((x,u)=>jsxRuntimeExports.jsxs(Typography,{border:2,borderRadius:2,borderColor:u===l[P].r&&l[P].e===3?"red":"gray",bgcolor:u===l[P].a?"#96ff96":"#fff",m:1,p:1,value:u,children:["Option ",x]},u))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx(Box,{position:"fixed",bottom:0,width:"100%",children:jsxRuntimeExports.jsxs(ButtonGroup$1,{variant:"contained",fullWidth:!0,children:[jsxRuntimeExports.jsx(Button,{onClick:C,startIcon:jsxRuntimeExports.jsx(ArrowBack,{}),children:" Previous "}),jsxRuntimeExports.jsx(Button,{onClick:m,endIcon:jsxRuntimeExports.jsx(ArrowForward,{}),children:" NEXT "})]})})]})]})};pdfjs$1.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.min-feabdf30.js",self.location).toString();const Mobile=()=>{const[k,e]=reactExports.useState(!1),L=()=>e(X=>!X),{userName:i,setPage:f,examParams:W,setUserRes:O}=useTestStore(),ot=W.quesAns.length,[b,R]=reactExports.useState(W.quesAns.map(X=>({s:"nvd",r:null,...X}))),[l,I]=reactExports.useState(0),[P,w]=reactExports.useState(null),_=X=>{w(X),R(v=>(v[l].r=X,v[l].s==="mfr"&&(v[l].s="amr"),v))},A=X=>{w(X.target.value)};reactExports.useEffect(()=>{b[l].s==="nvd"&&R(X=>(X[l].s="nad",X))},[l]);const m=X=>{I(parseInt(X.target.dataset.key)),w(b[parseInt(X.target.dataset.key)].r),e(!1)},y=()=>l===ot-1?0:l+1,C=()=>{let X=y();I(X),w(b[X].r)},x=()=>l===0?ot-1:l-1,u=()=>{let X=x();I(X),w(b[X].r)},a=()=>{R(X=>(X[l].s="nad",X[l].r=null,w(null),X))},h=()=>{R(X=>(X[l].s=P!==null?"amr":"mfr",X)),C()},M=()=>{R(X=>(X[l].s=P!==null?"asd":"nad",X[l].r=P,X)),C()},[E,c]=reactExports.useState(W.meta.timeMinutes*6e4),[F,g]=reactExports.useState(null),[H,z]=reactExports.useState(null);let T=new Date(E);const q=()=>{c(X=>X-1e3)};var st,at;const $=W.meta.showAns?7:4,ht=()=>{st(),at(),document.exitFullscreen(),f($),O(b)},gt=()=>{clearInterval(F),clearTimeout(H),document.exitFullscreen(),f($),O(b)},_t=()=>{let X=setInterval(q,1e3);g(X);let v=setTimeout(ht,E);z(v),st=()=>clearInterval(X),at=()=>clearTimeout(v)};return reactExports.useState(!1),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(AppBar,{position:"sticky",children:jsxRuntimeExports.jsxs(Toolbar,{sx:{justifyContent:"space-between",display:"flex"},children:[jsxRuntimeExports.jsx(IconButton,{color:"inherit",onClick:L,children:jsxRuntimeExports.jsx(Menu,{})}),jsxRuntimeExports.jsxs("span",{style:{backgroundColor:`${E<12e4?"red":"#5cb85c"}`,color:"whitesmoke",padding:"2px 10px",borderRadius:"5px",fontWeight:"bold"},children:[("0"+T.getUTCHours()).slice(-2),":",("0"+T.getUTCMinutes()).slice(-2),":",("0"+T.getUTCSeconds()).slice(-2)]}),jsxRuntimeExports.jsx(Box,{borderRadius:3,px:2,py:.4,color:"#b6b6b6",bgcolor:"#fff",onClick:gt,children:"Submit"})]})}),jsxRuntimeExports.jsx(Drawer,{anchor:"left",open:k,onClose:L,variant:"temporary",sx:{width:"70dvw"},children:jsxRuntimeExports.jsxs(Box,{width:"70dvw",children:[jsxRuntimeExports.jsxs("div",{className:"m33",children:[jsxRuntimeExports.jsx("span",{className:"nvd",children:b.filter(X=>X.s==="nvd").length}),jsxRuntimeExports.jsx("div",{children:"Not Visited"}),jsxRuntimeExports.jsx("span",{className:"nad",children:b.filter(X=>X.s==="nad").length}),jsxRuntimeExports.jsx("div",{children:"Not Answered"}),jsxRuntimeExports.jsx("span",{className:"asd",children:b.filter(X=>X.s==="asd").length}),jsxRuntimeExports.jsx("div",{children:"Answered"}),jsxRuntimeExports.jsx("span",{className:"mfr",children:b.filter(X=>X.s==="mfr").length}),jsxRuntimeExports.jsx("div",{children:"Marked for Review"}),jsxRuntimeExports.jsx("span",{className:"amr",children:b.filter(X=>X.s==="amr").length}),jsxRuntimeExports.jsx("div",{className:"m33j",children:"Answered & Marked for Review (Will be considered for evalution)"})]}),jsxRuntimeExports.jsx("aside",{className:"m34",children:b.map((X,v)=>jsxRuntimeExports.jsx("div",{className:X.s,onClick:m,"data-key":v,children:v+1},v))})]})}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Stack,{direction:"row",justifyContent:"space-between",bgcolor:"#345578",color:"#fff",py:1,px:2,children:[jsxRuntimeExports.jsxs(Typography,{children:["Q. ",l+1," "]}),jsxRuntimeExports.jsxs(Typography,{children:["Correct + ",b[l].m[0]," : Wrong - ",b[l].m[1]]})]}),jsxRuntimeExports.jsx(Document$1,{file:W.meta.pdfUrl,onLoadSuccess:_t,children:jsxRuntimeExports.jsx(Page,{pageNumber:l+1,renderTextLayer:!1,renderAnnotationLayer:!1})}),b[l].t===1?jsxRuntimeExports.jsx(Box,{mb:15,children:b[l].o.map((X,v)=>jsxRuntimeExports.jsx(Typography,{border:2,borderRadius:2,bgcolor:v==P?"#96ff96":"#fff",onClick:()=>_(v),m:1,p:1,value:v,children:X},v))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===2?jsxRuntimeExports.jsxs(Box,{p:2,children:[" ",jsxRuntimeExports.jsx(Typography,{pb:2,children:"Important: For your answer, please provide a number with two decimal places in the text box (e.g., 1.23)."})," ",jsxRuntimeExports.jsx(TextField,{fullWidth:!0,type:"number",value:P===null?"":P,onChange:A})," "]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===3?jsxRuntimeExports.jsxs(Box,{p:2,children:[" ",jsxRuntimeExports.jsx(Typography,{pb:2,children:"Important: Answer with one word in lowercase only (e.g., example). "}),jsxRuntimeExports.jsx(TextField,{type:"text",fullWidth:!0,spellCheck:"false",value:P===null?"":P,onChange:A})," "]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===4?jsxRuntimeExports.jsx(Box,{mb:15,children:["A","B","C","D"].map((X,v)=>jsxRuntimeExports.jsxs(Typography,{border:2,borderRadius:2,bgcolor:v==P?"#96ff96":"#fff",onClick:()=>_(v),m:1,p:1,value:v,children:["Option ",X]},v))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),b[l].t===5?jsxRuntimeExports.jsx(Box,{mb:15,children:["A","B","C","D","E"].map((X,v)=>jsxRuntimeExports.jsxs(Typography,{border:2,borderRadius:2,bgcolor:v==P?"#96ff96":"#fff",onClick:()=>_(v),m:1,p:1,value:v,children:["Option ",X]},v))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx(Box,{position:"fixed",bottom:0,children:jsxRuntimeExports.jsxs(ButtonGroup$1,{variant:"contained",children:[jsxRuntimeExports.jsxs(Button,{size:"small",onClick:u,children:[" ",jsxRuntimeExports.jsx(ArrowBack,{})," "]}),jsxRuntimeExports.jsx(Button,{size:"small",color:"inherit",onClick:a,"data-i":"clr",children:" CLEAR RESPONSE "}),jsxRuntimeExports.jsx(Button,{size:"small",color:"warning",onClick:h,"data-i":"mfr",children:" MARK FOR REVIEW & NEXT "}),jsxRuntimeExports.jsx(Button,{size:"small",color:"success",onClick:M,"data-i":"svn",children:" SAVE & NEXT "})]})})]})]})},MockTest=()=>{const{page:k}=useTestStore();switch(k){case 0:return jsxRuntimeExports.jsx(Password,{});case 1:return jsxRuntimeExports.jsx(Instruction,{});case 2:return jsxRuntimeExports.jsx(NTA,{});case 3:return jsxRuntimeExports.jsx(Result,{});case 4:return"Thank You your response has been submitted";case 5:return jsxRuntimeExports.jsx(Mobile,{});case 7:return jsxRuntimeExports.jsx(ResultMobile,{});default:return jsxRuntimeExports.jsx(Password,{})}};export{MockTest as default};
