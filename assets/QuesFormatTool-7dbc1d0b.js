import{r as n,j as e,B as o,v as L,L as k}from"./index-459c5962.js";import{u as B,E as O}from"./paperStore-d6201150.js";import{u as Q,L as b}from"./LeftDrawer-ad77a716.js";import{R as P}from"./RightDrawer-d6011d5c.js";import{F as q}from"./Footer-c0047b0c.js";import{N as M}from"./NavBarColorful-1e818740.js";import{B as G}from"./appStore-653fb111.js";import{T as H}from"./ShoppingCartSharp-1684c5a4.js";import"./Divider-866e4931.js";import"./Grid-83f7f219.js";function $(){const c=Q("(min-width:1200px)"),[l,p]=n.useState(null),[m,d]=n.useState(!0),a=n.useRef(null),{setExamName:u,setTestName:f,setShowAnswers:g,setTime:h,setHasSections:x,setInterfaceType:j,setSections:y,setOptionType:D,setDisplayInterface:F,setTypedQuestions:T,setNumberOfQuestions:w,setQuesAns:E}=B(),i=t=>{p(t);const r=new FileReader;r.onload=v=>{const I=v.target.result,s=JSON.parse(I);u(s.meta.eName),f(s.meta.tName),h(s.meta.timeMinutes),g(s.meta.showAns),x(s.meta.section),y(s.meta.category.list),D(s.quesAns[0].t),T(!0),w(s.quesAns.length),j(s.meta.interface),E(s.quesAns),F(0),d(!1)},r.readAsText(t)},N=t=>{t.preventDefault(),t.stopPropagation()},S=t=>{t.preventDefault(),t.stopPropagation()},A=t=>{t.preventDefault(),t.stopPropagation();const r=t.dataTransfer.files[0];i(r)},C=()=>{a.current.click()},R=t=>{const r=t.target.files[0];i(r)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs(o,{flexGrow:1,children:[e.jsx(M,{}),l?e.jsx(e.Fragment,{children:m?e.jsx(L,{}):e.jsx(o,{style:{display:"grid",justifyContent:"center",alignItems:"center",height:"80dvh"},children:e.jsx(G,{component:k,variant:"contained",to:"/papersubmit",startIcon:e.jsx(O,{}),children:" Edit now"})})}):e.jsxs(o,{sx:{display:"grid",justifyContent:"center",alignItems:"center",border:"2px dashed #ccc",borderRadius:8,padding:"2rem",height:"60dvh",cursor:"pointer",m:2},onDragEnter:N,onDragOver:S,onDrop:A,onClick:C,children:[e.jsx("input",{type:"file",style:{display:"none"},ref:a,onChange:R,accept:".json"}),e.jsx(H,{children:"Drag and drop that .json file here or click to choose file"})]}),e.jsx(q,{})]}),c?e.jsx(P,{}):e.jsx(e.Fragment,{})]})}export{$ as default};
