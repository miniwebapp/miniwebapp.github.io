import{r as h,j as e,B as i,v as P,L as A}from"./index-459c5962.js";import{u as G,E as q}from"./paperStore-d6201150.js";import{u as J,L as H,a as s,c as o}from"./LeftDrawer-ad77a716.js";import{R as M}from"./RightDrawer-d6011d5c.js";import{F as z}from"./Footer-c0047b0c.js";import{N as W}from"./NavBarColorful-1e818740.js";import{T as a}from"./ShoppingCartSharp-1684c5a4.js";import{G as m}from"./Grid-83f7f219.js";import{B as Y,P as K,L as U}from"./appStore-653fb111.js";import{T as V,a as X,b as Z,c as y,d as l,e as _}from"./TableRow-06cf3f00.js";import"./Divider-866e4931.js";function de(){const T=J("(min-width:1200px)"),[x,b]=h.useState(null),[w,D]=h.useState(!0),u=h.useRef(null),{setExamName:C,setTestName:v,setOptionType:F,setDisplayInterface:E,setTypedQuestions:L,setNumberOfQuestions:O,setQuesAns:k,quesAns:j}=G(),f=t=>{b(t);const r=new FileReader;r.onload=c=>{const p=c.target.result,d=JSON.parse(p);let g=d.messages.filter(n=>n.poll).map(n=>({q:n.poll.question,t:1,m:[4,1],a:null,o:n.poll.answers.map(S=>S.text)}));k(g),C(d.name),v(d.id),O(g.length),L(!0),F(1),E(0),D(!1)},r.readAsText(t)},B=t=>{t.preventDefault(),t.stopPropagation()},I=t=>{t.preventDefault(),t.stopPropagation()},N=t=>{t.preventDefault(),t.stopPropagation();const r=t.dataTransfer.files[0];f(r)},Q=()=>{u.current.click()},R=t=>{const r=t.target.files[0];f(r)};return e.jsxs(e.Fragment,{children:[e.jsx(H,{}),e.jsxs(i,{flexGrow:1,children:[e.jsx(W,{}),x?e.jsx(e.Fragment,{children:w?e.jsx(P,{}):e.jsxs(i,{p:3,children:[e.jsxs(a,{variant:"overline",children:["Telegram Poll Analytics from ",x.name]}),e.jsxs(m,{container:!0,justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsx(m,{item:!0,children:e.jsxs(a,{variant:"body1",gutterBottom:!0,children:["Total Questions: ",j.length]})}),e.jsx(m,{item:!0,children:e.jsx(Y,{variant:"contained",color:"primary",startIcon:e.jsx(q,{}),component:A,to:"/papersubmit",children:"Edit Questions"})})]}),e.jsx(V,{component:K,children:e.jsxs(X,{children:[e.jsx(Z,{children:e.jsxs(y,{children:[e.jsx(l,{children:"Question"}),e.jsx(l,{children:"Options"})]})}),e.jsx(_,{children:j.map((t,r)=>e.jsxs(y,{children:[e.jsx(l,{children:t.q}),e.jsx(l,{children:t.o.map((c,p)=>e.jsx("div",{children:c},p))})]},r))})]})})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(i,{p:4,children:[e.jsxs(a,{fontWeight:"bold",textAlign:"justify",pb:3,children:[e.jsx("strong",{children:"Important:"})," Before exporting, you should confirm that you have obtained consent from all members of any chat you are exporting. You understand that exporting group chat or channel without permission may violate privacy."]}),e.jsx(a,{variant:"body1",paragraph:!0,gutterBottom:!0,textAlign:"justify",children:"To download your chat history, you'll need to use the official Telegram desktop app:"}),e.jsxs(U,{children:[e.jsx(s,{children:e.jsx(o,{primary:"1. Download and install the Telegram desktop app for your operating system:"})}),e.jsx(s,{children:e.jsx(o,{primary:"2. Open the app and log in to your Telegram account."})}),e.jsx(s,{children:e.jsx(o,{primary:"3. Go to 'Chat to be exported' > 'Click on 3 dots at top right corner' > 'Export Chat History'."})}),e.jsx(s,{children:e.jsx(o,{primary:"4. Carefully review the options for exporting your data. Choose which chat histories you want to download."})}),e.jsx(s,{children:e.jsx(o,{primary:"5. Select 'JSON' as the export format."})}),e.jsx(s,{children:e.jsx(o,{primary:"6. Telegram will ask for your confirmation before proceeding with the export. Ensure you understand the process and are comfortable with it before confirming."})}),e.jsx(s,{children:e.jsx(o,{primary:"7. Once the export is complete, you can find the JSON file on your computer."})})]})]}),e.jsxs(i,{sx:{display:"grid",justifyContent:"center",alignItems:"center",border:"2px dashed #ccc",borderRadius:8,padding:"2rem",height:200,cursor:"pointer",m:2},onDragEnter:B,onDragOver:I,onDrop:N,onClick:Q,children:[e.jsx("input",{type:"file",style:{display:"none"},ref:u,onChange:R,accept:".json"}),e.jsx(a,{children:"Drag and drop that .json file here or click to choose file"})]})]}),e.jsx(z,{})]}),T?e.jsx(M,{}):e.jsx(e.Fragment,{})]})}export{de as default};
