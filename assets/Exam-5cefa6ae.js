import{r as o,j as e}from"./index-b8c10478.js";import{D as re,P as ae}from"./entry.vite-2b2a85b6.js";import{D as le,a as ce}from"./dialogTitleClasses-5d5def16.js";import{D as ie}from"./DialogTitle-7b0acc13.js";import{T as oe,a as B}from"./App-ba80ca30.js";import{D as de}from"./DialogContent-1ea7adf2.js";import{T as me,a as he,b as xe,c as u,d as i,e as ue}from"./TableRow-f656835c.js";const je=()=>{document.getElementsByClassName("m3")[0].requestFullscreen()};function we(y){const t=y.i,T=y.e,M=t.uEmail,k=t.cKey,[O,I]=o.useState(t.cLang[0]),L=s=>{I(s.target.value)},p=o.useRef(null),U=()=>{p.current.scrollTo({top:p.current.scrollHeight})},P=()=>{p.current.scrollTo({top:0})},[N,F]=o.useState(t.tTime*6e4),[Q,K]=o.useState(null),[W,$]=o.useState(null),H=()=>{clearInterval(Q),clearTimeout(W),T(Object.assign({},t,{uRes:d,uTable:l,page:"result"}))};var S,A;const V=()=>{S(),A(),T(Object.assign({},t,{uRes:d,uTable:l,page:"result"}))};let h=new Date(N);const z=()=>{F(s=>s-1e3)},[d,j]=o.useState(t.tAns.map(s=>["nvd",null])),[l,b]=o.useState({nvd:t.tAns.length,nad:0,asd:0,mfr:0,amr:0}),[G,X]=o.useState(null),[m,E]=o.useState(1),Y=({numPages:s})=>{X(s);let n=setInterval(z,1e3);K(n);let c=setTimeout(V,t.tTime*6e4);$(c),S=()=>clearInterval(n),A=()=>clearTimeout(c),j(a=>(a[0][0]="nad",a)),b(a=>(a.nvd-=1,a.nad+=1,a))},[x,g]=o.useState(d[m-1][1]),f=s=>{g(s.target.value),j(n=>(n[m-1][1]=s.target.value,n))},R=s=>{d[s][0]==="nvd"&&(j(n=>(n[s][0]="nad",n)),b(n=>(n.nvd-=1,n.nad+=1,n)))},_=s=>{let n=parseInt(s.target.dataset.key);g(d[n][1]),E(n+1),R(n)},J=()=>{let s=m===G?0:m;g(d[s][1]),E(s+1),R(s)},C=s=>{let n="nad";switch(s.target.dataset.i){case"clr":g(null),j(r=>(r[c][1]=null,r));break;case"mfr":n=x===null?"mfr":"amr";break;case"svn":n=x===null?"nad":"asd";break}let c=m-1,a=d[c][0];j(r=>(r[c][0]=n,r)),b(r=>(r[a]-=1,r[n]+=1,r)),J()},[Z,q]=o.useState(!1),w=()=>q(s=>!s),ee=async s=>{const n=new TextEncoder().encode(s);return await crypto.subtle.digest("SHA-256",n)};function D(s){let n=window.atob(s),c=n.length,a=new Uint8Array(c);for(let r=0;r<c;r++)a[r]=n.charCodeAt(r);return a.buffer}async function se(s){return await crypto.subtle.importKey("raw",s,{name:"AES-CBC"},!0,["decrypt","encrypt"])}const ne=async s=>{let n=await ee(M),c=await se(n),a=D(k.slice(0,22)+"=="),r=D(k.slice(22));try{let v=await crypto.subtle.decrypt({name:"AES-CBC",iv:a},c,r),te=new TextDecoder("utf-8");s(te.decode(v))}catch(v){console.error("Error: Name: ",v.name,", Message: ",v.message)}};return e.jsxs("div",{className:"m",style:{height:"100vh"},children:[e.jsx("nav",{className:"m1"}),e.jsx("header",{className:"m2",children:e.jsxs("div",{className:"m21",children:[e.jsx("table",{className:"m211",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{rowSpan:"4",className:"m2112",style:{backgroundImage:`url(${t.uAvatar})`}}),e.jsx("td",{children:"Candidate Name"}),e.jsx("td",{children:": "}),e.jsx("td",{className:"m2115",children:t.uName})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Exam Name"}),e.jsx("td",{children:": "}),e.jsx("td",{className:"m2116",children:t.eName})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Subject Name"}),e.jsx("td",{children:": "}),e.jsx("td",{className:"m2117",children:t.tName})]}),e.jsxs("tr",{className:"m213",children:[e.jsx("td",{children:"Remaining Time"}),e.jsx("td",{children:": "}),e.jsx("td",{children:e.jsxs("span",{style:{backgroundColor:`${N<12e4?"red":"#5cb85c"}`,color:"whitesmoke",padding:"2px 10px",borderRadius:"5px",fontWeight:"bold"},children:[("0"+h.getUTCHours()).slice(-2),":",("0"+h.getUTCMinutes()).slice(-2),":",("0"+h.getUTCSeconds()).slice(-2)]})})]})]})}),e.jsx("select",{className:"m212",value:O,onChange:L,children:t.cLang.map((s,n)=>e.jsx("option",{value:s,children:s},n))})]})}),e.jsxs("div",{className:"m3",children:[e.jsxs("main",{className:"m31",ref:p,children:[e.jsxs("div",{className:"m3110",children:[e.jsx("span",{onClick:U,id:"up",className:"m31101",children:e.jsxs("svg",{version:"1.1",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",width:30,children:[e.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#44f"}),e.jsx("path",{d:"m17.575 4.0336-.24009 20.602-3.3133-4.3701-4.0816 3.3136 10.084 10.997 10.372-11.286-3.9856-3.1215-3.7455 4.8984c-.048018-6.9954-.096037-13.991-.14406-20.986z",fill:"#fff"})]})}),e.jsxs("h4",{children:["Question number: ",m]})]}),e.jsx(re,{file:`./courses/${t.cId}/${t.tId}English.pdf`,onLoadSuccess:Y,onPassword:ne,children:e.jsx(ae,{pageNumber:m,renderTextLayer:!1,renderAnnotationLayer:!1})}),e.jsxs("div",{className:"m3112",children:[e.jsxs("label",{htmlFor:"option-one",children:[e.jsx("input",{id:"option-one",name:"radio",value:"A",type:"radio",checked:x==="A",onChange:f})," (A)"]}),e.jsxs("label",{htmlFor:"option-two",children:[e.jsx("input",{id:"option-two",name:"radio",value:"B",type:"radio",checked:x==="B",onChange:f})," (B)"]}),e.jsxs("label",{htmlFor:"option-three",children:[e.jsx("input",{id:"option-three",name:"radio",value:"C",type:"radio",checked:x==="C",onChange:f})," (C)"]}),e.jsxs("label",{htmlFor:"option-four",children:[e.jsx("input",{id:"option-four",name:"radio",value:"D",type:"radio",checked:x==="D",onChange:f})," (D)"]})]}),e.jsx("div",{className:"m3110",children:e.jsx("span",{onClick:P,className:"m31101",children:e.jsxs("svg",{version:"1.1",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",width:30,children:[e.jsx("circle",{cx:"20",cy:"20",r:"20",fill:"#44f"}),e.jsx("path",{d:"m22.761 34.577.24009-20.602 3.3133 4.3701 4.0816-3.3136-10.084-10.997-10.372 11.286 3.9856 3.1215 3.7455-4.8984c.04802 6.9954.09604 13.991.14406 20.986z",fill:"#fff"})]})})})]}),e.jsxs("div",{className:"m32",children:[e.jsx("button",{className:"m3211",onClick:C,"data-i":"clr",children:" CLEAR RESPONSE "}),e.jsx("button",{className:"m3212",onClick:C,"data-i":"mfr",children:" MARK FOR REVIEW "}),e.jsx("button",{className:"m3213",onClick:C,"data-i":"svn",children:" SAVE & NEXT "})]}),e.jsxs("div",{className:"m33",children:[e.jsx("span",{className:"nvd",children:l.nvd}),e.jsx("div",{children:"Not Visited"}),e.jsx("span",{className:"nad",children:l.nad}),e.jsx("div",{children:"Not Answered"}),e.jsx("span",{className:"asd",children:l.asd}),e.jsx("div",{children:"Answered"}),e.jsx("span",{className:"mfr",children:l.mfr}),e.jsx("div",{children:"Marked for Review"}),e.jsx("span",{className:"amr",children:l.amr}),e.jsx("div",{className:"m33j",children:"Answered & Marked for Review (Will be considered for evalution)"})]}),e.jsx("aside",{className:"m34",children:d.map((s,n)=>e.jsx("div",{className:s[0],onClick:_,"data-key":n,children:n+1},n))}),e.jsxs("div",{className:"opt",children:[e.jsx("button",{className:"m35 m36",onClick:je,children:"Fullscreen"}),e.jsx("span",{className:"m35",children:e.jsxs("span",{style:{backgroundColor:`${N<12e4?"red":"#5cb85c"}`,color:"whitesmoke",padding:"2px 10px",borderRadius:"5px",fontWeight:"bold"},children:[("0"+h.getUTCHours()).slice(-2),":",("0"+h.getUTCMinutes()).slice(-2),":",("0"+h.getUTCSeconds()).slice(-2)]})}),e.jsx("button",{onClick:w,style:{backgroundColor:"GrayText",cursor:"not-allowed"},children:"SUBMIT"})]})]}),e.jsx("footer",{className:"m4"}),e.jsxs(le,{open:Z,onClose:w,children:[e.jsx(ie,{children:e.jsx(oe,{fontWeight:"bold",align:"center",color:"primary",children:"PLEASE CONFIRM YOUR RESPONSES"})}),e.jsx(de,{children:e.jsx(me,{children:e.jsxs(he,{border:2,children:[e.jsx(xe,{children:e.jsxs(u,{sx:{backgroundColor:"#eee"},children:[e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Number of Questions"})]})}),e.jsxs(ue,{children:[e.jsxs(u,{children:[e.jsx(i,{children:"Not Visited"}),e.jsx(i,{children:l.nvd})]}),e.jsxs(u,{children:[e.jsx(i,{children:"Not Answered"}),e.jsx(i,{children:l.nad})]}),e.jsxs(u,{children:[e.jsx(i,{children:"Answered"}),e.jsx(i,{children:l.asd})]}),e.jsxs(u,{children:[e.jsx(i,{children:"Marked for Review"}),e.jsx(i,{children:l.mfr})]}),e.jsxs(u,{children:[e.jsx(i,{children:"Answered & Marked for Review (Will be considered for evalution)"}),e.jsx(i,{children:l.amr})]})]})]})})}),e.jsxs(ce,{children:[e.jsx(B,{variant:"outlined",onClick:H,children:"CONFIRM & SUBMIT"}),e.jsx(B,{variant:"contained",onClick:w,children:"BACK"})]})]})]})}export{we as default};
