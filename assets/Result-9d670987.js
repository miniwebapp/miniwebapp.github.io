import{r as y,u as I,j as e}from"./index-b8c10478.js";import{D as K,P}from"./entry.vite-2b2a85b6.js";import{B as H,T as d,a as u}from"./App-ba80ca30.js";import{S as b}from"./Stack-bc093b72.js";import{B as M}from"./ButtonGroup-228a35d0.js";import{D as O,a as F}from"./dialogTitleClasses-5d5def16.js";import{D as G}from"./DialogContent-1ea7adf2.js";import{T as L,a as U,b as Y,c as C,d as a,e as $}from"./TableRow-f656835c.js";const te=A=>{const r=A.i,w=r.uEmail,f=r.cKey,[k,v]=y.useState(!1),p=()=>v(t=>!t),T=I(),B=()=>{T("/home")},R=t=>{switch(t){case"nvd":return"Not Visited";case"nad":return"Not Answered";case"asd":return"Answered";case"mfr":return"Marked for Review";case"amr":return"Answered & Marked for Review"}};let l=0;const i=r.uRes.map((t,s)=>{let o="inherit";return(t[0]==="asd"||t[0]==="amr")&&(t[1]===r.tAns[s]?(o="#71eb71",l=l+4):(o="#eb7171",l=l-1)),[s+1,R(t[0]),t[1],r.tAns[s],o]}),[n,g]=y.useState(0),S=()=>{let t=n===i.length-1?0:n+1;g(t)},D=()=>{let t=n===0?i.length-1:n-1;g(t)},x=t=>{g(parseInt(t.target.dataset.i)),p()},E=async t=>{const s=new TextEncoder().encode(t);return await crypto.subtle.digest("SHA-256",s)};function j(t){let s=window.atob(t),o=s.length,h=new Uint8Array(o);for(let c=0;c<o;c++)h[c]=s.charCodeAt(c);return h.buffer}async function Q(t){return await crypto.subtle.importKey("raw",t,{name:"AES-CBC"},!0,["decrypt","encrypt"])}const N=async t=>{let s=await E(w),o=await Q(s),h=j(f.slice(0,22)+"=="),c=j(f.slice(22));try{let m=await crypto.subtle.decrypt({name:"AES-CBC",iv:h},o,c),W=new TextDecoder("utf-8");t(W.decode(m))}catch(m){console.error("Error: Name: ",m.name,", Message: ",m.message)}};return e.jsxs(H,{p:1,maxWidth:"sm",mx:"auto",children:[e.jsxs(b,{direction:"row",display:"flex",justifyContent:"space-between",alignItems:"stretch",py:1,children:[e.jsxs(d,{variant:"h5",bgcolor:"success.main",fontFamily:"monospace",flexGrow:1,mr:1,textAlign:"center",p:1,borderRadius:1,color:"#fff",fontWeight:"bold",children:["You scored ",l," out of ",r.uRes.length*4]}),e.jsx(u,{variant:"contained",color:"warning",onClick:B,children:"Home"})]}),e.jsxs(b,{justifyContent:"space-between",alignItems:"center",p:1,sx:{border:"1px solid blue",backgroundColor:i[n][4],borderRadius:1},children:[e.jsxs(d,{variant:"h6",children:[" Correct answer is ",i[n][3]]}),e.jsxs(d,{variant:"h6",children:[" You have choosen ",i[n][2]]}),e.jsxs(d,{variant:"h6",textAlign:"center",children:[" Question status is ",i[n][1]]}),e.jsxs(d,{variant:"h6",children:[" Question number ",n+1," / ",r.tAns.length]})]}),e.jsx(K,{file:`./courses/${r.cId}/${r.tId}English.pdf`,onPassword:N,children:e.jsx(P,{pageNumber:n+1,renderAnnotationLayer:!1,renderTextLayer:!1})}),e.jsxs(M,{fullWidth:!0,children:[e.jsx(u,{variant:"contained",fullWidth:!0,sx:{mb:3},onClick:D,children:"Previous"}),e.jsx(u,{color:"secondary",autoFocus:!0,fullWidth:!0,sx:{mb:3},onClick:p,children:"Question wise view"}),e.jsx(u,{variant:"contained",fullWidth:!0,sx:{mb:3},onClick:S,children:"NEXT"})]}),e.jsxs(O,{open:k,children:[e.jsx(G,{sx:{p:1},children:e.jsx(L,{children:e.jsxs(U,{children:[e.jsx(Y,{children:e.jsxs(C,{sx:{backgroundColor:"#eee"},children:[e.jsx(a,{sx:{px:1,textAlign:"center"},children:"Question Number"}),e.jsx(a,{sx:{px:1,textAlign:"center"},children:"Status"}),e.jsx(a,{sx:{px:1,textAlign:"center"},children:"Choosen answer"}),e.jsx(a,{sx:{px:1,textAlign:"center"},children:"Correct answer"})]})}),e.jsx($,{children:i.map((t,s)=>e.jsxs(C,{sx:{backgroundColor:t[4]},children:[e.jsx(a,{"data-i":s,onClick:x,sx:{textAlign:"center"},children:t[0]}),e.jsx(a,{"data-i":s,onClick:x,sx:{textAlign:"center"},children:t[1]}),e.jsx(a,{"data-i":s,onClick:x,sx:{textAlign:"center"},children:t[2]}),e.jsx(a,{"data-i":s,onClick:x,sx:{textAlign:"center"},children:t[3]})]},s))})]})})}),e.jsx(F,{children:e.jsx(u,{variant:"contained",onClick:p,children:"BACK"})})]})]})};export{te as default};
